(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/packages/ui/Button.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Button",
    ()=>Button
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
'use client';
;
;
const Button = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["forwardRef"])(_c = function Button({ variant = 'primary', size = 'md', className = '', children, ...props }, ref) {
    const baseStyles = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';
    const variantStyles = {
        primary: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900',
        secondary: 'bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',
        outline: 'bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',
        ghost: 'bg-transparent text-gray-900 hover:bg-gray-100 focus:ring-gray-500'
    };
    const sizeStyles = {
        sm: 'px-3 py-1.5 text-sm',
        md: 'px-4 py-2 text-base',
        lg: 'px-6 py-3 text-lg'
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
        ref: ref,
        className: `${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`,
        ...props,
        children: children
    }, void 0, false, {
        fileName: "[project]/packages/ui/Button.tsx",
        lineNumber: 32,
        columnNumber: 7
    }, this);
});
_c1 = Button;
var _c, _c1;
__turbopack_context__.k.register(_c, "Button$forwardRef");
__turbopack_context__.k.register(_c1, "Button");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/packages/ui/Card.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Card",
    ()=>Card
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
'use client';
;
;
const Card = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["forwardRef"])(_c = function Card({ className = '', children, ...props }, ref) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: ref,
        className: `bg-white border border-gray-200 rounded-lg shadow-sm ${className}`,
        ...props,
        children: children
    }, void 0, false, {
        fileName: "[project]/packages/ui/Card.tsx",
        lineNumber: 12,
        columnNumber: 7
    }, this);
});
_c1 = Card;
var _c, _c1;
__turbopack_context__.k.register(_c, "Card$forwardRef");
__turbopack_context__.k.register(_c1, "Card");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/packages/ui/Input.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Input",
    ()=>Input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
'use client';
;
;
const Input = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["forwardRef"])(_c = function Input({ label, error, className = '', onKeyDown, ...props }, ref) {
    // Ensure pipe character (|) works in all input fields
    const handleKeyDown = (e)=>{
        // Allow pipe character (|) - key code 220 or Shift+Backslash
        if (e.key === '|' || e.keyCode === 220 || e.shiftKey && e.key === '\\') {
            // Allow the default behavior for pipe character
            return;
        }
        // Call original onKeyDown if provided
        if (onKeyDown) {
            onKeyDown(e);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "w-full",
        children: [
            label && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "block text-sm font-medium text-gray-700 mb-1",
                children: label
            }, void 0, false, {
                fileName: "[project]/packages/ui/Input.tsx",
                lineNumber: 29,
                columnNumber: 11
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                ref: ref,
                className: `w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed ${error ? 'border-error focus:ring-error' : 'border-gray-300'} ${className}`,
                onKeyDown: handleKeyDown,
                ...props
            }, void 0, false, {
                fileName: "[project]/packages/ui/Input.tsx",
                lineNumber: 33,
                columnNumber: 9
            }, this),
            error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "mt-1 text-sm text-error",
                children: error
            }, void 0, false, {
                fileName: "[project]/packages/ui/Input.tsx",
                lineNumber: 42,
                columnNumber: 11
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/packages/ui/Input.tsx",
        lineNumber: 27,
        columnNumber: 7
    }, this);
});
_c1 = Input;
var _c, _c1;
__turbopack_context__.k.register(_c, "Input$forwardRef");
__turbopack_context__.k.register(_c1, "Input");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Card$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Card.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-client] (ecmascript)");
;
;
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BasicInformation",
    ()=>BasicInformation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function BasicInformation({ productType, setProductType, title, slug, descriptionHtml, onTitleChange, onSlugChange, onDescriptionChange }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.basicInformation')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                lineNumber: 32,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-4",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: [
                                    t('admin.products.add.productType'),
                                    " *"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 36,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-xs text-gray-500 mb-3",
                                children: t('admin.products.add.productTypeDescription')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 39,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                name: "productType",
                                                value: "simple",
                                                checked: productType === 'simple',
                                                onChange: (e)=>setProductType(e.target.value),
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 44,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.productTypeSimple')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 52,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                        lineNumber: 43,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                name: "productType",
                                                value: "variable",
                                                checked: productType === 'variable',
                                                onChange: (e)=>setProductType(e.target.value),
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 55,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.productTypeVariable')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 63,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                        lineNumber: 54,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 42,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-1",
                                children: [
                                    t('admin.products.add.title'),
                                    " *"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 69,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                type: "text",
                                value: title,
                                onChange: onTitleChange,
                                required: true,
                                placeholder: t('admin.products.add.productTitlePlaceholder')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 72,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 68,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-1",
                                children: [
                                    t('admin.products.add.slug'),
                                    " *"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 82,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                type: "text",
                                value: slug,
                                onChange: onSlugChange,
                                required: true,
                                placeholder: t('admin.products.add.productSlugPlaceholder')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 85,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 81,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-1",
                                children: t('admin.products.add.description')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 95,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                rows: 6,
                                value: descriptionHtml,
                                onChange: onDescriptionChange,
                                placeholder: t('admin.products.add.productDescriptionPlaceholder')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 98,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 94,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
        lineNumber: 31,
        columnNumber: 5
    }, this);
}
_s(BasicInformation, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = BasicInformation;
var _c;
__turbopack_context__.k.register(_c, "BasicInformation");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/ProductImages.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ProductImages",
    ()=>ProductImages
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
function ProductImages({ imageUrls, featuredImageIndex, imageUploadLoading, imageUploadError, fileInputRef, onUploadImages, onRemoveImage, onSetFeaturedImage }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.mainProductImage')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                lineNumber: 31,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                            className: "block text-sm font-medium text-gray-700 mb-2",
                            children: [
                                t('admin.products.add.productImages'),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-xs text-gray-500 ml-2",
                                    children: [
                                        "(",
                                        t('admin.products.add.uploadMultipleImages'),
                                        ")"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 36,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 34,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mb-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    type: "button",
                                    onClick: ()=>fileInputRef.current?.click(),
                                    disabled: imageUploadLoading,
                                    className: "px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                            className: "w-5 h-5",
                                            fill: "none",
                                            stroke: "currentColor",
                                            viewBox: "0 0 24 24",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                strokeWidth: 2,
                                                d: "M12 4v16m8-8H4"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 48,
                                                columnNumber: 17
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                            lineNumber: 47,
                                            columnNumber: 15
                                        }, this),
                                        imageUploadLoading ? t('admin.products.add.uploading') : t('admin.products.add.uploadImages')
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 41,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    ref: fileInputRef,
                                    type: "file",
                                    accept: "image/*",
                                    multiple: true,
                                    onChange: onUploadImages,
                                    className: "hidden"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 52,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 40,
                            columnNumber: 11
                        }, this),
                        imageUrls.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",
                            children: imageUrls.map((imageUrl, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative group",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: `relative border-2 rounded-md overflow-hidden ${featuredImageIndex === index ? 'border-blue-500 ring-2 ring-blue-300' : 'border-gray-300'}`,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                src: imageUrl,
                                                alt: `Product image ${index + 1}`,
                                                className: "w-full h-48 object-cover"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 72,
                                                columnNumber: 21
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute top-2 left-2",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                    className: "flex items-center gap-2 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md cursor-pointer hover:bg-white transition-colors",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                            type: "checkbox",
                                                            checked: featuredImageIndex === index,
                                                            onChange: ()=>onSetFeaturedImage(index),
                                                            className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                            lineNumber: 81,
                                                            columnNumber: 25
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-xs font-medium text-gray-700",
                                                            children: featuredImageIndex === index ? t('admin.products.add.main') : t('admin.products.add.setAsMain')
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                            lineNumber: 87,
                                                            columnNumber: 25
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                    lineNumber: 80,
                                                    columnNumber: 23
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 79,
                                                columnNumber: 21
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: ()=>onRemoveImage(index),
                                                className: "absolute top-2 right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",
                                                title: t('admin.products.add.removeImage'),
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                    className: "w-4 h-4",
                                                    fill: "none",
                                                    stroke: "currentColor",
                                                    viewBox: "0 0 24 24",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                        strokeLinecap: "round",
                                                        strokeLinejoin: "round",
                                                        strokeWidth: 2,
                                                        d: "M6 18L18 6M6 6l12 12"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                        lineNumber: 101,
                                                        columnNumber: 25
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                    lineNumber: 100,
                                                    columnNumber: 23
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 94,
                                                columnNumber: 21
                                            }, this),
                                            featuredImageIndex === index && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute bottom-2 left-2 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",
                                                children: t('admin.products.add.main')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 107,
                                                columnNumber: 23
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                        lineNumber: 67,
                                        columnNumber: 19
                                    }, this)
                                }, index, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 66,
                                    columnNumber: 17
                                }, this))
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 64,
                            columnNumber: 13
                        }, this),
                        imageUploadError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mt-2 text-sm text-red-600",
                            children: imageUploadError
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 118,
                            columnNumber: 13
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                    lineNumber: 33,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                lineNumber: 32,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
        lineNumber: 30,
        columnNumber: 5
    }, this);
}
_s(ProductImages, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = ProductImages;
var _c;
__turbopack_context__.k.register(_c, "ProductImages");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CategoriesBrands",
    ()=>CategoriesBrands
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function CategoriesBrands({ categories, brands, categoryIds, brandIds, categoriesExpanded, brandsExpanded, useNewCategory, useNewBrand, newCategoryName, newBrandName, onCategoriesExpandedChange, onBrandsExpandedChange, onUseNewCategoryChange, onUseNewBrandChange, onNewCategoryNameChange, onNewBrandNameChange, onCategoryIdsChange, onBrandIdsChange, onPrimaryCategoryIdChange, isClothingCategory, onVariantsUpdate }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    // Build category tree structure
    const buildCategoryTree = ()=>{
        const categoryMap = new Map();
        const rootCategories = [];
        // First pass: create map and identify root categories
        categories.forEach((category)=>{
            categoryMap.set(category.id, {
                ...category,
                children: []
            });
        });
        // Second pass: build tree structure
        categories.forEach((category)=>{
            if (category.parentId && categoryMap.has(category.parentId)) {
                const parent = categoryMap.get(category.parentId);
                const child = categoryMap.get(category.id);
                parent.children.push(child);
            } else {
                rootCategories.push(categoryMap.get(category.id));
            }
        });
        // Flatten tree for display (parent first, then children)
        const flattenTree = (nodes, result = [])=>{
            nodes.forEach((node)=>{
                result.push({
                    ...node,
                    isSubcategory: false
                });
                if (node.children && node.children.length > 0) {
                    node.children.forEach((child)=>{
                        result.push({
                            ...child,
                            isSubcategory: true
                        });
                    });
                }
            });
            return result;
        };
        return flattenTree(rootCategories);
    };
    const displayCategories = buildCategoryTree();
    const handleCategoryChange = (categoryId, checked)=>{
        const newCategoryIds = checked ? [
            ...categoryIds,
            categoryId
        ] : categoryIds.filter((id)=>id !== categoryId);
        // Set primary category if it's the first one
        const newPrimaryCategoryId = newCategoryIds.length > 0 ? newCategoryIds[0] : '';
        const selectedCategory = categories.find((cat)=>cat.id === categoryId);
        const newIsSizeRequired = selectedCategory?.requiresSizes ?? false;
        onCategoryIdsChange(newCategoryIds);
        onPrimaryCategoryIdChange(newPrimaryCategoryId);
        // If size requirement changed and variants need to be cleared
        if (onVariantsUpdate) {
            const wasSizeRequired = isClothingCategory();
            if (wasSizeRequired && !newIsSizeRequired && newCategoryIds.length === 0) {
                onVariantsUpdate((prev)=>prev.map((v)=>({
                            ...v,
                            sizes: [],
                            sizeStocks: {},
                            size: ''
                        })));
            }
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.categoriesAndBrands')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                lineNumber: 130,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: [
                                    t('admin.products.add.categories'),
                                    " ",
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-500 font-normal",
                                        children: t('admin.products.add.selectMultiple')
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 135,
                                        columnNumber: 50
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 134,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "select-category",
                                                name: "category-mode",
                                                checked: !useNewCategory,
                                                onChange: ()=>{
                                                    onUseNewCategoryChange(false);
                                                    onNewCategoryNameChange('');
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 139,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "select-category",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.selectExistingCategories')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 150,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 138,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "new-category",
                                                name: "category-mode",
                                                checked: useNewCategory,
                                                onChange: ()=>{
                                                    onUseNewCategoryChange(true);
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 155,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "new-category",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.addNewCategory')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 165,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 154,
                                        columnNumber: 13
                                    }, this),
                                    !useNewCategory ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "relative",
                                        "data-category-dropdown": true,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: ()=>onCategoriesExpandedChange(!categoriesExpanded),
                                                className: "w-full px-3 py-2 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm flex items-center justify-between",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-gray-700",
                                                        children: categoryIds.length === 0 ? t('admin.products.add.selectCategories') : categoryIds.length === 1 ? t('admin.products.add.categorySelected').replace('{count}', categoryIds.length.toString()) : t('admin.products.add.categoriesSelected').replace('{count}', categoryIds.length.toString())
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 176,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                        className: `w-4 h-4 text-gray-500 transition-transform duration-200 ${categoriesExpanded ? 'transform rotate-180' : ''}`,
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M19 9l-7 7-7-7"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                            lineNumber: 191,
                                                            columnNumber: 21
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 183,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 171,
                                                columnNumber: 17
                                            }, this),
                                            categoriesExpanded && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "p-2",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "space-y-1",
                                                        children: displayCategories.map((category)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                className: `flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded ${category.isSubcategory ? 'pl-6' : ''}`,
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "checkbox",
                                                                        checked: categoryIds.includes(category.id),
                                                                        onChange: (e)=>handleCategoryChange(category.id, e.target.checked),
                                                                        className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 205,
                                                                        columnNumber: 29
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: `text-gray-700 ${category.isSubcategory ? 'text-xs' : 'text-sm font-semibold'}`,
                                                                        children: category.title
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 211,
                                                                        columnNumber: 29
                                                                    }, this)
                                                                ]
                                                            }, category.id, true, {
                                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                lineNumber: 199,
                                                                columnNumber: 27
                                                            }, this))
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 197,
                                                        columnNumber: 23
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                    lineNumber: 196,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 195,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 170,
                                        columnNumber: 15
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-3",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                            type: "text",
                                            value: newCategoryName,
                                            onChange: (e)=>onNewCategoryNameChange(e.target.value),
                                            placeholder: t('admin.products.add.enterNewCategoryName'),
                                            className: "w-full"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                            lineNumber: 227,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 226,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 137,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                        lineNumber: 133,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: [
                                    t('admin.products.add.brands'),
                                    " ",
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-500 font-normal",
                                        children: t('admin.products.add.selectMultiple')
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 242,
                                        columnNumber: 46
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 241,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "select-brand",
                                                name: "brand-mode",
                                                checked: !useNewBrand,
                                                onChange: ()=>{
                                                    onUseNewBrandChange(false);
                                                    onNewBrandNameChange('');
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 246,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "select-brand",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.selectExistingBrands')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 257,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 245,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "new-brand",
                                                name: "brand-mode",
                                                checked: useNewBrand,
                                                onChange: ()=>{
                                                    onUseNewBrandChange(true);
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 262,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "new-brand",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.addNewBrand')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 272,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 261,
                                        columnNumber: 13
                                    }, this),
                                    !useNewBrand ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "relative",
                                        "data-brand-dropdown": true,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: ()=>onBrandsExpandedChange(!brandsExpanded),
                                                className: "w-full px-3 py-2 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm flex items-center justify-between",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-gray-700",
                                                        children: brandIds.length === 0 ? t('admin.products.add.selectBrands') : brandIds.length === 1 ? t('admin.products.add.brandSelected').replace('{count}', brandIds.length.toString()) : t('admin.products.add.brandsSelected').replace('{count}', brandIds.length.toString())
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 283,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                        className: `w-4 h-4 text-gray-500 transition-transform duration-200 ${brandsExpanded ? 'transform rotate-180' : ''}`,
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M19 9l-7 7-7-7"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                            lineNumber: 298,
                                                            columnNumber: 21
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 290,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 278,
                                                columnNumber: 17
                                            }, this),
                                            brandsExpanded && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "p-2",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "space-y-1",
                                                        children: brands.map((brand)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                className: "flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "checkbox",
                                                                        checked: brandIds.includes(brand.id),
                                                                        onChange: (e)=>{
                                                                            const newBrandIds = e.target.checked ? [
                                                                                ...brandIds,
                                                                                brand.id
                                                                            ] : brandIds.filter((id)=>id !== brand.id);
                                                                            onBrandIdsChange(newBrandIds);
                                                                        },
                                                                        className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 310,
                                                                        columnNumber: 29
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: "text-sm text-gray-700",
                                                                        children: brand.name
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 321,
                                                                        columnNumber: 29
                                                                    }, this)
                                                                ]
                                                            }, brand.id, true, {
                                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                lineNumber: 306,
                                                                columnNumber: 27
                                                            }, this))
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 304,
                                                        columnNumber: 23
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                    lineNumber: 303,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 302,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 277,
                                        columnNumber: 15
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                        type: "text",
                                        value: newBrandName,
                                        onChange: (e)=>onNewBrandNameChange(e.target.value),
                                        placeholder: t('admin.products.add.enterNewBrandName'),
                                        className: "w-full"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 330,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 244,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                        lineNumber: 240,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                lineNumber: 131,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
        lineNumber: 129,
        columnNumber: 5
    }, this);
}
_s(CategoriesBrands, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = CategoriesBrands;
var _c;
__turbopack_context__.k.register(_c, "CategoriesBrands");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SimpleProductFields",
    ()=>SimpleProductFields
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
function SimpleProductFields({ price, compareAtPrice, sku, quantity, defaultCurrency, onPriceChange, onCompareAtPriceChange, onSkuChange, onQuantityChange }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.productVariants')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                lineNumber: 34,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-white border border-gray-200 rounded-lg p-6 space-y-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: [
                                        t('admin.products.add.price'),
                                        " *"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 39,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                            type: "number",
                                            value: price,
                                            onChange: (e)=>onPriceChange(e.target.value),
                                            placeholder: t('admin.products.add.pricePlaceholder'),
                                            className: "flex-1",
                                            min: "0",
                                            step: "0.01",
                                            required: true
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 43,
                                            columnNumber: 15
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-sm text-gray-500 whitespace-nowrap",
                                            children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 53,
                                            columnNumber: 15
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 42,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 38,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: t('admin.products.add.compareAtPrice')
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 59,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                            type: "number",
                                            value: compareAtPrice,
                                            onChange: (e)=>onCompareAtPriceChange(e.target.value),
                                            placeholder: t('admin.products.add.pricePlaceholder'),
                                            className: "flex-1",
                                            min: "0",
                                            step: "0.01"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 63,
                                            columnNumber: 15
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-sm text-gray-500 whitespace-nowrap",
                                            children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 72,
                                            columnNumber: 15
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 62,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 58,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: [
                                        t('admin.products.add.sku'),
                                        " *"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 78,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                    type: "text",
                                    value: sku,
                                    onChange: (e)=>onSkuChange(e.target.value),
                                    placeholder: t('admin.products.add.autoGenerated'),
                                    className: "w-full",
                                    required: true
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 81,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 77,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: [
                                        t('admin.products.add.quantity'),
                                        " *"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 93,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                    type: "number",
                                    value: quantity,
                                    onChange: (e)=>onQuantityChange(e.target.value),
                                    placeholder: t('admin.products.add.quantityPlaceholder'),
                                    className: "w-full",
                                    min: "0",
                                    required: true
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 96,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 92,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                    lineNumber: 36,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                lineNumber: 35,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
        lineNumber: 33,
        columnNumber: 5
    }, this);
}
_s(SimpleProductFields, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = SimpleProductFields;
var _c;
__turbopack_context__.k.register(_c, "SimpleProductFields");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/lib/colorMap.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Shared color map for common color names used in filters and admin UI
// This helps render consistent color circles/palette based on color labels.
__turbopack_context__.s([
    "COLOR_MAP",
    ()=>COLOR_MAP,
    "getColorHex",
    ()=>getColorHex
]);
const COLOR_MAP = {
    beige: '#F5F5DC',
    black: '#000000',
    blue: '#0000FF',
    brown: '#A52A2A',
    gray: '#808080',
    grey: '#808080',
    green: '#008000',
    red: '#FF0000',
    white: '#FFFFFF',
    yellow: '#FFFF00',
    orange: '#FFA500',
    pink: '#FFC0CB',
    purple: '#800080',
    navy: '#000080',
    maroon: '#800000',
    teal: '#008080',
    cyan: '#00FFFF',
    magenta: '#FF00FF',
    lime: '#00FF00',
    olive: '#808000',
    silver: '#C0C0C0',
    gold: '#FFD700',
    tan: '#D2B48C',
    khaki: '#F0E68C',
    coral: '#FF7F50',
    salmon: '#FA8072',
    turquoise: '#40E0D0',
    violet: '#EE82EE',
    indigo: '#4B0082',
    crimson: '#DC143C',
    lavender: '#E6E6FA',
    peach: '#FFE5B4',
    mint: '#98FB98',
    ivory: '#FFFFF0',
    cream: '#FFFDD0'
};
function getColorHex(colorName) {
    const normalized = colorName.toLowerCase().trim();
    return COLOR_MAP[normalized] || '#CCCCCC';
}
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AttributesSelection",
    ()=>AttributesSelection
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/colorMap.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function AttributesSelection({ attributes, selectedAttributesForVariants, selectedAttributeValueIds, attributesDropdownOpen, attributesDropdownRef, onAttributesDropdownToggle, onAttributeToggle, onAttributeRemove }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.selectAttributesForVariants')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-white border border-gray-200 rounded-lg p-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                        className: "block text-sm font-medium text-gray-700 mb-3",
                        children: [
                            t('admin.products.add.attributes'),
                            " ",
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500 font-normal",
                                children: t('admin.products.add.selectMultiple')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                lineNumber: 36,
                                columnNumber: 48
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative",
                        ref: attributesDropdownRef,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                type: "button",
                                onClick: onAttributesDropdownToggle,
                                className: "w-full px-3 py-2 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm flex items-center justify-between",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-700",
                                        children: selectedAttributesForVariants.size === 0 ? t('admin.products.add.selectAttributes') : selectedAttributesForVariants.size === 1 ? t('admin.products.add.attributeSelected').replace('{count}', '1') : t('admin.products.add.attributesSelected').replace('{count}', selectedAttributesForVariants.size.toString())
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                        lineNumber: 44,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: `w-4 h-4 text-gray-500 transition-transform duration-200 ${attributesDropdownOpen ? 'transform rotate-180' : ''}`,
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M19 9l-7 7-7-7"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 59,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                        lineNumber: 51,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                lineNumber: 39,
                                columnNumber: 11
                            }, this),
                            attributesDropdownOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-96 overflow-y-auto",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "p-4",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "mb-3 pb-3 border-b border-gray-200",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                                    className: "text-sm font-semibold text-gray-900",
                                                    children: t('admin.products.add.selectAttributes')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 66,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                    className: "text-xs text-gray-500 mt-1",
                                                    children: t('admin.products.add.selectAttributesDescription')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 69,
                                                    columnNumber: 19
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 65,
                                            columnNumber: 17
                                        }, this),
                                        attributes.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-sm text-gray-500 text-center py-4",
                                            children: t('admin.products.add.noAttributesAvailable')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 74,
                                            columnNumber: 19
                                        }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",
                                            children: attributes.map((attribute)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                    className: `flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-3 rounded-lg border transition-colors ${selectedAttributesForVariants.has(attribute.id) ? 'bg-blue-50 border-blue-300' : 'border-gray-200 bg-white'}`,
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                            type: "checkbox",
                                                            checked: selectedAttributesForVariants.has(attribute.id),
                                                            onChange: (e)=>onAttributeToggle(attribute.id, e.target.checked),
                                                            className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                            lineNumber: 88,
                                                            columnNumber: 25
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-sm font-medium text-gray-900",
                                                            children: attribute.name
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                            lineNumber: 94,
                                                            columnNumber: 25
                                                        }, this)
                                                    ]
                                                }, attribute.id, true, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 80,
                                                    columnNumber: 23
                                                }, this))
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 78,
                                            columnNumber: 19
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                    lineNumber: 64,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                lineNumber: 63,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                        lineNumber: 38,
                        columnNumber: 9
                    }, this),
                    selectedAttributesForVariants.size > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mt-4 pt-4 border-t border-gray-200",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex flex-wrap gap-2",
                            children: Array.from(selectedAttributesForVariants).map((attributeId)=>{
                                const attribute = attributes.find((a)=>a.id === attributeId);
                                if (!attribute) return null;
                                // Get selected values for this attribute to show preview
                                const selectedValueIds = selectedAttributeValueIds[attributeId] || [];
                                const selectedValues = selectedValueIds.map((id)=>attribute.values.find((v)=>v.id === id)).filter((v)=>v !== null);
                                // Get first selected value's image if available
                                const previewImage = selectedValues.find((v)=>v.imageUrl)?.imageUrl;
                                const isColor = attribute.key === 'color';
                                const previewColor = isColor && selectedValues.length > 0 ? selectedValues[0].colors?.[0] || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getColorHex"])(selectedValues[0].label) : null;
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium border border-blue-200",
                                    children: [
                                        previewImage ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                            src: previewImage,
                                            alt: attribute.name,
                                            className: "w-4 h-4 object-cover rounded border border-gray-300"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 129,
                                            columnNumber: 23
                                        }, this) : previewColor ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "inline-block w-4 h-4 rounded-full border border-gray-300",
                                            style: {
                                                backgroundColor: previewColor
                                            }
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 135,
                                            columnNumber: 23
                                        }, this) : null,
                                        attribute.name,
                                        selectedValues.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-xs text-blue-600",
                                            children: [
                                                "(",
                                                selectedValues.length,
                                                ")"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 142,
                                            columnNumber: 23
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            type: "button",
                                            onClick: ()=>onAttributeRemove(attributeId),
                                            className: "ml-1 text-blue-600 hover:text-blue-800 focus:outline-none",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                className: "w-4 h-4",
                                                fill: "none",
                                                stroke: "currentColor",
                                                viewBox: "0 0 24 24",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                    strokeLinecap: "round",
                                                    strokeLinejoin: "round",
                                                    strokeWidth: 2,
                                                    d: "M6 18L18 6M6 6l12 12"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 152,
                                                    columnNumber: 25
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                lineNumber: 151,
                                                columnNumber: 23
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 146,
                                            columnNumber: 21
                                        }, this)
                                    ]
                                }, attributeId, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                    lineNumber: 124,
                                    columnNumber: 19
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                            lineNumber: 105,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                        lineNumber: 104,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                lineNumber: 34,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
        lineNumber: 32,
        columnNumber: 5
    }, this);
}
_s(AttributesSelection, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = AttributesSelection;
var _c;
__turbopack_context__.k.register(_c, "AttributesSelection");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "VariantBuilder",
    ()=>VariantBuilder
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/colorMap.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
function VariantBuilder({ generatedVariants, attributes, selectedAttributesForVariants, isEditMode, hasVariantsToLoad, defaultCurrency, imageUploadLoading, slug, title, variantImageInputRefs, onVariantUpdate, onVariantDelete, onVariantAdd, onApplyToAll, onVariantImageUpload, onOpenValueModal, generateSlug }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    // Get attributes to show in table header
    const getAttributesToShow = (variant)=>{
        if (selectedAttributesForVariants.size > 0) {
            return Array.from(selectedAttributesForVariants);
        }
        if (isEditMode && variant) {
            // Extract unique attribute IDs from this variant's values
            const attrIds = new Set();
            variant.selectedValueIds.forEach((valueId)=>{
                const attr = attributes.find((a)=>a.values.some((v)=>v.id === valueId));
                if (attr) attrIds.add(attr.id);
            });
            return Array.from(attrIds);
        }
        return [];
    };
    const attributesToShow = generatedVariants.length > 0 ? getAttributesToShow(generatedVariants[0]) : [];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.variantBuilder')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                lineNumber: 72,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-white border border-gray-200 rounded-lg p-6 space-y-6",
                children: generatedVariants.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex items-center justify-between mb-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                    className: "text-lg font-semibold text-gray-900",
                                    children: [
                                        t('admin.products.add.generatedVariants'),
                                        " (",
                                        generatedVariants.length.toString(),
                                        ")"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 78,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                            type: "button",
                                            variant: "outline",
                                            size: "sm",
                                            onClick: ()=>{
                                                const price = prompt(t('admin.products.add.enterDefaultPrice'));
                                                if (price !== null) {
                                                    onApplyToAll('price', price);
                                                }
                                            },
                                            children: t('admin.products.add.applyPriceToAll')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 82,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                            type: "button",
                                            variant: "outline",
                                            size: "sm",
                                            onClick: ()=>{
                                                const stock = prompt(t('admin.products.add.enterDefaultStock'));
                                                if (stock !== null) {
                                                    onApplyToAll('stock', stock);
                                                }
                                            },
                                            children: t('admin.products.add.applyStockToAll')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 95,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                            type: "button",
                                            variant: "outline",
                                            size: "sm",
                                            onClick: ()=>{
                                                const skuPrefix = prompt(t('admin.products.add.enterSkuPrefix'));
                                                if (skuPrefix !== null) {
                                                    const baseSlug = skuPrefix || slug || generateSlug(title) || 'PROD';
                                                    onVariantUpdate((prev)=>prev.map((variant)=>{
                                                            const valueParts = [];
                                                            Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                                                const attribute = attributes.find((a)=>a.id === attributeId);
                                                                if (!attribute) return;
                                                                const selectedIds = variant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                                                selectedIds.forEach((valueId)=>{
                                                                    const value = attribute.values.find((v)=>v.id === valueId);
                                                                    if (value) {
                                                                        valueParts.push(value.value.toUpperCase().replace(/\s+/g, '-'));
                                                                    }
                                                                });
                                                            });
                                                            const sku = valueParts.length > 0 ? `${baseSlug.toUpperCase()}-${valueParts.join('-')}` : `${baseSlug.toUpperCase()}`;
                                                            return {
                                                                ...variant,
                                                                sku
                                                            };
                                                        }));
                                                }
                                            },
                                            children: t('admin.products.add.applySkuToAll')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 108,
                                            columnNumber: 17
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 81,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                            lineNumber: 77,
                            columnNumber: 13
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "border border-gray-300 rounded-lg",
                            style: {
                                overflowX: 'hidden',
                                overflowY: 'hidden'
                            },
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("table", {
                                className: "w-full divide-y divide-gray-200 bg-white",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("thead", {
                                        className: "bg-gray-50",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("tr", {
                                            children: [
                                                attributesToShow.map((attributeId)=>{
                                                    const attribute = attributes.find((a)=>a.id === attributeId);
                                                    return attribute ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                        className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                        children: attribute.name
                                                    }, attributeId, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 158,
                                                        columnNumber: 25
                                                    }, this) : null;
                                                }),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.price')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 166,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.compareAtPrice')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 169,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.stock')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 172,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.sku')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 175,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.image')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 178,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",
                                                    children: t('admin.products.add.actions') || 'Actions'
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 181,
                                                    columnNumber: 21
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 154,
                                            columnNumber: 19
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                        lineNumber: 153,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("tbody", {
                                        className: "bg-white divide-y divide-gray-200",
                                        children: generatedVariants.map((variant)=>{
                                            const variantAttributesToShow = getAttributesToShow(variant);
                                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("tr", {
                                                className: "hover:bg-gray-50",
                                                children: [
                                                    variantAttributesToShow.map((attributeId)=>{
                                                        const attribute = attributes.find((a)=>a.id === attributeId);
                                                        if (!attribute) return null;
                                                        const isColor = attribute.key === 'color';
                                                        const selectedValueIds = variant.selectedValueIds.filter((id)=>{
                                                            return attribute.values.some((v)=>v.id === id);
                                                        });
                                                        const selectedValues = selectedValueIds.map((valueId)=>{
                                                            const value = attribute.values.find((v)=>v.id === valueId);
                                                            return value ? {
                                                                id: value.id,
                                                                label: value.label,
                                                                value: value.value,
                                                                colorHex: isColor ? value.colors?.[0] || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getColorHex"])(value.label) : null,
                                                                imageUrl: value.imageUrl || null
                                                            } : null;
                                                        }).filter((v)=>v !== null);
                                                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                            className: "px-2 py-2 whitespace-nowrap",
                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "relative",
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                    type: "button",
                                                                    onClick: ()=>{
                                                                        onOpenValueModal({
                                                                            variantId: variant.id,
                                                                            attributeId
                                                                        });
                                                                    },
                                                                    className: "w-full text-left flex items-center gap-1 p-1.5 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                            className: "flex-1 flex flex-wrap items-center gap-1 min-w-0",
                                                                            children: selectedValues.length > 0 ? selectedValues.map((val)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                    className: "inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded text-xs",
                                                                                    children: [
                                                                                        val.imageUrl ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                                                            src: val.imageUrl,
                                                                                            alt: val.label,
                                                                                            className: "w-3 h-3 object-cover rounded border border-gray-300"
                                                                                        }, void 0, false, {
                                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                            lineNumber: 233,
                                                                                            columnNumber: 45
                                                                                        }, this) : isColor && val.colorHex ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                            className: "inline-block w-3 h-3 rounded-full border border-gray-300",
                                                                                            style: {
                                                                                                backgroundColor: val.colorHex
                                                                                            }
                                                                                        }, void 0, false, {
                                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                            lineNumber: 239,
                                                                                            columnNumber: 45
                                                                                        }, this) : null,
                                                                                        val.label
                                                                                    ]
                                                                                }, val.id, true, {
                                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                    lineNumber: 228,
                                                                                    columnNumber: 41
                                                                                }, this)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                className: "text-xs text-gray-500",
                                                                                children: t('admin.products.add.valuesPlaceholder')
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 248,
                                                                                columnNumber: 39
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 225,
                                                                            columnNumber: 35
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                            className: "w-3 h-3 text-gray-400 transition-transform flex-shrink-0",
                                                                            fill: "none",
                                                                            stroke: "currentColor",
                                                                            viewBox: "0 0 24 24",
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                strokeLinecap: "round",
                                                                                strokeLinejoin: "round",
                                                                                strokeWidth: 2,
                                                                                d: "M19 9l-7 7-7-7"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 257,
                                                                                columnNumber: 37
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 251,
                                                                            columnNumber: 35
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 218,
                                                                    columnNumber: 33
                                                                }, this)
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                lineNumber: 217,
                                                                columnNumber: 31
                                                            }, this)
                                                        }, attributeId, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 216,
                                                            columnNumber: 29
                                                        }, this);
                                                    }),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center gap-1",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                                    type: "number",
                                                                    value: variant.price,
                                                                    onChange: (e)=>{
                                                                        onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                                    ...v,
                                                                                    price: e.target.value
                                                                                } : v));
                                                                    },
                                                                    placeholder: t('admin.products.add.pricePlaceholder'),
                                                                    className: "w-20 text-xs",
                                                                    min: "0",
                                                                    step: "0.01"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 266,
                                                                    columnNumber: 29
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: "text-xs text-gray-500",
                                                                    children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 279,
                                                                    columnNumber: 29
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 265,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 264,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center gap-1",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                                    type: "number",
                                                                    value: variant.compareAtPrice,
                                                                    onChange: (e)=>{
                                                                        onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                                    ...v,
                                                                                    compareAtPrice: e.target.value
                                                                                } : v));
                                                                    },
                                                                    placeholder: t('admin.products.add.pricePlaceholder'),
                                                                    className: "w-20 text-xs",
                                                                    min: "0",
                                                                    step: "0.01"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 284,
                                                                    columnNumber: 29
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: "text-xs text-gray-500",
                                                                    children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 297,
                                                                    columnNumber: 29
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 283,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 282,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                            type: "number",
                                                            value: variant.stock,
                                                            onChange: (e)=>{
                                                                onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                            ...v,
                                                                            stock: e.target.value
                                                                        } : v));
                                                            },
                                                            placeholder: t('admin.products.add.quantityPlaceholder'),
                                                            className: "w-16 text-xs",
                                                            min: "0"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 301,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 300,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                            type: "text",
                                                            value: variant.sku,
                                                            onChange: (e)=>{
                                                                onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                            ...v,
                                                                            sku: e.target.value
                                                                        } : v));
                                                            },
                                                            placeholder: t('admin.products.add.autoGenerated'),
                                                            className: "w-24 text-xs"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 315,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 314,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                variant.image ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "relative inline-block",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                                            src: variant.image,
                                                                            alt: "Variant image",
                                                                            className: "w-12 h-12 object-cover border border-gray-300 rounded-md"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 331,
                                                                            columnNumber: 33
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                            type: "button",
                                                                            onClick: ()=>{
                                                                                onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                                            ...v,
                                                                                            image: null
                                                                                        } : v));
                                                                                if (variantImageInputRefs.current?.[variant.id]) {
                                                                                    variantImageInputRefs.current[variant.id].value = '';
                                                                                }
                                                                            },
                                                                            className: "absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",
                                                                            title: t('admin.products.add.removeImage'),
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                                className: "w-2.5 h-2.5",
                                                                                fill: "none",
                                                                                stroke: "currentColor",
                                                                                viewBox: "0 0 24 24",
                                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                    strokeLinecap: "round",
                                                                                    strokeLinejoin: "round",
                                                                                    strokeWidth: 2,
                                                                                    d: "M6 18L18 6M6 6l12 12"
                                                                                }, void 0, false, {
                                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                    lineNumber: 350,
                                                                                    columnNumber: 37
                                                                                }, this)
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 349,
                                                                                columnNumber: 35
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 336,
                                                                            columnNumber: 33
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 330,
                                                                    columnNumber: 31
                                                                }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                    type: "button",
                                                                    onClick: ()=>variantImageInputRefs.current?.[variant.id]?.click(),
                                                                    disabled: imageUploadLoading,
                                                                    className: "px-2 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                            className: "w-3 h-3",
                                                                            fill: "none",
                                                                            stroke: "currentColor",
                                                                            viewBox: "0 0 24 24",
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                strokeLinecap: "round",
                                                                                strokeLinejoin: "round",
                                                                                strokeWidth: 2,
                                                                                d: "M12 4v16m8-8H4"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 362,
                                                                                columnNumber: 35
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 361,
                                                                            columnNumber: 33
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                            className: "hidden sm:inline",
                                                                            children: imageUploadLoading ? t('admin.products.add.uploading') : t('admin.products.add.uploadImage')
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 364,
                                                                            columnNumber: 33
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                            className: "sm:hidden",
                                                                            children: "+"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 367,
                                                                            columnNumber: 33
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 355,
                                                                    columnNumber: 31
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                    ref: (el)=>{
                                                                        if (variantImageInputRefs.current) {
                                                                            variantImageInputRefs.current[variant.id] = el;
                                                                        }
                                                                    },
                                                                    type: "file",
                                                                    accept: "image/*",
                                                                    onChange: (e)=>onVariantImageUpload(variant.id, e),
                                                                    className: "hidden"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 370,
                                                                    columnNumber: 29
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 328,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 327,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                            type: "button",
                                                            onClick: ()=>onVariantDelete(variant.id),
                                                            className: "px-2 py-1 text-xs font-medium text-red-700 bg-red-50 border border-red-300 rounded-md hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors flex items-center gap-1",
                                                            title: t('admin.products.add.deleteVariant') || 'Delete variant',
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                    className: "w-3 h-3",
                                                                    fill: "none",
                                                                    stroke: "currentColor",
                                                                    viewBox: "0 0 24 24",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                        strokeLinecap: "round",
                                                                        strokeLinejoin: "round",
                                                                        strokeWidth: 2,
                                                                        d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                        lineNumber: 391,
                                                                        columnNumber: 31
                                                                    }, this)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 390,
                                                                    columnNumber: 29
                                                                }, this),
                                                                t('admin.products.add.delete') || 'Delete'
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 384,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 383,
                                                        columnNumber: 25
                                                    }, this)
                                                ]
                                            }, variant.id, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                lineNumber: 191,
                                                columnNumber: 23
                                            }, this);
                                        })
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                        lineNumber: 186,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                lineNumber: 152,
                                columnNumber: 15
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                            lineNumber: 151,
                            columnNumber: 13
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mt-4 flex justify-end gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    type: "button",
                                    variant: "outline",
                                    onClick: onVariantAdd,
                                    children: t('admin.products.add.addVariant') || 'Add'
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 409,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    type: "button",
                                    onClick: ()=>{
                                        console.log(' [VARIANT BUILDER] Variants ready for submission:', generatedVariants);
                                    },
                                    children: t('admin.products.add.variantsReady') || 'Variants Ready'
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 412,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                            lineNumber: 408,
                            columnNumber: 13
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                    lineNumber: 76,
                    columnNumber: 11
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                lineNumber: 73,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
        lineNumber: 71,
        columnNumber: 5
    }, this);
}
_s(VariantBuilder, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = VariantBuilder;
var _c;
__turbopack_context__.k.register(_c, "VariantBuilder");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ProductLabels",
    ()=>ProductLabels
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function ProductLabels({ labels, onAddLabel, onRemoveLabel, onUpdateLabel }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between mb-4",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                        className: "text-xl font-semibold text-gray-900",
                        children: t('admin.products.add.productLabels')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 20,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                        type: "button",
                        variant: "outline",
                        onClick: onAddLabel,
                        children: t('admin.products.add.addLabel')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 21,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                lineNumber: 19,
                columnNumber: 7
            }, this),
            labels.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-gray-500 mb-2",
                        children: t('admin.products.add.noLabelsAdded')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 27,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-sm text-gray-400",
                        children: t('admin.products.add.addLabelsHint')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 28,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                lineNumber: 26,
                columnNumber: 9
            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-4",
                children: labels.map((label, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border border-gray-200 rounded-lg p-4 bg-gray-50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center justify-between mb-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                        className: "text-lg font-medium text-gray-900",
                                        children: t('admin.products.add.label').replace('{index}', (index + 1).toString())
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 35,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                        type: "button",
                                        variant: "ghost",
                                        onClick: ()=>onRemoveLabel(index),
                                        className: "text-red-600 hover:text-red-700",
                                        children: t('admin.products.add.remove')
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 38,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                lineNumber: 34,
                                columnNumber: 15
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: [
                                                    t('admin.products.add.type'),
                                                    " *"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 45,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                value: label.type,
                                                onChange: (e)=>onUpdateLabel(index, 'type', e.target.value),
                                                required: true,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "text",
                                                        children: t('admin.products.add.textType')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 54,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "percentage",
                                                        children: t('admin.products.add.percentageType')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 55,
                                                        columnNumber: 21
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 48,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 44,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: [
                                                    t('admin.products.add.value'),
                                                    " *"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 61,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                type: "text",
                                                value: label.value,
                                                onChange: (e)=>onUpdateLabel(index, 'value', e.target.value),
                                                placeholder: label.type === 'percentage' ? t('admin.products.add.percentagePlaceholder') : t('admin.products.add.newProductLabel'),
                                                required: true,
                                                className: "w-full"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 64,
                                                columnNumber: 19
                                            }, this),
                                            label.type === 'percentage' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "mt-1 text-xs text-blue-600 font-medium",
                                                children: t('admin.products.add.percentageAutoUpdateHint')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 75,
                                                columnNumber: 21
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 60,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: [
                                                    t('admin.products.add.position'),
                                                    " *"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 81,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                value: label.position,
                                                onChange: (e)=>onUpdateLabel(index, 'position', e.target.value),
                                                required: true,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "top-left",
                                                        children: t('admin.products.add.topLeft')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 90,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "top-right",
                                                        children: t('admin.products.add.topRight')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 91,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "bottom-left",
                                                        children: t('admin.products.add.bottomLeft')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 92,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "bottom-right",
                                                        children: t('admin.products.add.bottomRight')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 93,
                                                        columnNumber: 21
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 84,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 80,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: t('admin.products.add.colorOptional')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 99,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                type: "text",
                                                value: label.color || '',
                                                onChange: (e)=>onUpdateLabel(index, 'color', e.target.value || null),
                                                placeholder: t('admin.products.add.colorHexPlaceholder'),
                                                className: "w-full"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 102,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "mt-1 text-xs text-gray-500",
                                                children: t('admin.products.add.hexColorHint')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 109,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 98,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                lineNumber: 42,
                                columnNumber: 15
                            }, this)
                        ]
                    }, index, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 33,
                        columnNumber: 13
                    }, this))
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                lineNumber: 31,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
        lineNumber: 18,
        columnNumber: 5
    }, this);
}
_s(ProductLabels, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = ProductLabels;
var _c;
__turbopack_context__.k.register(_c, "ProductLabels");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ValueSelectionModal",
    ()=>ValueSelectionModal
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/colorMap.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
function ValueSelectionModal({ openValueModal, variant, attribute, onClose, onVariantUpdate, onAttributeValueIdsUpdate, selectedAttributeValueIds }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    if (!openValueModal || !variant || !attribute) return null;
    const isColor = attribute.key === 'color';
    const selectedValueIds = variant.selectedValueIds.filter((id)=>{
        return attribute.values.some((v)=>v.id === id);
    });
    const handleSelectAll = (checked)=>{
        const isAutoVariant = variant.id === 'variant-all';
        if (checked) {
            // Select all values
            const allValueIds = attribute.values.map((v)=>v.id);
            // Add to variant's selectedValueIds (merge with existing)
            const currentIds = variant.selectedValueIds;
            const newIds = [
                ...new Set([
                    ...currentIds,
                    ...allValueIds
                ])
            ];
            // Update variant - merge with existing selectedValueIds
            onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                        ...v,
                        selectedValueIds: newIds
                    } : v));
            // Only update selectedAttributeValueIds for auto-generated variant
            if (isAutoVariant) {
                onAttributeValueIdsUpdate((prev)=>({
                        ...prev,
                        [openValueModal.attributeId]: allValueIds
                    }));
            }
        } else {
            // Deselect all values for this attribute
            const valueIdsToRemove = attribute.values.map((v)=>v.id);
            const newIds = variant.selectedValueIds.filter((id)=>!valueIdsToRemove.includes(id));
            onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                        ...v,
                        selectedValueIds: newIds
                    } : v));
            // Only update selectedAttributeValueIds for auto-generated variant
            if (isAutoVariant) {
                onAttributeValueIdsUpdate((prev)=>({
                        ...prev,
                        [openValueModal.attributeId]: []
                    }));
            }
        }
    };
    const handleValueToggle = (valueId, checked)=>{
        const isAutoVariant = variant.id === 'variant-all';
        const currentIds = variant.selectedValueIds;
        let newIds;
        if (checked) {
            // Add value if not already selected
            newIds = [
                ...currentIds,
                valueId
            ];
        } else {
            // Remove value
            newIds = currentIds.filter((id)=>id !== valueId);
        }
        // Update variant first (to preserve dropdown state)
        onVariantUpdate((prev)=>{
            const updated = prev.map((v)=>v.id === variant.id ? {
                    ...v,
                    selectedValueIds: newIds
                } : v);
            console.log(' [VARIANT BUILDER] Value selection updated:', {
                variantId: variant.id,
                isAutoVariant,
                valueId,
                action: checked ? 'added' : 'removed',
                newSelectedIds: newIds.length,
                totalVariants: updated.length
            });
            return updated;
        });
        // Only update selectedAttributeValueIds for auto-generated variant
        if (isAutoVariant) {
            const currentAttrIds = selectedAttributeValueIds[openValueModal.attributeId] || [];
            let newAttrIds;
            if (checked) {
                newAttrIds = [
                    ...currentAttrIds,
                    valueId
                ];
            } else {
                newAttrIds = currentAttrIds.filter((id)=>id !== valueId);
            }
            onAttributeValueIdsUpdate((prev)=>({
                    ...prev,
                    [openValueModal.attributeId]: newAttrIds
                }));
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
        onClick: onClose,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",
            onClick: (e)=>e.stopPropagation(),
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                            className: "text-xl font-semibold text-gray-900",
                            children: [
                                t('admin.products.add.selectValues'),
                                " ",
                                attribute.name
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 128,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: onClose,
                            className: "text-gray-400 hover:text-gray-600 transition-colors",
                            "aria-label": "Close",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                className: "w-6 h-6",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M6 18L18 6M6 6l12 12"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 137,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                lineNumber: 136,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 131,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                    lineNumber: 127,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-6",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                            className: "flex items-center gap-2 p-2 rounded-lg cursor-pointer hover:bg-gray-50 mb-3 border border-gray-200",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    type: "checkbox",
                                    checked: attribute.values.length > 0 && selectedValueIds.length === attribute.values.length,
                                    onChange: (e)=>handleSelectAll(e.target.checked),
                                    className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 146,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-sm font-medium text-gray-900",
                                    children: "All"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 152,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 145,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "border-t border-gray-200 my-3"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 155,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",
                            children: attribute.values.map((value)=>{
                                const isSelected = variant.selectedValueIds.includes(value.id);
                                const valueColorHex = isColor && value.colors && value.colors.length > 0 ? value.colors[0] : isColor ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getColorHex"])(value.label) : null;
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: `flex flex-col items-center gap-1.5 p-2 rounded-lg cursor-pointer transition-all border-2 ${isSelected ? 'bg-blue-50 border-blue-600' : 'bg-gray-50 border-transparent hover:bg-gray-100 hover:border-gray-300'}`,
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "checkbox",
                                            checked: isSelected,
                                            onChange: (e)=>handleValueToggle(value.id, e.target.checked),
                                            className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 177,
                                            columnNumber: 19
                                        }, this),
                                        value.imageUrl ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                            src: value.imageUrl,
                                            alt: value.label,
                                            className: "w-8 h-8 object-cover rounded border border-gray-300 flex-shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 185,
                                            columnNumber: 21
                                        }, this) : isColor && valueColorHex ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "inline-block w-6 h-6 rounded-full border-2 border-gray-300 shadow-sm flex-shrink-0",
                                            style: {
                                                backgroundColor: valueColorHex
                                            }
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 191,
                                            columnNumber: 21
                                        }, this) : null,
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-xs font-medium text-gray-900 text-center",
                                            children: value.label
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 196,
                                            columnNumber: 19
                                        }, this)
                                    ]
                                }, value.id, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 169,
                                    columnNumber: 17
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 158,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                    lineNumber: 143,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-end gap-3 p-6 border-t border-gray-200 sticky bottom-0 bg-white",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                        type: "button",
                        variant: "outline",
                        onClick: onClose,
                        children: t('admin.common.close')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                        lineNumber: 205,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                    lineNumber: 204,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
            lineNumber: 122,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
        lineNumber: 118,
        columnNumber: 5
    }, this);
}
_s(ValueSelectionModal, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = ValueSelectionModal;
var _c;
__turbopack_context__.k.register(_c, "ValueSelectionModal");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/Publishing.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Publishing",
    ()=>Publishing
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
function Publishing({ featured, onFeaturedChange }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "space-y-2",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "flex items-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                        type: "checkbox",
                        checked: featured,
                        onChange: (e)=>onFeaturedChange(e.target.checked),
                        className: "mr-2"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                        lineNumber: 17,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-sm font-medium text-gray-700 flex items-center gap-1",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                "aria-hidden": "true",
                                children: ""
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                                lineNumber: 24,
                                columnNumber: 13
                            }, this),
                            t('admin.products.add.markAsFeatured')
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                        lineNumber: 23,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                lineNumber: 16,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
            lineNumber: 15,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
        lineNumber: 14,
        columnNumber: 5
    }, this);
}
_s(Publishing, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
_c = Publishing;
var _c;
__turbopack_context__.k.register(_c, "Publishing");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/FormActions.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "FormActions",
    ()=>FormActions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
function FormActions({ loading, isEditMode }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "sticky bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg -mx-6 -mb-6 px-6 py-4 mt-8 backdrop-blur-sm bg-white/95",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex flex-col sm:flex-row gap-3 sm:gap-4 max-w-full",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    type: "submit",
                    variant: "primary",
                    disabled: loading,
                    className: "flex-1 w-full sm:w-auto order-2 sm:order-1",
                    children: loading ? isEditMode ? t('admin.products.add.updating') : t('admin.products.add.creating') : isEditMode ? t('admin.products.add.updateProduct') : t('admin.products.add.createProduct')
                }, void 0, false, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
                    lineNumber: 19,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    type: "button",
                    variant: "outline",
                    onClick: ()=>router.push('/admin/products'),
                    className: "w-full sm:w-auto order-1 sm:order-2",
                    children: t('admin.common.cancel')
                }, void 0, false, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
                    lineNumber: 33,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
            lineNumber: 18,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
        lineNumber: 17,
        columnNumber: 5
    }, this);
}
_s(FormActions, "4RnRNJiHpB9q7GSIHCO6Xnv5sUA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"]
    ];
});
_c = FormActions;
var _c;
__turbopack_context__.k.register(_c, "FormActions");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/components/PageHeader.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PageHeader",
    ()=>PageHeader
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function PageHeader({ isEditMode }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "mb-8",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between mb-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    onClick: ()=>router.push('/admin'),
                    className: "text-gray-600 hover:text-gray-900 flex items-center",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                            className: "w-5 h-5 mr-2",
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 2,
                                d: "M15 19l-7-7 7-7"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                                lineNumber: 22,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                            lineNumber: 21,
                            columnNumber: 11
                        }, this),
                        t('admin.products.add.backToAdmin')
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                    lineNumber: 17,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                lineNumber: 16,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                className: "text-3xl font-bold text-gray-900",
                children: isEditMode ? t('admin.products.add.editProduct') : t('admin.products.add.addNewProduct')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                lineNumber: 27,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
        lineNumber: 15,
        columnNumber: 5
    }, this);
}
_s(PageHeader, "4RnRNJiHpB9q7GSIHCO6Xnv5sUA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"]
    ];
});
_c = PageHeader;
var _c;
__turbopack_context__.k.register(_c, "PageHeader");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useLabelManagement.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useLabelManagement",
    ()=>useLabelManagement
]);
'use client';
function useLabelManagement(labels, setLabels) {
    const addLabel = ()=>{
        const newLabel = {
            type: 'text',
            value: '',
            position: 'top-left',
            color: null
        };
        setLabels((prev)=>[
                ...prev,
                newLabel
            ]);
    };
    const removeLabel = (index)=>{
        setLabels((prev)=>prev.filter((_, i)=>i !== index));
    };
    const updateLabel = (index, field, value)=>{
        setLabels((prev)=>{
            const newLabels = [
                ...prev
            ];
            newLabels[index] = {
                ...newLabels[index],
                [field]: value
            };
            return newLabels;
        });
    };
    return {
        addLabel,
        removeLabel,
        updateLabel
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/lib/utils/logger.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Logger utility for consistent logging across the application
 * Replaces console.log with structured logging
 */ __turbopack_context__.s([
    "logger",
    ()=>logger
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
class Logger {
    isDevelopment() {
        return ("TURBOPACK compile-time value", "development") === 'development';
    }
    formatMessage(level, message, context) {
        const timestamp = new Date().toISOString();
        const contextStr = context ? ` ${JSON.stringify(context)}` : '';
        return `[${timestamp}] [${level.toUpperCase()}] ${message}${contextStr}`;
    }
    debug(message, context) {
        if (this.isDevelopment()) {
            console.debug(this.formatMessage('debug', message, context));
        }
    }
    info(message, context) {
        if (this.isDevelopment()) {
            console.info(this.formatMessage('info', message, context));
        }
    }
    warn(message, context) {
        console.warn(this.formatMessage('warn', message, context));
    }
    error(message, context) {
        console.error(this.formatMessage('error', message, context));
    }
    log(message, context) {
        // Alias for info in development
        this.info(message, context);
    }
}
const logger = new Logger();
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/lib/utils/image-utils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Unified image URL utilities for consistent handling across the application
 */ __turbopack_context__.s([
    "cleanImageUrls",
    ()=>cleanImageUrls,
    "getUrlVariations",
    ()=>getUrlVariations,
    "isValidImageUrl",
    ()=>isValidImageUrl,
    "normalizeUrlForComparison",
    ()=>normalizeUrlForComparison,
    "processImageFile",
    ()=>processImageFile,
    "processImageUrl",
    ()=>processImageUrl,
    "separateMainAndVariantImages",
    ()=>separateMainAndVariantImages,
    "smartSplitUrls",
    ()=>smartSplitUrls
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$browser$2d$image$2d$compression$2f$dist$2f$browser$2d$image$2d$compression$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/browser-image-compression/dist/browser-image-compression.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/utils/logger.ts [app-client] (ecmascript)");
;
;
function isValidImageUrl(url) {
    if (!url) return false;
    const urlStr = typeof url === 'string' ? url.trim() : '';
    if (!urlStr) return false;
    // Base64 images are valid
    if (urlStr.startsWith('data:image/')) return true;
    // HTTP/HTTPS URLs are valid
    if (urlStr.startsWith('http://') || urlStr.startsWith('https://')) return true;
    // Relative paths starting with / are valid
    if (urlStr.startsWith('/')) return true;
    return false;
}
function processImageUrl(url) {
    if (!url) return null;
    let finalUrl = '';
    if (typeof url === 'string') {
        finalUrl = url.trim();
    } else if (typeof url === 'object' && url !== null) {
        finalUrl = (url.url || url.src || url.value || '').trim();
    }
    if (!finalUrl) return null;
    // Validate
    if (!isValidImageUrl(finalUrl)) {
        return null;
    }
    // For base64 or full URLs, return as-is
    if (finalUrl.startsWith('data:') || finalUrl.startsWith('http://') || finalUrl.startsWith('https://')) {
        return finalUrl;
    }
    // For relative paths, ensure they start with /
    if (finalUrl.startsWith('/')) {
        return finalUrl;
    }
    return `/${finalUrl}`;
}
function smartSplitUrls(str) {
    if (!str) return [];
    // If no base64, simple split
    if (!str.includes('data:image/')) {
        return str.split(',').map((s)=>s.trim()).filter(Boolean);
    }
    // Handle base64 - split carefully
    // Base64 format: data:image/type;base64,<base64data>
    // The comma after base64, is the separator, but base64 data itself can contain commas
    // We need to find the comma that separates base64 header from data, then find the next URL separator
    const results = [];
    let i = 0;
    while(i < str.length){
        if (str.substring(i).startsWith('data:image/')) {
            // Found start of base64 image
            // Find the comma after base64, (this is the separator between header and data)
            const headerEnd = str.indexOf(',', i);
            if (headerEnd === -1) {
                // No comma found, treat entire rest as base64
                results.push(str.substring(i).trim());
                break;
            }
            // Find the next comma that's likely a URL separator (followed by whitespace and another URL pattern)
            // Or find end of string
            let nextSeparator = str.length;
            for(let j = headerEnd + 1; j < str.length; j++){
                if (str[j] === ',') {
                    // Check if this comma is followed by a URL pattern (not part of base64)
                    const afterComma = str.substring(j + 1).trim();
                    if (afterComma.startsWith('data:image/') || afterComma.startsWith('http://') || afterComma.startsWith('https://') || afterComma.startsWith('/')) {
                        nextSeparator = j;
                        break;
                    }
                }
            }
            // Extract base64 image (from start to separator)
            const base64Image = str.substring(i, nextSeparator).trim();
            if (base64Image) {
                results.push(base64Image);
            }
            i = nextSeparator + 1;
        } else {
            // Regular URL - find next comma or end
            const nextComma = str.indexOf(',', i);
            if (nextComma === -1) {
                // No more commas, add rest as single URL
                const url = str.substring(i).trim();
                if (url) {
                    results.push(url);
                }
                break;
            } else {
                // Add URL up to comma
                const url = str.substring(i, nextComma).trim();
                if (url) {
                    results.push(url);
                }
                i = nextComma + 1;
            }
        }
    }
    return results.filter(Boolean);
}
function normalizeUrlForComparison(url) {
    if (!url) return '';
    // Base64 images - return as-is (exact match required)
    if (url.startsWith('data:')) {
        return url;
    }
    // HTTP/HTTPS URLs - return as-is (exact match)
    if (url.startsWith('http://') || url.startsWith('https://')) {
        return url;
    }
    // Relative paths - normalize to start with /
    const trimmed = url.trim();
    if (trimmed.startsWith('/')) {
        return trimmed;
    }
    return `/${trimmed}`;
}
function getUrlVariations(url) {
    if (!url) return [];
    const normalized = normalizeUrlForComparison(url);
    const variations = new Set([
        normalized
    ]);
    // For relative paths, add variations with/without leading slash
    if (!normalized.startsWith('data:') && !normalized.startsWith('http')) {
        if (normalized.startsWith('/')) {
            variations.add(normalized.substring(1));
            variations.add(normalized);
        } else {
            variations.add(normalized);
            variations.add(`/${normalized}`);
        }
        // Also add without query params
        const withoutQuery = normalized.split('?')[0];
        if (withoutQuery !== normalized) {
            variations.add(withoutQuery);
            if (withoutQuery.startsWith('/')) {
                variations.add(withoutQuery.substring(1));
            } else {
                variations.add(`/${withoutQuery}`);
            }
        }
    }
    return Array.from(variations);
}
function cleanImageUrls(urls) {
    if (!Array.isArray(urls)) return [];
    const seen = new Set();
    const cleaned = [];
    for (const url of urls){
        const processed = processImageUrl(url);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        if (seen.has(normalized)) continue;
        seen.add(normalized);
        cleaned.push(processed);
    }
    return cleaned;
}
function separateMainAndVariantImages(mainImages, variantImages) {
    // Process and normalize all variant images
    const variantUrlSet = new Set();
    const variantVariationsMap = new Map();
    for (const variantImg of variantImages){
        const processed = processImageUrl(variantImg);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        variantUrlSet.add(normalized);
        // Store all variations for this URL
        const variations = getUrlVariations(processed);
        variations.forEach((v)=>variantVariationsMap.set(v, variations));
    }
    // Process main images and filter out those that match variants
    const mainProcessed = [];
    const seenMain = new Set();
    for (const mainImg of mainImages){
        const processed = processImageUrl(mainImg);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        // Check if this main image matches any variant image
        const isVariantImage = variantUrlSet.has(normalized) || variantVariationsMap.has(normalized) || Array.from(variantVariationsMap.values()).some((variations)=>variations.some((v)=>{
                const mainVariations = getUrlVariations(processed);
                return mainVariations.includes(v);
            }));
        if (isVariantImage) {
            continue; // Skip - this is a variant image
        }
        // Check for duplicates in main images
        if (seenMain.has(normalized)) {
            continue;
        }
        seenMain.add(normalized);
        mainProcessed.push(processed);
    }
    // Process variant images (already validated above)
    const variantProcessed = [];
    const seenVariant = new Set();
    for (const variantImg of variantImages){
        const processed = processImageUrl(variantImg);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        if (seenVariant.has(normalized)) continue;
        seenVariant.add(normalized);
        variantProcessed.push(processed);
    }
    return {
        main: mainProcessed,
        variants: variantProcessed
    };
}
async function processImageFile(file, options) {
    try {
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["logger"].debug('Starting image processing', {
            fileName: file.name,
            originalSize: `${Math.round(file.size / 1024)}KB`,
            type: file.type
        });
        const { maxSizeMB = 2, maxWidthOrHeight = 1920, useWebWorker = true, fileType = 'image/jpeg', initialQuality = 0.8 } = options || {};
        // Process image with compression and EXIF orientation correction
        // browser-image-compression automatically handles EXIF orientation
        const compressedFile = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$browser$2d$image$2d$compression$2f$dist$2f$browser$2d$image$2d$compression$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(file, {
            maxSizeMB,
            maxWidthOrHeight,
            useWebWorker,
            fileType,
            initialQuality
        });
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["logger"].info('Image processed successfully', {
            originalSize: `${Math.round(file.size / 1024)}KB`,
            compressedSize: `${Math.round(compressedFile.size / 1024)}KB`,
            reduction: `${Math.round((1 - compressedFile.size / file.size) * 100)}%`
        });
        // Convert to base64
        return new Promise((resolve, reject)=>{
            const reader = new FileReader();
            reader.onload = ()=>{
                const result = reader.result;
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["logger"].debug('Image converted to base64', {
                    length: result.length
                });
                resolve(result);
            };
            reader.onerror = (error)=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["logger"].error('Error converting to base64', {
                    error
                });
                reject(new Error('Failed to convert image to base64'));
            };
            reader.readAsDataURL(compressedFile);
        });
    } catch (error) {
        const errorMessage = error instanceof Error ? error.message : 'Failed to process image';
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["logger"].error('Error processing image', {
            error
        });
        throw new Error(errorMessage);
    }
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useImageHandling.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useImageHandling",
    ()=>useImageHandling
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/utils/image-utils.ts [app-client] (ecmascript)");
'use client';
;
function useImageHandling({ imageUrls, featuredImageIndex, variants, generatedVariants, colorImageTarget, setImageUrls, setFeaturedImageIndex, setMainProductImage, setVariants, setGeneratedVariants, setImageUploadLoading, setImageUploadError, setColorImageTarget, t }) {
    const addImageUrl = ()=>{
        setImageUrls((prev)=>[
                ...prev,
                ''
            ]);
    };
    const removeImageUrl = (index)=>{
        setImageUrls((prev)=>{
            const newUrls = prev.filter((_, i)=>i !== index);
            let newFeaturedIndex = featuredImageIndex;
            if (index === featuredImageIndex) {
                newFeaturedIndex = 0;
            } else if (index < featuredImageIndex) {
                newFeaturedIndex = Math.max(0, featuredImageIndex - 1);
            }
            const finalFeaturedIndex = newUrls.length === 0 ? 0 : Math.min(newFeaturedIndex, newUrls.length - 1);
            const mainImage = newUrls.length > 0 && newUrls[finalFeaturedIndex] ? newUrls[finalFeaturedIndex] : '';
            setFeaturedImageIndex(finalFeaturedIndex);
            setMainProductImage(mainImage);
            return newUrls;
        });
    };
    const updateImageUrl = (index, url)=>{
        setImageUrls((prev)=>{
            const newUrls = [
                ...prev
            ];
            newUrls[index] = url;
            return newUrls;
        });
    };
    const setFeaturedImage = (index)=>{
        if (index < 0 || index >= imageUrls.length) {
            return;
        }
        const mainImage = imageUrls[index] || '';
        setFeaturedImageIndex(index);
        setMainProductImage(mainImage);
    };
    const addColorImages = (variantId, colorValue, images)=>{
        console.log(' [ADMIN] Adding images to color:', {
            variantId,
            colorValue,
            imagesCount: images.length
        });
        setVariants((prev)=>prev.map((v)=>{
                if (v.id === variantId) {
                    const updatedColors = v.colors.map((c)=>{
                        if (c.colorValue === colorValue) {
                            const uniqueNewImages = images.filter((newImg)=>!c.images.includes(newImg));
                            const newImages = [
                                ...c.images,
                                ...uniqueNewImages
                            ];
                            return {
                                ...c,
                                images: newImages
                            };
                        }
                        return c;
                    });
                    return {
                        ...v,
                        colors: updatedColors
                    };
                }
                return v;
            }));
    };
    const handleUploadImages = async (event)=>{
        const files = Array.from(event.target.files || []);
        if (files.length === 0) {
            return;
        }
        console.log(' [UPLOAD] Starting upload of', files.length, 'image(s)');
        setImageUploadLoading(true);
        setImageUploadError(null);
        try {
            const uploadedImages = [];
            const errors = [];
            const filePromises = files.map(async (file, index)=>{
                try {
                    if (!file.type.startsWith('image/')) {
                        const errorMsg = `"${file.name}" is not an image file`;
                        console.warn(` [UPLOAD] Skipping non-image file ${index + 1}/${files.length}:`, file.name);
                        return {
                            success: false,
                            error: errorMsg,
                            index
                        };
                    }
                    console.log(` [UPLOAD] Processing file ${index + 1}/${files.length}:`, file.name, `(${Math.round(file.size / 1024)}KB)`);
                    const base64 = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["processImageFile"])(file, {
                        maxSizeMB: 2,
                        maxWidthOrHeight: 1920,
                        useWebWorker: true,
                        fileType: 'image/jpeg',
                        initialQuality: 0.8
                    });
                    if (base64 && base64.trim()) {
                        console.log(` [UPLOAD] Successfully processed file ${index + 1}/${files.length}:`, file.name);
                        return {
                            success: true,
                            base64,
                            index
                        };
                    } else {
                        const errorMsg = `Failed to convert "${file.name}" to base64`;
                        console.error(` [UPLOAD] Empty base64 result for file ${index + 1}/${files.length}:`, file.name);
                        return {
                            success: false,
                            error: errorMsg,
                            index
                        };
                    }
                } catch (error) {
                    const errorMsg = `Error processing "${file.name}": ${error?.message || 'Unknown error'}`;
                    console.error(` [UPLOAD] Error processing file ${index + 1}/${files.length}:`, file.name, error);
                    return {
                        success: false,
                        error: errorMsg,
                        index
                    };
                }
            });
            const results = await Promise.allSettled(filePromises);
            results.forEach((result)=>{
                if (result.status === 'fulfilled') {
                    const fileResult = result.value;
                    if (fileResult.success && fileResult.base64) {
                        uploadedImages.push(fileResult.base64);
                    } else if (!fileResult.success && fileResult.error) {
                        errors.push(fileResult.error);
                    }
                } else {
                    const errorMsg = `Failed to process file: ${result.reason?.message || 'Unknown error'}`;
                    errors.push(errorMsg);
                    console.error(` [UPLOAD] Promise rejected:`, result.reason);
                }
            });
            console.log(' [UPLOAD] Upload complete. Processed:', uploadedImages.length, 'of', files.length, 'files');
            if (errors.length > 0) {
                console.warn(' [UPLOAD] Errors during upload:', errors);
                setImageUploadError(errors.join('; '));
            }
            if (uploadedImages.length === 0) {
                setImageUploadError(t('admin.products.add.failedToProcessImages') || 'Failed to process images');
                return;
            }
            setImageUrls((prev)=>{
                const newImageUrls = [
                    ...prev,
                    ...uploadedImages
                ];
                const newFeaturedIdx = prev.length === 0 ? 0 : featuredImageIndex;
                if (prev.length === 0 && newImageUrls.length > 0) {
                    setFeaturedImageIndex(0);
                    setMainProductImage(newImageUrls[0]);
                }
                return newImageUrls;
            });
        } catch (error) {
            console.error(' [UPLOAD] Fatal error during upload:', error);
            setImageUploadError(error?.message || t('admin.products.add.failedToProcessImages'));
        } finally{
            setImageUploadLoading(false);
            if (event.target) {
                event.target.value = '';
            }
        }
    };
    const handleUploadVariantImage = async (variantId, event)=>{
        const files = Array.from(event.target.files || []);
        if (files.length === 0) {
            return;
        }
        const file = files[0];
        if (!file.type.startsWith('image/')) {
            setImageUploadError(`"${file.name}" is not an image file`);
            if (event.target) {
                event.target.value = '';
            }
            return;
        }
        setImageUploadLoading(true);
        setImageUploadError(null);
        try {
            console.log(' [VARIANT IMAGE] Processing variant image:', {
                variantId,
                fileName: file.name,
                originalSize: `${Math.round(file.size / 1024)}KB`
            });
            const base64 = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["processImageFile"])(file, {
                maxSizeMB: 2,
                maxWidthOrHeight: 1920,
                useWebWorker: true,
                fileType: 'image/jpeg',
                initialQuality: 0.8
            });
            setGeneratedVariants((prev)=>prev.map((v)=>v.id === variantId ? {
                        ...v,
                        image: base64
                    } : v));
            console.log(' [VARIANT BUILDER] Variant image uploaded and processed for variant:', variantId);
        } catch (error) {
            console.error(' [VARIANT IMAGE] Error processing variant image:', error);
            setImageUploadError(error?.message || t('admin.products.add.failedToProcessImage'));
        } finally{
            setImageUploadLoading(false);
            if (event.target) {
                event.target.value = '';
            }
        }
    };
    const handleUploadColorImages = async (event)=>{
        const files = Array.from(event.target.files || []);
        if (!files.length || !colorImageTarget) {
            console.log(' [ADMIN] No files or no color target:', {
                filesLength: files.length,
                colorImageTarget
            });
            if (event.target) {
                event.target.value = '';
            }
            return;
        }
        const imageFiles = files.filter((file)=>file.type.startsWith('image/'));
        if (imageFiles.length === 0) {
            if (event.target) {
                event.target.value = '';
            }
            return;
        }
        try {
            setImageUploadLoading(true);
            console.log(' [ADMIN] Starting upload for color:', colorImageTarget.colorValue, 'Files:', imageFiles.length);
            const uploadedImages = await Promise.all(imageFiles.map(async (file, index)=>{
                console.log(` [COLOR IMAGE] Processing image ${index + 1}/${imageFiles.length}:`, {
                    fileName: file.name,
                    originalSize: `${Math.round(file.size / 1024)}KB`
                });
                const base64 = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["processImageFile"])(file, {
                    maxSizeMB: 2,
                    maxWidthOrHeight: 1920,
                    useWebWorker: true,
                    fileType: 'image/jpeg',
                    initialQuality: 0.8
                });
                console.log(` [COLOR IMAGE] Image ${index + 1}/${imageFiles.length} processed, base64 length:`, base64.length);
                return base64;
            }));
            console.log(' [ADMIN] All images processed, adding to variant:', {
                variantId: colorImageTarget.variantId,
                colorValue: colorImageTarget.colorValue,
                imagesCount: uploadedImages.length
            });
            addColorImages(colorImageTarget.variantId, colorImageTarget.colorValue, uploadedImages);
            console.log(' [ADMIN] Color images added to state:', uploadedImages.length);
        } catch (error) {
            console.error(' [ADMIN] Error uploading color images:', error);
            setImageUploadError(error?.message || t('admin.products.add.failedToProcessImages'));
        } finally{
            setImageUploadLoading(false);
            if (event.target) {
                event.target.value = '';
            }
            setColorImageTarget(null);
        }
    };
    return {
        addImageUrl,
        removeImageUrl,
        updateImageUrl,
        setFeaturedImage,
        handleUploadImages,
        handleUploadVariantImage,
        handleUploadColorImages,
        addColorImages
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/utils/productUtils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Utility functions for product management
 */ __turbopack_context__.s([
    "generateAttributeCombinations",
    ()=>generateAttributeCombinations,
    "generateSlug",
    ()=>generateSlug,
    "isClothingCategory",
    ()=>isClothingCategory
]);
const generateSlug = (title)=>{
    return title.toLowerCase().trim().replace(/[^\w\s-|]/g, '') // Allow pipe character (|) in slug
    .replace(/[\s_-]+/g, '-').replace(/^-+|-+$/g, '');
};
const generateAttributeCombinations = (attributeValueGroups)=>{
    if (attributeValueGroups.length === 0) {
        return [
            []
        ];
    }
    if (attributeValueGroups.length === 1) {
        return attributeValueGroups[0].map((value)=>[
                value
            ]);
    }
    const [firstGroup, ...restGroups] = attributeValueGroups;
    const restCombinations = generateAttributeCombinations(restGroups);
    const result = [];
    for (const value of firstGroup){
        for (const combination of restCombinations){
            result.push([
                value,
                ...combination
            ]);
        }
    }
    return result;
};
const isClothingCategory = (primaryCategoryId, categories)=>{
    if (!primaryCategoryId) {
        return false;
    }
    const selectedCategory = categories.find((cat)=>cat.id === primaryCategoryId);
    if (!selectedCategory) {
        return false;
    }
    return selectedCategory.requiresSizes === true;
};
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useVariantGeneration.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useVariantGeneration",
    ()=>useVariantGeneration
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/utils/productUtils.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function useVariantGeneration({ selectedAttributesForVariants, selectedAttributeValueIds, attributes, generatedVariants, formDataSlug, formDataTitle, isEditMode, productId, setGeneratedVariants }) {
    _s();
    const generateVariantsFromAttributes = ()=>{
        console.log(' [VARIANT BUILDER] Generating single variant with all attributes...');
        const selectedAttrs = Array.from(selectedAttributesForVariants);
        if (selectedAttrs.length === 0) {
            console.log(' [VARIANT BUILDER] No attributes selected');
            setGeneratedVariants(()=>[]);
            return;
        }
        setGeneratedVariants((prev)=>{
            const manuallyAddedVariants = prev.filter((v)=>v.id !== 'variant-all');
            const existingAutoVariant = prev.find((v)=>v.id === 'variant-all');
            if (manuallyAddedVariants.length > 0) {
                console.log(' [VARIANT BUILDER] Manual variants exist, skipping auto-generated variant');
                return manuallyAddedVariants;
            }
            const variantId = 'variant-all';
            const allSelectedValueIds = [];
            selectedAttrs.forEach((attributeId)=>{
                const selectedIds = selectedAttributeValueIds[attributeId] || [];
                allSelectedValueIds.push(...selectedIds);
            });
            const baseSlug = formDataSlug || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateSlug"])(formDataTitle) || 'PROD';
            let sku = `${baseSlug}`;
            if (allSelectedValueIds.length > 0) {
                const valueParts = [];
                selectedAttrs.forEach((attributeId)=>{
                    const attribute = attributes.find((a)=>a.id === attributeId);
                    if (!attribute) return;
                    const selectedIds = selectedAttributeValueIds[attributeId] || [];
                    selectedIds.forEach((valueId)=>{
                        const value = attribute.values.find((v)=>v.id === valueId);
                        if (value) {
                            valueParts.push(value.value.toUpperCase().replace(/\s+/g, '-'));
                        }
                    });
                });
                if (valueParts.length > 0) {
                    sku = `${baseSlug}-${valueParts.join('-')}`;
                }
            }
            const autoVariant = {
                id: variantId,
                selectedValueIds: allSelectedValueIds,
                price: existingAutoVariant?.price || '',
                compareAtPrice: existingAutoVariant?.compareAtPrice || '',
                stock: existingAutoVariant?.stock || '',
                sku: existingAutoVariant?.sku || sku,
                image: existingAutoVariant?.image || null
            };
            const result = [
                autoVariant
            ];
            console.log(' [VARIANT BUILDER] Variants updated:', {
                manuallyAdded: 0,
                autoGenerated: 1,
                total: result.length
            });
            return result;
        });
        console.log(' [VARIANT BUILDER] Single variant generated with', selectedAttrs.length, 'attributes');
    };
    const applyToAllVariants = (field, value)=>{
        setGeneratedVariants((prev)=>prev.map((variant)=>({
                    ...variant,
                    [field]: value
                })));
    };
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useVariantGeneration.useEffect": ()=>{
            if (isEditMode && productId && window.__productVariantsToConvert) {
                return;
            }
            if (selectedAttributesForVariants.size > 0) {
                generateVariantsFromAttributes();
            } else {
                if (!isEditMode) {
                    setGeneratedVariants({
                        "useVariantGeneration.useEffect": ()=>[]
                    }["useVariantGeneration.useEffect"]);
                }
            }
        // eslint-disable-next-line react-hooks/exhaustive-deps
        }
    }["useVariantGeneration.useEffect"], [
        selectedAttributesForVariants,
        selectedAttributeValueIds,
        attributes,
        formDataSlug,
        formDataTitle,
        isEditMode,
        productId
    ]);
    return {
        generateVariantsFromAttributes,
        applyToAllVariants
    };
}
_s(useVariantGeneration, "OD7bBpZva5O2jO+Puf00hKivP7c=");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useProductDataLoading.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useProductDataLoading",
    ()=>useProductDataLoading
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/api-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
;
;
function useProductDataLoading({ isLoggedIn, isAdmin, isLoading, setBrands, setCategories, setAttributes, setDefaultCurrency, attributesDropdownOpen, setAttributesDropdownOpen, attributesDropdownRef, categoriesExpanded, setCategoriesExpanded, brandsExpanded, setBrandsExpanded }) {
    _s();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    // Auth check
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductDataLoading.useEffect": ()=>{
            if (!isLoading) {
                if (!isLoggedIn || !isAdmin) {
                    router.push('/admin');
                    return;
                }
            }
        }
    }["useProductDataLoading.useEffect"], [
        isLoggedIn,
        isAdmin,
        isLoading,
        router
    ]);
    // Close attributes dropdown when clicking outside
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductDataLoading.useEffect": ()=>{
            const handleClickOutside = {
                "useProductDataLoading.useEffect.handleClickOutside": (event)=>{
                    if (attributesDropdownRef.current && !attributesDropdownRef.current.contains(event.target)) {
                        setAttributesDropdownOpen(false);
                    }
                }
            }["useProductDataLoading.useEffect.handleClickOutside"];
            if (attributesDropdownOpen) {
                document.addEventListener('mousedown', handleClickOutside);
            }
            return ({
                "useProductDataLoading.useEffect": ()=>{
                    document.removeEventListener('mousedown', handleClickOutside);
                }
            })["useProductDataLoading.useEffect"];
        }
    }["useProductDataLoading.useEffect"], [
        attributesDropdownOpen,
        attributesDropdownRef,
        setAttributesDropdownOpen
    ]);
    // Load default currency from settings
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductDataLoading.useEffect": ()=>{
            const loadDefaultCurrency = {
                "useProductDataLoading.useEffect.loadDefaultCurrency": async ()=>{
                    try {
                        const settingsRes = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/settings');
                        const currency = settingsRes.defaultCurrency || 'AMD';
                        if (currency in __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CURRENCIES"]) {
                            setDefaultCurrency(currency);
                            console.log(' [ADMIN] Default currency loaded:', currency);
                        }
                    } catch (err) {
                        console.error(' [ADMIN] Error loading default currency:', err);
                        setDefaultCurrency('AMD');
                    }
                }
            }["useProductDataLoading.useEffect.loadDefaultCurrency"];
            if (isLoggedIn && isAdmin) {
                loadDefaultCurrency();
            }
        }
    }["useProductDataLoading.useEffect"], [
        isLoggedIn,
        isAdmin,
        setDefaultCurrency
    ]);
    // Fetch brands, categories, and attributes
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductDataLoading.useEffect": ()=>{
            const fetchData = {
                "useProductDataLoading.useEffect.fetchData": async ()=>{
                    try {
                        console.log(' [ADMIN] Fetching brands, categories, and attributes...');
                        const [brandsRes, categoriesRes, attributesRes] = await Promise.all([
                            __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/brands'),
                            __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/categories'),
                            __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/attributes')
                        ]);
                        setBrands(brandsRes.data || []);
                        setCategories(categoriesRes.data || []);
                        setAttributes(attributesRes.data || []);
                        console.log(' [ADMIN] Data fetched:', {
                            brands: brandsRes.data?.length || 0,
                            categories: categoriesRes.data?.length || 0,
                            attributes: attributesRes.data?.length || 0
                        });
                        // Debug: Log attributes details
                        if (attributesRes.data && attributesRes.data.length > 0) {
                            console.log(' [ADMIN] Attributes loaded:', attributesRes.data.map({
                                "useProductDataLoading.useEffect.fetchData": (attr)=>({
                                        id: attr.id,
                                        key: attr.key,
                                        name: attr.name,
                                        valuesCount: attr.values?.length || 0,
                                        values: attr.values?.map({
                                            "useProductDataLoading.useEffect.fetchData": (v)=>({
                                                    value: v.value,
                                                    label: v.label,
                                                    colors: v.colors,
                                                    colorsType: typeof v.colors,
                                                    colorsIsArray: Array.isArray(v.colors),
                                                    colorsLength: v.colors?.length,
                                                    imageUrl: v.imageUrl
                                                })
                                        }["useProductDataLoading.useEffect.fetchData"]) || []
                                    })
                            }["useProductDataLoading.useEffect.fetchData"]));
                            const colorAttr = attributesRes.data.find({
                                "useProductDataLoading.useEffect.fetchData.colorAttr": (a)=>a.key === 'color'
                            }["useProductDataLoading.useEffect.fetchData.colorAttr"]);
                            const sizeAttr = attributesRes.data.find({
                                "useProductDataLoading.useEffect.fetchData.sizeAttr": (a)=>a.key === 'size'
                            }["useProductDataLoading.useEffect.fetchData.sizeAttr"]);
                            if (!colorAttr) {
                                console.warn(' [ADMIN] Color attribute not found in loaded attributes!');
                            } else {
                                console.log(' [ADMIN] Color attribute found:', {
                                    id: colorAttr.id,
                                    valuesCount: colorAttr.values?.length || 0
                                });
                            }
                            if (!sizeAttr) {
                                console.warn(' [ADMIN] Size attribute not found in loaded attributes!');
                            } else {
                                console.log(' [ADMIN] Size attribute found:', {
                                    id: sizeAttr.id,
                                    valuesCount: sizeAttr.values?.length || 0
                                });
                            }
                        } else {
                            console.warn(' [ADMIN] No attributes loaded! This may cause issues with variant builder.');
                        }
                        // Debug: Log categories with requiresSizes
                        if (categoriesRes.data) {
                            console.log(' [ADMIN] Categories with requiresSizes:', categoriesRes.data.map({
                                "useProductDataLoading.useEffect.fetchData": (cat)=>({
                                        id: cat.id,
                                        title: cat.title,
                                        requiresSizes: cat.requiresSizes
                                    })
                            }["useProductDataLoading.useEffect.fetchData"]));
                        }
                    } catch (err) {
                        console.error(' [ADMIN] Error fetching data:', err);
                    }
                }
            }["useProductDataLoading.useEffect.fetchData"];
            fetchData();
        }
    }["useProductDataLoading.useEffect"], [
        setBrands,
        setCategories,
        setAttributes
    ]);
    // Close category dropdown when clicking outside
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductDataLoading.useEffect": ()=>{
            const handleClickOutside = {
                "useProductDataLoading.useEffect.handleClickOutside": (event)=>{
                    const target = event.target;
                    if (categoriesExpanded && !target.closest('[data-category-dropdown]')) {
                        setCategoriesExpanded(false);
                    }
                }
            }["useProductDataLoading.useEffect.handleClickOutside"];
            if (categoriesExpanded) {
                document.addEventListener('mousedown', handleClickOutside);
                return ({
                    "useProductDataLoading.useEffect": ()=>{
                        document.removeEventListener('mousedown', handleClickOutside);
                    }
                })["useProductDataLoading.useEffect"];
            }
        }
    }["useProductDataLoading.useEffect"], [
        categoriesExpanded,
        setCategoriesExpanded
    ]);
    // Close brand dropdown when clicking outside
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductDataLoading.useEffect": ()=>{
            const handleClickOutside = {
                "useProductDataLoading.useEffect.handleClickOutside": (event)=>{
                    const target = event.target;
                    if (brandsExpanded && !target.closest('[data-brand-dropdown]')) {
                        setBrandsExpanded(false);
                    }
                }
            }["useProductDataLoading.useEffect.handleClickOutside"];
            if (brandsExpanded) {
                document.addEventListener('mousedown', handleClickOutside);
                return ({
                    "useProductDataLoading.useEffect": ()=>{
                        document.removeEventListener('mousedown', handleClickOutside);
                    }
                })["useProductDataLoading.useEffect"];
            }
        }
    }["useProductDataLoading.useEffect"], [
        brandsExpanded,
        setBrandsExpanded
    ]);
}
_s(useProductDataLoading, "kjaz9kO8rwjdXD0WVhDgHISwqLA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useProductEditMode.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useProductEditMode",
    ()=>useProductEditMode
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/api-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/utils/image-utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
;
function useProductEditMode({ productId, isLoggedIn, isAdmin, attributes, defaultCurrency, setLoadingProduct, setFormData, setUseNewBrand, setUseNewCategory, setNewBrandName, setNewCategoryName, setHasVariantsToLoad, setProductType, setSimpleProductData }) {
    _s();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductEditMode.useEffect": ()=>{
            if (productId && isLoggedIn && isAdmin) {
                const loadProduct = {
                    "useProductEditMode.useEffect.loadProduct": async ()=>{
                        try {
                            setLoadingProduct(true);
                            console.log(' [ADMIN] Loading product for edit:', productId);
                            const product = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].get(`/api/v1/admin/products/${productId}`);
                            const colorDataMap = new Map();
                            let firstPrice = '';
                            let firstCompareAtPrice = '';
                            let firstSku = '';
                            (product.variants || []).forEach({
                                "useProductEditMode.useEffect.loadProduct": (variant, index)=>{
                                    console.log(` [ADMIN] Processing variant ${index}:`, {
                                        id: variant.id,
                                        sku: variant.sku,
                                        price: variant.price,
                                        stock: variant.stock,
                                        color: variant.color,
                                        size: variant.size,
                                        options: variant.options,
                                        imageUrl: variant.imageUrl
                                    });
                                    let color = variant.color || '';
                                    let size = variant.size || '';
                                    if (!color && variant.options && Array.isArray(variant.options)) {
                                        console.log(` [ADMIN] Searching for color in options:`, variant.options);
                                        const colorOption = variant.options.find({
                                            "useProductEditMode.useEffect.loadProduct.colorOption": (opt)=>{
                                                const matches = opt.attributeKey === 'color' || opt.key === 'color' || opt.attribute === 'color';
                                                if (matches) {
                                                    console.log(` [ADMIN] Found color option:`, opt);
                                                }
                                                return matches;
                                            }
                                        }["useProductEditMode.useEffect.loadProduct.colorOption"]);
                                        if (colorOption) {
                                            color = colorOption.value || '';
                                            console.log(` [ADMIN] Found color from options:`, color);
                                        } else {
                                            const colorOptionByValue = variant.options.find({
                                                "useProductEditMode.useEffect.loadProduct.colorOptionByValue": (opt)=>{
                                                    if (opt.attributeValue) {
                                                        const attrValue = opt.attributeValue;
                                                        return attrValue.attribute?.key === 'color' || attrValue.attributeKey === 'color';
                                                    }
                                                    return false;
                                                }
                                            }["useProductEditMode.useEffect.loadProduct.colorOptionByValue"]);
                                            if (colorOptionByValue && colorOptionByValue.attributeValue) {
                                                color = colorOptionByValue.attributeValue.value || '';
                                                console.log(` [ADMIN] Found color from attributeValue:`, color);
                                            }
                                        }
                                    }
                                    if (!size && variant.options && Array.isArray(variant.options)) {
                                        console.log(` [ADMIN] Searching for size in options:`, variant.options);
                                        const sizeOption = variant.options.find({
                                            "useProductEditMode.useEffect.loadProduct.sizeOption": (opt)=>{
                                                const matches = opt.attributeKey === 'size' || opt.key === 'size' || opt.attribute === 'size';
                                                if (matches) {
                                                    console.log(` [ADMIN] Found size option:`, opt);
                                                }
                                                return matches;
                                            }
                                        }["useProductEditMode.useEffect.loadProduct.sizeOption"]);
                                        if (sizeOption) {
                                            size = sizeOption.value || '';
                                            console.log(` [ADMIN] Found size from options:`, size);
                                        } else {
                                            const sizeOptionByValue = variant.options.find({
                                                "useProductEditMode.useEffect.loadProduct.sizeOptionByValue": (opt)=>{
                                                    if (opt.attributeValue) {
                                                        const attrValue = opt.attributeValue;
                                                        return attrValue.attribute?.key === 'size' || attrValue.attributeKey === 'size';
                                                    }
                                                    return false;
                                                }
                                            }["useProductEditMode.useEffect.loadProduct.sizeOptionByValue"]);
                                            if (sizeOptionByValue && sizeOptionByValue.attributeValue) {
                                                size = sizeOptionByValue.attributeValue.value || '';
                                                console.log(` [ADMIN] Found size from attributeValue:`, size);
                                            }
                                        }
                                    }
                                    if (!color && variant.sku) {
                                        const skuParts = variant.sku.split('-');
                                        if (skuParts.length >= 2) {
                                            const possibleColor = skuParts[1];
                                            if (possibleColor && possibleColor.length > 0 && !/^\d+$/.test(possibleColor)) {
                                                color = possibleColor;
                                                console.log(` [ADMIN] Extracted color from SKU:`, color);
                                            }
                                        }
                                    }
                                    if (!size && variant.sku) {
                                        const skuParts = variant.sku.split('-');
                                        if (skuParts.length >= 3) {
                                            const possibleSize = skuParts[2];
                                            if (possibleSize) {
                                                size = possibleSize;
                                                console.log(` [ADMIN] Extracted size from SKU:`, size);
                                            }
                                        }
                                    }
                                    console.log(` [ADMIN] Extracted from variant ${index}:`, {
                                        color,
                                        size
                                    });
                                    const stockValue = variant.stock !== undefined && variant.stock !== null ? String(variant.stock) : '';
                                    if (!color) {
                                        const defaultColor = 'default';
                                        const defaultColorLabel = t('admin.products.add.defaultColor');
                                        if (!colorDataMap.has(defaultColor)) {
                                            const priceInDefaultCurrency = variant.price !== undefined && variant.price !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.price === 'number' ? variant.price : parseFloat(String(variant.price || '0')), 'USD', defaultCurrency) : 0;
                                            const compareAtPriceInDefaultCurrency = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.compareAtPrice === 'number' ? variant.compareAtPrice : parseFloat(String(variant.compareAtPrice || '0')), 'USD', defaultCurrency) : 0;
                                            const colorData = {
                                                colorValue: defaultColor,
                                                colorLabel: defaultColorLabel,
                                                images: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl),
                                                stock: size ? '' : stockValue,
                                                price: variant.price !== undefined && variant.price !== null ? String(priceInDefaultCurrency) : '',
                                                compareAtPrice: variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? String(compareAtPriceInDefaultCurrency) : '',
                                                sizes: [],
                                                sizeStocks: {},
                                                sizePrices: {},
                                                sizeCompareAtPrices: {},
                                                sizeLabels: {},
                                                isFeatured: !!variant.isFeatured
                                            };
                                            if (size) {
                                                colorData.sizes = [
                                                    size
                                                ];
                                                colorData.sizeStocks = {
                                                    [size]: stockValue
                                                };
                                                if (variant.price !== undefined && variant.price !== null) {
                                                    colorData.sizePrices[size] = String(priceInDefaultCurrency);
                                                }
                                                if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                                    colorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                                }
                                            }
                                            colorDataMap.set(defaultColor, colorData);
                                        } else {
                                            const existingColorData = colorDataMap.get(defaultColor);
                                            if (variant.imageUrl) {
                                                const imageUrls = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl);
                                                imageUrls.forEach({
                                                    "useProductEditMode.useEffect.loadProduct": (url)=>{
                                                        const exists = existingColorData.images.some({
                                                            "useProductEditMode.useEffect.loadProduct.exists": (existingUrl)=>{
                                                                if (url.startsWith('data:') || existingUrl.startsWith('data:')) {
                                                                    return url === existingUrl;
                                                                }
                                                                const n1 = existingUrl.startsWith('/') ? existingUrl : `/${existingUrl}`;
                                                                const n2 = url.startsWith('/') ? url : `/${url}`;
                                                                return n1 === n2 || existingUrl === url;
                                                            }
                                                        }["useProductEditMode.useEffect.loadProduct.exists"]);
                                                        if (url && !exists) {
                                                            existingColorData.images.push(url);
                                                        }
                                                    }
                                                }["useProductEditMode.useEffect.loadProduct"]);
                                            }
                                            if (size) {
                                                if (!existingColorData.sizes.includes(size)) {
                                                    existingColorData.sizes.push(size);
                                                }
                                                existingColorData.sizeStocks[size] = stockValue;
                                                if (!existingColorData.sizePrices) existingColorData.sizePrices = {};
                                                if (variant.price !== undefined && variant.price !== null) {
                                                    const priceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.price === 'number' ? variant.price : parseFloat(String(variant.price || '0')), 'USD', defaultCurrency);
                                                    existingColorData.sizePrices[size] = String(priceInDefaultCurrency);
                                                }
                                                if (!existingColorData.sizeCompareAtPrices) existingColorData.sizeCompareAtPrices = {};
                                                if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                                    const compareAtPriceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.compareAtPrice === 'number' ? variant.compareAtPrice : parseFloat(String(variant.compareAtPrice || '0')), 'USD', defaultCurrency);
                                                    existingColorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                                }
                                            } else {
                                                const currentStockNum = parseInt(existingColorData.stock) || 0;
                                                const variantStockNum = parseInt(stockValue) || 0;
                                                existingColorData.stock = String(currentStockNum + variantStockNum);
                                            }
                                        }
                                    } else if (color) {
                                        if (!colorDataMap.has(color)) {
                                            const colorAttribute = attributes.find({
                                                "useProductEditMode.useEffect.loadProduct.colorAttribute": (attr)=>attr.key === 'color'
                                            }["useProductEditMode.useEffect.loadProduct.colorAttribute"]);
                                            const colorValueObj = colorAttribute?.values.find({
                                                "useProductEditMode.useEffect.loadProduct": (v)=>v.value === color
                                            }["useProductEditMode.useEffect.loadProduct"]);
                                            const colorLabel = colorValueObj?.label || color.charAt(0).toUpperCase() + color.slice(1).replace(/-/g, ' ');
                                            const priceInDefaultCurrency = variant.price !== undefined && variant.price !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.price === 'number' ? variant.price : parseFloat(String(variant.price || '0')), 'USD', defaultCurrency) : 0;
                                            const compareAtPriceInDefaultCurrency = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.compareAtPrice === 'number' ? variant.compareAtPrice : parseFloat(String(variant.compareAtPrice || '0')), 'USD', defaultCurrency) : 0;
                                            const colorData = {
                                                colorValue: color,
                                                colorLabel: colorLabel,
                                                images: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl),
                                                stock: size ? '' : stockValue,
                                                price: variant.price !== undefined && variant.price !== null ? String(priceInDefaultCurrency) : '',
                                                compareAtPrice: variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? String(compareAtPriceInDefaultCurrency) : '',
                                                sizes: [],
                                                sizeStocks: {},
                                                sizePrices: {},
                                                sizeCompareAtPrices: {},
                                                sizeLabels: {},
                                                isFeatured: !!variant.isFeatured
                                            };
                                            if (size) {
                                                colorData.sizes = [
                                                    size
                                                ];
                                                colorData.sizeStocks = {
                                                    [size]: stockValue
                                                };
                                                if (variant.price !== undefined && variant.price !== null) {
                                                    colorData.sizePrices[size] = String(priceInDefaultCurrency);
                                                }
                                                if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                                    colorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                                }
                                                if (variant.sizeLabel) {
                                                    colorData.sizeLabels = {
                                                        [size]: variant.sizeLabel
                                                    };
                                                }
                                            }
                                            colorDataMap.set(color, colorData);
                                        } else {
                                            const existingColorData = colorDataMap.get(color);
                                            if (variant.imageUrl) {
                                                const imageUrls = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl);
                                                imageUrls.forEach({
                                                    "useProductEditMode.useEffect.loadProduct": (url)=>{
                                                        const exists = existingColorData.images.some({
                                                            "useProductEditMode.useEffect.loadProduct.exists": (existingUrl)=>{
                                                                if (url.startsWith('data:') || existingUrl.startsWith('data:')) {
                                                                    return url === existingUrl;
                                                                }
                                                                const n1 = existingUrl.startsWith('/') ? existingUrl : `/${existingUrl}`;
                                                                const n2 = url.startsWith('/') ? url : `/${url}`;
                                                                return n1 === n2 || existingUrl === url;
                                                            }
                                                        }["useProductEditMode.useEffect.loadProduct.exists"]);
                                                        if (url && !exists) {
                                                            existingColorData.images.push(url);
                                                        }
                                                    }
                                                }["useProductEditMode.useEffect.loadProduct"]);
                                            }
                                            if (size) {
                                                if (!existingColorData.sizes.includes(size)) {
                                                    existingColorData.sizes.push(size);
                                                }
                                                existingColorData.sizeStocks[size] = stockValue;
                                                if (!existingColorData.sizePrices) existingColorData.sizePrices = {};
                                                if (variant.price !== undefined && variant.price !== null) {
                                                    const priceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.price === 'number' ? variant.price : parseFloat(String(variant.price || '0')), 'USD', defaultCurrency);
                                                    existingColorData.sizePrices[size] = String(priceInDefaultCurrency);
                                                }
                                                if (!existingColorData.sizeCompareAtPrices) existingColorData.sizeCompareAtPrices = {};
                                                if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                                    const compareAtPriceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof variant.compareAtPrice === 'number' ? variant.compareAtPrice : parseFloat(String(variant.compareAtPrice || '0')), 'USD', defaultCurrency);
                                                    existingColorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                                }
                                                if (variant.sizeLabel) {
                                                    if (!existingColorData.sizeLabels) existingColorData.sizeLabels = {};
                                                    existingColorData.sizeLabels[size] = variant.sizeLabel;
                                                }
                                            } else {
                                                const currentStockNum = parseInt(existingColorData.stock) || 0;
                                                const variantStockNum = parseInt(stockValue) || 0;
                                                existingColorData.stock = String(currentStockNum + variantStockNum);
                                            }
                                            if (variant.isFeatured) {
                                                existingColorData.isFeatured = true;
                                            }
                                        }
                                    }
                                    if (index === 0) {
                                        const firstPriceUSD = variant.price !== undefined && variant.price !== null ? variant.price : 0;
                                        const firstCompareAtPriceUSD = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? variant.compareAtPrice : 0;
                                        firstPrice = firstPriceUSD > 0 ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(firstPriceUSD, 'USD', defaultCurrency)) : '';
                                        firstCompareAtPrice = firstCompareAtPriceUSD > 0 ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(firstCompareAtPriceUSD, 'USD', defaultCurrency)) : '';
                                        firstSku = variant.sku || '';
                                    }
                                }
                            }["useProductEditMode.useEffect.loadProduct"]);
                            const mergedVariant = {
                                id: `variant-${Date.now()}-${Math.random()}`,
                                price: firstPrice,
                                compareAtPrice: firstCompareAtPrice,
                                sku: firstSku,
                                colors: Array.from(colorDataMap.values())
                            };
                            const variantImages = new Set();
                            mergedVariant.colors.forEach({
                                "useProductEditMode.useEffect.loadProduct": (c)=>{
                                    c.images.forEach({
                                        "useProductEditMode.useEffect.loadProduct": (img)=>{
                                            if (img) {
                                                variantImages.add(img);
                                                const normalized = img.startsWith('/') ? img : `/${img}`;
                                                variantImages.add(normalized);
                                            }
                                        }
                                    }["useProductEditMode.useEffect.loadProduct"]);
                                }
                            }["useProductEditMode.useEffect.loadProduct"]);
                            console.log(' [ADMIN] Collecting variant images from product.variants...');
                            (product.variants || []).forEach({
                                "useProductEditMode.useEffect.loadProduct": (variant, idx)=>{
                                    if (variant.imageUrl) {
                                        if (typeof variant.imageUrl === 'string' && variant.imageUrl.startsWith('data:')) {
                                            variantImages.add(variant.imageUrl);
                                            console.log(`   Added variant base64 image (length: ${variant.imageUrl.length})`);
                                        } else {
                                            const imageUrls = typeof variant.imageUrl === 'string' ? variant.imageUrl.split(',').map({
                                                "useProductEditMode.useEffect.loadProduct": (url)=>url.trim()
                                            }["useProductEditMode.useEffect.loadProduct"]).filter(Boolean) : [];
                                            imageUrls.forEach({
                                                "useProductEditMode.useEffect.loadProduct": (url)=>{
                                                    if (url) {
                                                        variantImages.add(url);
                                                        const normalizedWithSlash = url.startsWith('/') ? url : `/${url}`;
                                                        const normalizedWithoutSlash = url.startsWith('/') ? url.substring(1) : url;
                                                        variantImages.add(normalizedWithSlash);
                                                        variantImages.add(normalizedWithoutSlash);
                                                        const urlWithoutQuery = url.split('?')[0];
                                                        if (urlWithoutQuery !== url) {
                                                            variantImages.add(urlWithoutQuery);
                                                            const normalizedWithoutQuery = urlWithoutQuery.startsWith('/') ? urlWithoutQuery : `/${urlWithoutQuery}`;
                                                            variantImages.add(normalizedWithoutQuery);
                                                        }
                                                        console.log(`   Added variant URL: ${url.substring(0, 50)}...`);
                                                    }
                                                }
                                            }["useProductEditMode.useEffect.loadProduct"]);
                                        }
                                    } else {
                                        console.log(` [ADMIN] Variant ${idx} has no imageUrl`);
                                    }
                                }
                            }["useProductEditMode.useEffect.loadProduct"]);
                            console.log(` [ADMIN] Total variant images collected: ${variantImages.size}`);
                            const mediaList = product.media || [];
                            console.log(' [ADMIN] Loading main media images. Total media:', mediaList.length);
                            const { main } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["separateMainAndVariantImages"])(Array.isArray(mediaList) ? mediaList : [], variantImages.size > 0 ? Array.from(variantImages) : []);
                            const normalizedMedia = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cleanImageUrls"])(main);
                            console.log(` [ADMIN] Main media loaded: ${normalizedMedia.length} images (after separation from ${variantImages.size} variant images)`);
                            const featuredIndexFromApi = Array.isArray(mediaList) ? mediaList.findIndex({
                                "useProductEditMode.useEffect.loadProduct": (item)=>{
                                    const url = typeof item === 'string' ? item : item?.url || '';
                                    if (!url) return false;
                                    return typeof item === 'object' && item?.isFeatured === true;
                                }
                            }["useProductEditMode.useEffect.loadProduct"]) : -1;
                            const mainProductImage = product.mainProductImage || (normalizedMedia.length > 0 ? normalizedMedia[0] : '');
                            const brandIds = product.brandId ? [
                                product.brandId
                            ] : [];
                            setFormData({
                                "useProductEditMode.useEffect.loadProduct": (prev)=>({
                                        ...prev,
                                        title: product.title || '',
                                        slug: product.slug || '',
                                        descriptionHtml: product.descriptionHtml || '',
                                        brandIds: brandIds,
                                        primaryCategoryId: product.primaryCategoryId || '',
                                        categoryIds: product.categoryIds || [],
                                        published: product.published || false,
                                        featured: product.featured || false,
                                        imageUrls: normalizedMedia,
                                        featuredImageIndex: featuredIndexFromApi >= 0 && featuredIndexFromApi < normalizedMedia.length ? featuredIndexFromApi : 0,
                                        mainProductImage: normalizedMedia.length > 0 && normalizedMedia[featuredIndexFromApi >= 0 && featuredIndexFromApi < normalizedMedia.length ? featuredIndexFromApi : 0] ? normalizedMedia[featuredIndexFromApi >= 0 && featuredIndexFromApi < normalizedMedia.length ? featuredIndexFromApi : 0] : mainProductImage || '',
                                        variants: [
                                            mergedVariant
                                        ],
                                        labels: (product.labels || []).map({
                                            "useProductEditMode.useEffect.loadProduct": (label)=>({
                                                    id: label.id || '',
                                                    type: label.type || 'text',
                                                    value: label.value || '',
                                                    position: label.position || 'top-left',
                                                    color: label.color || null
                                                })
                                        }["useProductEditMode.useEffect.loadProduct"])
                                    })
                            }["useProductEditMode.useEffect.loadProduct"]);
                            setUseNewBrand(false);
                            setUseNewCategory(false);
                            setNewBrandName('');
                            setNewCategoryName('');
                            if (product.variants && product.variants.length > 0) {
                                window.__productVariantsToConvert = product.variants;
                                setHasVariantsToLoad(true);
                            }
                            if (product.attributeIds && product.attributeIds.length > 0) {
                                window.__productAttributeIds = product.attributeIds;
                                console.log(' [ADMIN] Product attributeIds loaded:', product.attributeIds);
                            }
                            const variants = product.variants || [];
                            const hasVariants = variants.length > 0;
                            const hasVariantsWithAttributes = hasVariants && variants.some({
                                "useProductEditMode.useEffect.loadProduct": (variant)=>{
                                    if (variant.attributes && typeof variant.attributes === 'object' && Object.keys(variant.attributes).length > 0) {
                                        return true;
                                    }
                                    if (variant.options && Array.isArray(variant.options) && variant.options.length > 0) {
                                        return true;
                                    }
                                    return false;
                                }
                            }["useProductEditMode.useEffect.loadProduct"]);
                            console.log(' [ADMIN] Product type check:', {
                                hasVariants,
                                variantsCount: variants.length,
                                hasVariantsWithAttributes,
                                firstVariant: hasVariants && variants.length > 0 ? {
                                    hasAttributes: !!(variants[0] && variants[0].attributes && typeof variants[0].attributes === 'object' && Object.keys(variants[0].attributes).length > 0),
                                    hasOptions: !!(variants[0].options && Array.isArray(variants[0].options) && variants[0].options.length > 0),
                                    attributes: variants[0].attributes,
                                    optionsCount: variants[0].options?.length || 0
                                } : null
                            });
                            if (!hasVariantsWithAttributes) {
                                console.log(' [ADMIN] Product variants have no attributes, setting productType to "simple"');
                                setProductType('simple');
                                if (hasVariants && variants.length > 0) {
                                    const firstVariant = variants[0];
                                    setSimpleProductData({
                                        price: firstVariant.price ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof firstVariant.price === 'number' ? firstVariant.price : parseFloat(String(firstVariant.price || '0')), 'USD', defaultCurrency)) : '',
                                        compareAtPrice: firstVariant.compareAtPrice ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(typeof firstVariant.compareAtPrice === 'number' ? firstVariant.compareAtPrice : parseFloat(String(firstVariant.compareAtPrice || '0')), 'USD', defaultCurrency)) : '',
                                        sku: firstVariant.sku || '',
                                        quantity: String(firstVariant.stock || 0)
                                    });
                                } else {
                                    setSimpleProductData({
                                        price: '',
                                        compareAtPrice: '',
                                        sku: '',
                                        quantity: '0'
                                    });
                                }
                            } else {
                                console.log(' [ADMIN] Product variants have attributes, keeping productType as "variable"');
                                setProductType('variable');
                            }
                            console.log(' [ADMIN] Product loaded for edit');
                        } catch (err) {
                            console.error(' [ADMIN] Error loading product:', err);
                            router.push('/admin/products');
                        } finally{
                            setLoadingProduct(false);
                        }
                    }
                }["useProductEditMode.useEffect.loadProduct"];
                loadProduct();
            }
        }
    }["useProductEditMode.useEffect"], [
        productId,
        isLoggedIn,
        isAdmin,
        router,
        attributes,
        defaultCurrency,
        setLoadingProduct,
        setFormData,
        setUseNewBrand,
        setUseNewCategory,
        setNewBrandName,
        setNewCategoryName,
        setHasVariantsToLoad,
        setProductType,
        setSimpleProductData,
        t
    ]);
}
_s(useProductEditMode, "p3I2D1tlM0+QDZGGb1HwCE6Sm4I=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useProductVariantConversion.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useProductVariantConversion",
    ()=>useProductVariantConversion
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
'use client';
;
;
function useProductVariantConversion({ productId, attributes, defaultCurrency, setSelectedAttributesForVariants, setSelectedAttributeValueIds, setGeneratedVariants, setHasVariantsToLoad }) {
    _s();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useProductVariantConversion.useEffect": ()=>{
            if (productId && attributes.length > 0 && window.__productVariantsToConvert) {
                const productVariants = window.__productVariantsToConvert;
                console.log(' [ADMIN] Converting product variants to generatedVariants format:', {
                    variantsCount: productVariants.length,
                    attributesCount: attributes.length,
                    firstVariant: productVariants[0]
                });
                const attributeIdsSet = new Set();
                const attributeValueIdsMap = {};
                productVariants.forEach({
                    "useProductVariantConversion.useEffect": (variant)=>{
                        if (variant.options && Array.isArray(variant.options)) {
                            variant.options.forEach({
                                "useProductVariantConversion.useEffect": (opt)=>{
                                    let attributeId = opt.attributeId;
                                    let valueId = opt.valueId;
                                    if (!attributeId && opt.attributeValue) {
                                        attributeId = opt.attributeValue.attributeId || opt.attributeValue.attribute?.id;
                                    }
                                    if (!valueId && opt.attributeValue) {
                                        valueId = opt.attributeValue.id;
                                    }
                                    if (attributeId && valueId) {
                                        attributeIdsSet.add(attributeId);
                                        if (!attributeValueIdsMap[attributeId]) {
                                            attributeValueIdsMap[attributeId] = [];
                                        }
                                        if (!attributeValueIdsMap[attributeId].includes(valueId)) {
                                            attributeValueIdsMap[attributeId].push(valueId);
                                        }
                                    }
                                }
                            }["useProductVariantConversion.useEffect"]);
                        }
                    }
                }["useProductVariantConversion.useEffect"]);
                const productAttributeIds = window.__productAttributeIds || [];
                if (productAttributeIds.length > 0) {
                    console.log(' [ADMIN] Adding product attributeIds to selected attributes:', productAttributeIds);
                    productAttributeIds.forEach({
                        "useProductVariantConversion.useEffect": (attrId)=>{
                            attributeIdsSet.add(attrId);
                        }
                    }["useProductVariantConversion.useEffect"]);
                }
                if (attributeIdsSet.size > 0) {
                    console.log(' [ADMIN] Setting selectedAttributesForVariants with all attributes:', Array.from(attributeIdsSet));
                    setSelectedAttributesForVariants(attributeIdsSet);
                }
                if (Object.keys(attributeValueIdsMap).length > 0) {
                    setSelectedAttributeValueIds(attributeValueIdsMap);
                }
                const variantDataList = [];
                productVariants.forEach({
                    "useProductVariantConversion.useEffect": (variant, variantIndex)=>{
                        const selectedValueIds = [];
                        if (variant.attributes && typeof variant.attributes === 'object') {
                            console.log(` [ADMIN] Variant ${variantIndex} has attributes JSONB:`, variant.attributes);
                            Object.keys(variant.attributes).forEach({
                                "useProductVariantConversion.useEffect": (attributeKey)=>{
                                    const attribute = attributes.find({
                                        "useProductVariantConversion.useEffect.attribute": (a)=>a.key === attributeKey
                                    }["useProductVariantConversion.useEffect.attribute"]);
                                    if (!attribute) {
                                        console.warn(` [ADMIN] Attribute not found for key: ${attributeKey}`);
                                        return;
                                    }
                                    const attributeValues = variant.attributes[attributeKey];
                                    if (Array.isArray(attributeValues)) {
                                        attributeValues.forEach({
                                            "useProductVariantConversion.useEffect": (attrValue)=>{
                                                const valueId = attrValue.valueId || attrValue.id;
                                                const value = attrValue.value || attrValue;
                                                if (valueId) {
                                                    if (!selectedValueIds.includes(valueId)) {
                                                        selectedValueIds.push(valueId);
                                                    }
                                                } else if (value) {
                                                    const foundValue = attribute.values.find({
                                                        "useProductVariantConversion.useEffect.foundValue": (v)=>v.value === value || v.label === value
                                                    }["useProductVariantConversion.useEffect.foundValue"]);
                                                    if (foundValue && !selectedValueIds.includes(foundValue.id)) {
                                                        selectedValueIds.push(foundValue.id);
                                                    }
                                                }
                                            }
                                        }["useProductVariantConversion.useEffect"]);
                                    }
                                }
                            }["useProductVariantConversion.useEffect"]);
                        }
                        if (selectedValueIds.length === 0 && variant.options && Array.isArray(variant.options)) {
                            console.log(` [ADMIN] Variant ${variantIndex} using options fallback:`, variant.options);
                            const attributeValueMap = {};
                            variant.options.forEach({
                                "useProductVariantConversion.useEffect": (opt)=>{
                                    let attributeId = opt.attributeId;
                                    let valueId = opt.valueId;
                                    let attributeKey = opt.attributeKey;
                                    if (!attributeId && opt.attributeValue) {
                                        attributeId = opt.attributeValue.attributeId || opt.attributeValue.attribute?.id || opt.attributeValue.attributeId;
                                        attributeKey = opt.attributeValue.attribute?.key || opt.attributeValue.attributeKey;
                                    }
                                    if (!valueId && opt.attributeValue) {
                                        valueId = opt.attributeValue.id || opt.attributeValue.valueId;
                                    }
                                    if (!attributeId && opt.attributeKey) {
                                        const foundAttr = attributes.find({
                                            "useProductVariantConversion.useEffect.foundAttr": (a)=>a.key === opt.attributeKey
                                        }["useProductVariantConversion.useEffect.foundAttr"]);
                                        if (foundAttr) {
                                            attributeId = foundAttr.id;
                                            attributeKey = foundAttr.key;
                                        }
                                    }
                                    if (attributeId && !valueId && opt.value) {
                                        const foundAttr = attributes.find({
                                            "useProductVariantConversion.useEffect.foundAttr": (a)=>a.id === attributeId
                                        }["useProductVariantConversion.useEffect.foundAttr"]);
                                        if (foundAttr) {
                                            const foundValue = foundAttr.values.find({
                                                "useProductVariantConversion.useEffect.foundValue": (v)=>v.value === opt.value || v.label === opt.value
                                            }["useProductVariantConversion.useEffect.foundValue"]);
                                            if (foundValue) {
                                                valueId = foundValue.id;
                                            }
                                        }
                                    }
                                    if (attributeKey && valueId) {
                                        if (!attributeValueMap[attributeKey]) {
                                            attributeValueMap[attributeKey] = new Set();
                                        }
                                        attributeValueMap[attributeKey].add(valueId);
                                    }
                                }
                            }["useProductVariantConversion.useEffect"]);
                            Object.values(attributeValueMap).forEach({
                                "useProductVariantConversion.useEffect": (valueIdSet)=>{
                                    valueIdSet.forEach({
                                        "useProductVariantConversion.useEffect": (valueId)=>{
                                            if (!selectedValueIds.includes(valueId)) {
                                                selectedValueIds.push(valueId);
                                            }
                                        }
                                    }["useProductVariantConversion.useEffect"]);
                                }
                            }["useProductVariantConversion.useEffect"]);
                        }
                        let variantImage = null;
                        if (variant.imageUrl) {
                            if (typeof variant.imageUrl === 'string' && variant.imageUrl.startsWith('data:')) {
                                variantImage = variant.imageUrl;
                                console.log(` [ADMIN] Variant ${variantIndex} base64 image length:`, variantImage?.length || 0);
                            } else {
                                const imageUrls = typeof variant.imageUrl === 'string' ? variant.imageUrl.split(',').map({
                                    "useProductVariantConversion.useEffect": (url)=>url.trim()
                                }["useProductVariantConversion.useEffect"]).filter(Boolean) : [];
                                variantImage = imageUrls.length > 0 ? imageUrls[0] : null;
                                console.log(` [ADMIN] Variant ${variantIndex} imageUrl length:`, variant.imageUrl?.length || 0, ' extracted image length:', variantImage?.length || 0);
                            }
                        } else {
                            console.log(` [ADMIN] Variant ${variantIndex} has no imageUrl`);
                        }
                        const priceInDefaultCurrency = variant.price !== undefined && variant.price !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(variant.price, 'USD', defaultCurrency) : 0;
                        const compareAtPriceInDefaultCurrency = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(variant.compareAtPrice, 'USD', defaultCurrency) : null;
                        variantDataList.push({
                            id: variant.id || `variant-${Date.now()}-${variantIndex}-${Math.random()}`,
                            selectedValueIds: selectedValueIds.sort(),
                            price: priceInDefaultCurrency,
                            compareAtPrice: compareAtPriceInDefaultCurrency,
                            stock: variant.stock !== undefined && variant.stock !== null ? variant.stock : 0,
                            sku: variant.sku || '',
                            image: variantImage,
                            originalVariantIds: [
                                variant.id || `variant-${variantIndex}`
                            ]
                        });
                    }
                }["useProductVariantConversion.useEffect"]);
                const variantGroups = new Map();
                variantDataList.forEach({
                    "useProductVariantConversion.useEffect": (variantData)=>{
                        const valueIdsKey = variantData.selectedValueIds.join(',');
                        const priceKey = variantData.price.toString();
                        const compareAtPriceKey = variantData.compareAtPrice !== null ? variantData.compareAtPrice.toString() : 'null';
                        const groupKey = `${valueIdsKey}|${priceKey}|${compareAtPriceKey}`;
                        if (!variantGroups.has(groupKey)) {
                            variantGroups.set(groupKey, []);
                        }
                        variantGroups.get(groupKey).push(variantData);
                    }
                }["useProductVariantConversion.useEffect"]);
                const convertedVariants = [];
                variantGroups.forEach({
                    "useProductVariantConversion.useEffect": (group, groupKey)=>{
                        const allValueIds = new Set();
                        group.forEach({
                            "useProductVariantConversion.useEffect": (variantData)=>{
                                variantData.selectedValueIds.forEach({
                                    "useProductVariantConversion.useEffect": (valueId)=>{
                                        allValueIds.add(valueId);
                                    }
                                }["useProductVariantConversion.useEffect"]);
                            }
                        }["useProductVariantConversion.useEffect"]);
                        const firstVariant = group[0];
                        const allStocksSame = group.every({
                            "useProductVariantConversion.useEffect.allStocksSame": (v)=>v.stock === firstVariant.stock
                        }["useProductVariantConversion.useEffect.allStocksSame"]);
                        const stockValue = allStocksSame ? firstVariant.stock : firstVariant.stock;
                        const combinedSku = group.length === 1 ? firstVariant.sku : group.map({
                            "useProductVariantConversion.useEffect": (v)=>v.sku
                        }["useProductVariantConversion.useEffect"]).filter(Boolean).join(', ');
                        const combinedImage = firstVariant.image;
                        convertedVariants.push({
                            id: `variant-group-${Date.now()}-${Math.random()}`,
                            selectedValueIds: Array.from(allValueIds).sort(),
                            price: firstVariant.price.toString(),
                            compareAtPrice: firstVariant.compareAtPrice !== null ? firstVariant.compareAtPrice.toString() : '',
                            stock: stockValue.toString(),
                            sku: combinedSku,
                            image: combinedImage
                        });
                        console.log(` [ADMIN] Grouped ${group.length} variants into 1 row:`, {
                            groupKey,
                            valueIds: Array.from(allValueIds),
                            price: firstVariant.price,
                            stock: stockValue,
                            originalVariantIds: group.flatMap({
                                "useProductVariantConversion.useEffect": (v)=>v.originalVariantIds
                            }["useProductVariantConversion.useEffect"])
                        });
                    }
                }["useProductVariantConversion.useEffect"]);
                if (convertedVariants.length > 0) {
                    setGeneratedVariants(convertedVariants);
                    console.log(' [ADMIN] Converted product variants to generatedVariants:', {
                        totalVariants: convertedVariants.length,
                        totalOriginalVariants: productVariants.length,
                        attributeValueIdsMap,
                        convertedVariants: convertedVariants.map({
                            "useProductVariantConversion.useEffect": (v)=>({
                                    id: v.id,
                                    valueIdsCount: v.selectedValueIds.length,
                                    price: v.price,
                                    stock: v.stock,
                                    sku: v.sku
                                })
                        }["useProductVariantConversion.useEffect"])
                    });
                    delete window.__productVariantsToConvert;
                    setHasVariantsToLoad(false);
                } else {
                    console.warn(' [ADMIN] No variants converted. Check variant options structure:', {
                        variantsCount: productVariants.length,
                        firstVariantOptions: productVariants[0]?.options
                    });
                    setHasVariantsToLoad(false);
                }
            } else if (productId && attributes.length > 0) {
                console.log(' [ADMIN] Waiting for variants to convert. Attributes loaded:', attributes.length);
            }
        }
    }["useProductVariantConversion.useEffect"], [
        productId,
        attributes,
        defaultCurrency,
        setSelectedAttributesForVariants,
        setSelectedAttributeValueIds,
        setGeneratedVariants,
        setHasVariantsToLoad
    ]);
}
_s(useProductVariantConversion, "OD7bBpZva5O2jO+Puf00hKivP7c=");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useProductAttributeHandlers.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useProductAttributeHandlers",
    ()=>useProductAttributeHandlers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/api-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
;
function useProductAttributeHandlers({ attributes, setAttributes, getColorAttribute, getSizeAttribute }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    const [newColorName, setNewColorName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [newSizeName, setNewSizeName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [addingColor, setAddingColor] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [addingSize, setAddingSize] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [colorMessage, setColorMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [sizeMessage, setSizeMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const handleAddColor = async ()=>{
        setColorMessage(null);
        const colorAttribute = getColorAttribute();
        if (!colorAttribute) {
            setColorMessage({
                type: 'error',
                text: t('admin.products.add.colorAttributeNotFound')
            });
            return;
        }
        if (!newColorName.trim()) {
            setColorMessage({
                type: 'error',
                text: t('admin.products.add.colorNameRequired')
            });
            return;
        }
        try {
            setAddingColor(true);
            const response = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].post(`/api/v1/admin/attributes/${colorAttribute.id}/values`, {
                label: newColorName.trim(),
                locale: 'en'
            });
            if (response.data) {
                setAttributes((prev)=>prev.map((attr)=>attr.id === colorAttribute.id ? response.data : attr));
                setColorMessage({
                    type: 'success',
                    text: t('admin.products.add.colorAddedSuccess').replace('{name}', newColorName.trim())
                });
                setNewColorName('');
                setTimeout(()=>setColorMessage(null), 3000);
            }
        } catch (err) {
            setColorMessage({
                type: 'error',
                text: err.message || t('admin.products.add.failedToAddColor')
            });
        } finally{
            setAddingColor(false);
        }
    };
    const handleAddSize = async ()=>{
        setSizeMessage(null);
        const sizeAttribute = getSizeAttribute();
        if (!sizeAttribute) {
            setSizeMessage({
                type: 'error',
                text: t('admin.products.add.sizeAttributeNotFound')
            });
            return;
        }
        if (!newSizeName.trim()) {
            setSizeMessage({
                type: 'error',
                text: t('admin.products.add.sizeNameRequired')
            });
            return;
        }
        try {
            setAddingSize(true);
            const response = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].post(`/api/v1/admin/attributes/${sizeAttribute.id}/values`, {
                label: newSizeName.trim(),
                locale: 'en'
            });
            if (response.data) {
                setAttributes((prev)=>prev.map((attr)=>attr.id === sizeAttribute.id ? response.data : attr));
                setSizeMessage({
                    type: 'success',
                    text: t('admin.products.add.sizeAddedSuccess').replace('{name}', newSizeName.trim())
                });
                setNewSizeName('');
                setTimeout(()=>setSizeMessage(null), 3000);
            }
        } catch (err) {
            setSizeMessage({
                type: 'error',
                text: err.message || t('admin.products.add.failedToAddSize')
            });
        } finally{
            setAddingSize(false);
        }
    };
    return {
        newColorName,
        setNewColorName,
        newSizeName,
        setNewSizeName,
        addingColor,
        addingSize,
        colorMessage,
        sizeMessage,
        handleAddColor,
        handleAddSize
    };
}
_s(useProductAttributeHandlers, "PAEWjdIFOmIkmYRmYtrUgkP6aNk=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useBrandAndCategoryCreation.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useBrandAndCategoryCreation",
    ()=>useBrandAndCategoryCreation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/api-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
function useBrandAndCategoryCreation({ formData, useNewBrand, newBrandName, useNewCategory, newCategoryName, setBrands, setCategories, setLoading }) {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    const createBrandAndCategory = async ()=>{
        const creationMessages = [];
        let finalBrandIds = [
            ...formData.brandIds
        ];
        let finalPrimaryCategoryId = formData.primaryCategoryId;
        // Create new brand if provided
        if (useNewBrand && newBrandName.trim()) {
            try {
                console.log(' [ADMIN] Creating new brand:', newBrandName);
                const brandResponse = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].post('/api/v1/admin/brands', {
                    name: newBrandName.trim(),
                    locale: 'en'
                });
                if (brandResponse.data) {
                    if (!finalBrandIds.includes(brandResponse.data.id)) {
                        finalBrandIds.push(brandResponse.data.id);
                    }
                    setBrands((prev)=>[
                            ...prev,
                            brandResponse.data
                        ]);
                    console.log(' [ADMIN] Brand created:', brandResponse.data.id);
                    creationMessages.push(t('admin.products.add.brandCreatedSuccess').replace('{name}', newBrandName.trim()));
                }
            } catch (err) {
                console.error(' [ADMIN] Error creating brand:', err);
                setLoading(false);
                return {
                    finalBrandIds,
                    finalPrimaryCategoryId,
                    creationMessages,
                    error: true
                };
            }
        }
        // Create new category if provided
        if (useNewCategory && newCategoryName.trim()) {
            try {
                console.log(' [ADMIN] Creating new category:', newCategoryName);
                const categoryResponse = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["apiClient"].post('/api/v1/admin/categories', {
                    title: newCategoryName.trim(),
                    locale: 'en',
                    requiresSizes: false
                });
                if (categoryResponse.data) {
                    finalPrimaryCategoryId = categoryResponse.data.id;
                    setCategories((prev)=>[
                            ...prev,
                            categoryResponse.data
                        ]);
                    console.log(' [ADMIN] Category created:', categoryResponse.data.id);
                    creationMessages.push(t('admin.products.add.categoryCreatedSuccess').replace('{name}', newCategoryName.trim()));
                }
            } catch (err) {
                console.error(' [ADMIN] Error creating category:', err);
                setLoading(false);
                return {
                    finalBrandIds,
                    finalPrimaryCategoryId,
                    creationMessages,
                    error: true
                };
            }
        }
        return {
            finalBrandIds,
            finalPrimaryCategoryId,
            creationMessages,
            error: false
        };
    };
    return {
        createBrandAndCategory
    };
}
_s(useBrandAndCategoryCreation, "zlIdU9EjM2llFt74AbE2KsUJXyM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useVariantConversionToFormData.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useVariantConversionToFormData",
    ()=>useVariantConversionToFormData
]);
function useVariantConversionToFormData({ productType, selectedAttributesForVariants, generatedVariants, attributes, formDataSlug, setFormData }) {
    const convertGeneratedVariantsToFormData = ()=>{
        // Skip this for simple products
        if (productType === 'variable' && selectedAttributesForVariants.size > 0 && generatedVariants.length > 0) {
            console.log(' [ADMIN] Converting new variant builder variants to formData format...');
            console.log(' [ADMIN] Total generated variants to convert:', generatedVariants.length);
            const allNewVariants = [];
            const skuSetForConversion = new Set();
            generatedVariants.forEach((variant, variantIndex)=>{
                const colorAttribute = attributes.find((a)=>a.key === 'color');
                const sizeAttribute = attributes.find((a)=>a.key === 'size');
                const selectedColorValueIds = colorAttribute ? variant.selectedValueIds.filter((id)=>colorAttribute.values.some((v)=>v.id === id)) : [];
                const selectedSizeValueIds = sizeAttribute ? variant.selectedValueIds.filter((id)=>sizeAttribute.values.some((v)=>v.id === id)) : [];
                const colors = [];
                if (colorAttribute && selectedColorValueIds.length > 0) {
                    selectedColorValueIds.forEach((valueId)=>{
                        const value = colorAttribute.values.find((v)=>v.id === valueId);
                        if (value) {
                            const colorData = {
                                colorValue: value.value,
                                colorLabel: value.label,
                                images: [],
                                stock: variant.stock || '0',
                                sizes: [],
                                sizeStocks: {}
                            };
                            if (value.imageUrl) {
                                colorData.images.push(value.imageUrl);
                                console.log(' [ADMIN] Added attribute value imageUrl to color:', value.imageUrl);
                            }
                            if (variant.price) {
                                colorData.price = variant.price;
                            }
                            if (variant.compareAtPrice) {
                                colorData.compareAtPrice = variant.compareAtPrice;
                            }
                            if (sizeAttribute && selectedSizeValueIds.length > 0) {
                                selectedSizeValueIds.forEach((sizeValueId)=>{
                                    const sizeValue = sizeAttribute.values.find((v)=>v.id === sizeValueId);
                                    if (sizeValue) {
                                        colorData.sizes.push(sizeValue.value);
                                        colorData.sizeStocks[sizeValue.value] = variant.stock || '0';
                                        if (!colorData.sizePrices) colorData.sizePrices = {};
                                        colorData.sizePrices[sizeValue.value] = variant.price || '0';
                                    }
                                });
                            }
                            colors.push(colorData);
                        }
                    });
                } else if (sizeAttribute && selectedSizeValueIds.length > 0) {
                    const colorData = {
                        colorValue: '',
                        colorLabel: '',
                        images: [],
                        stock: variant.stock || '0',
                        sizes: [],
                        sizeStocks: {}
                    };
                    selectedSizeValueIds.forEach((sizeValueId)=>{
                        const sizeValue = sizeAttribute.values.find((v)=>v.id === sizeValueId);
                        if (sizeValue) {
                            colorData.sizes.push(sizeValue.value);
                            colorData.sizeStocks[sizeValue.value] = variant.stock || '0';
                            if (!colorData.sizePrices) colorData.sizePrices = {};
                            colorData.sizePrices[sizeValue.value] = variant.price || '0';
                            if (sizeValue.imageUrl) {
                                colorData.images.push(sizeValue.imageUrl);
                                console.log(' [ADMIN] Added size attribute value imageUrl:', sizeValue.imageUrl);
                            }
                        }
                    });
                    if (variant.image) {
                        colorData.images.push(variant.image);
                    }
                    colors.push(colorData);
                } else {
                    const otherAttributeIds = Array.from(selectedAttributesForVariants).filter((attrId)=>attrId !== colorAttribute?.id && attrId !== sizeAttribute?.id);
                    if (otherAttributeIds.length > 0) {
                        const colorData = {
                            colorValue: '',
                            colorLabel: '',
                            images: [],
                            stock: variant.stock || '0',
                            sizes: [],
                            sizeStocks: {}
                        };
                        otherAttributeIds.forEach((attributeId)=>{
                            const attribute = attributes.find((a)=>a.id === attributeId);
                            if (!attribute) return;
                            const selectedValueIds = variant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                            selectedValueIds.forEach((valueId)=>{
                                const value = attribute.values.find((v)=>v.id === valueId);
                                if (value && value.imageUrl) {
                                    colorData.images.push(value.imageUrl);
                                    console.log(' [ADMIN] Added attribute value imageUrl from', attribute.key, ':', value.imageUrl);
                                }
                            });
                        });
                        if (variant.image) {
                            colorData.images.push(variant.image);
                        }
                        if (colorData.images.length > 0 || variant.stock) {
                            colors.push(colorData);
                        }
                    }
                }
                if (variant.image && colors.length > 0) {
                    const firstColor = colors[0];
                    if (!firstColor.images.includes(variant.image)) {
                        firstColor.images.push(variant.image);
                    }
                }
                let variantSku = variant.sku ? variant.sku.trim() : '';
                if (!variantSku || variantSku === '') {
                    const baseSlug = formDataSlug || 'PROD';
                    variantSku = `${baseSlug.toUpperCase()}-${Date.now()}-${variantIndex + 1}`;
                }
                let finalSku = variantSku;
                let skuCounter = 1;
                while(skuSetForConversion.has(finalSku)){
                    finalSku = `${variantSku}-${skuCounter}`;
                    skuCounter++;
                }
                skuSetForConversion.add(finalSku);
                allNewVariants.push({
                    id: variant.id || `variant-${Date.now()}-${variantIndex}-${Math.random()}`,
                    price: variant.price || '0',
                    compareAtPrice: variant.compareAtPrice || '',
                    sku: finalSku,
                    colors: colors.length > 0 ? colors : []
                });
            });
            setFormData((prev)=>({
                    ...prev,
                    variants: allNewVariants
                }));
            console.log(' [ADMIN] Converted variants:', allNewVariants.length, 'with unique SKUs');
        }
    };
    return {
        convertGeneratedVariantsToFormData
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useVariantValidation.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useVariantValidation",
    ()=>useVariantValidation
]);
function useVariantValidation({ productType, variants, simpleProductData, isClothingCategory, setLoading }) {
    const validateVariants = ()=>{
        // Skip variant validation for Simple products - they create variants later in the process
        if (productType === 'variable' && variants.length === 0) {
            setLoading(false);
            return false;
        }
        // Validate all variants (skip for simple products - validation is done in variant creation)
        if (productType === 'variable') {
            const skuSet = new Set();
            for (const variant of variants){
                const variantSku = variant.sku ? variant.sku.trim() : '';
                if (!variantSku || variantSku === '') {
                    setLoading(false);
                    return false;
                }
                if (skuSet.has(variantSku)) {
                    setLoading(false);
                    return false;
                }
                skuSet.add(variantSku);
                const categoryRequiresSizes = isClothingCategory();
                const colorData = variant.colors && variant.colors.length > 0 ? variant.colors : [];
                if (colorData.length > 0) {
                    for (const colorDataItem of colorData){
                        const colorSizes = colorDataItem.sizes || [];
                        const colorSizeStocks = colorDataItem.sizeStocks || {};
                        const hasColor = colorDataItem.colorValue && colorDataItem.colorValue.trim() !== '';
                        if (hasColor) {
                            const colorPriceValue = parseFloat(colorDataItem.price || '0');
                            if (!colorDataItem.price || isNaN(colorPriceValue) || colorPriceValue <= 0) {
                                setLoading(false);
                                return false;
                            }
                        } else {
                            if (colorData.indexOf(colorDataItem) === 0) {
                                const variantPriceValue = parseFloat(variant.price || '0');
                                if (!variant.price || isNaN(variantPriceValue) || variantPriceValue <= 0) {
                                    setLoading(false);
                                    return false;
                                }
                            }
                        }
                        if (colorSizes.length > 0) {
                            for (const size of colorSizes){
                                const stock = colorSizeStocks[size];
                                if (!stock || stock.trim() === '' || parseInt(stock) < 0) {
                                    setLoading(false);
                                    return false;
                                }
                            }
                        } else {
                            if (!colorDataItem.stock || colorDataItem.stock.trim() === '' || parseInt(colorDataItem.stock) < 0) {
                                setLoading(false);
                                return false;
                            }
                        }
                    }
                }
            }
        }
        // Validate simple product fields
        if (productType === 'simple') {
            if (!simpleProductData.price || simpleProductData.price.trim() === '') {
                setLoading(false);
                return false;
            }
            if (!simpleProductData.sku || simpleProductData.sku.trim() === '') {
                setLoading(false);
                return false;
            }
            if (!simpleProductData.quantity || simpleProductData.quantity.trim() === '') {
                setLoading(false);
                return false;
            }
        }
        return true;
    };
    return {
        validateVariants
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useProductFormHandlers.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useProductFormHandlers",
    ()=>useProductFormHandlers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useBrandAndCategoryCreation$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useBrandAndCategoryCreation.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantConversionToFormData$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useVariantConversionToFormData.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantValidation$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useVariantValidation.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
;
;
;
;
function useProductFormHandlers({ formData, setFormData, setLoading, setBrands, setCategories, productType, simpleProductData, selectedAttributesForVariants, generatedVariants, attributes, defaultCurrency, useNewBrand, newBrandName, useNewCategory, newCategoryName, isEditMode, productId, getColorAttribute, getSizeAttribute, isClothingCategory }) {
    _s();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const { createBrandAndCategory } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useBrandAndCategoryCreation$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useBrandAndCategoryCreation"])({
        formData,
        useNewBrand,
        newBrandName,
        useNewCategory,
        newCategoryName,
        setBrands,
        setCategories,
        setLoading
    });
    const { convertGeneratedVariantsToFormData } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantConversionToFormData$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useVariantConversionToFormData"])({
        productType,
        selectedAttributesForVariants,
        generatedVariants,
        attributes,
        formDataSlug: formData.slug,
        setFormData
    });
    const { validateVariants } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantValidation$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useVariantValidation"])({
        productType,
        variants: formData.variants,
        simpleProductData,
        isClothingCategory,
        setLoading
    });
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setLoading(true);
        try {
            console.log(' [ADMIN] Submitting product form:', formData);
            // Create brand and category if needed
            const brandCategoryResult = await createBrandAndCategory();
            if (brandCategoryResult.error) {
                return;
            }
            const { finalBrandIds, finalPrimaryCategoryId, creationMessages } = brandCategoryResult;
            // Convert generated variants to formData format
            convertGeneratedVariantsToFormData();
            // Get current formData after potential update
            const currentFormData = formData.variants.length > 0 ? formData : {
                ...formData,
                variants: []
            };
            // Validate variants
            if (productType === 'variable' && currentFormData.variants.length === 0) {
                setLoading(false);
                return;
            }
            if (!validateVariants()) {
                return;
            }
            // Process variants for API
            const variants = [];
            const variantSkuSet = new Set();
            if (productType === 'simple') {
                console.log(' [ADMIN] Processing Simple Product');
                const priceUSD = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(simpleProductData.price), defaultCurrency, 'USD');
                const compareAtPriceUSD = simpleProductData.compareAtPrice && simpleProductData.compareAtPrice.trim() !== '' ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(simpleProductData.compareAtPrice), defaultCurrency, 'USD') : undefined;
                const simpleVariant = {
                    price: priceUSD,
                    stock: parseInt(simpleProductData.quantity) || 0,
                    sku: simpleProductData.sku.trim(),
                    published: true
                };
                if (compareAtPriceUSD) {
                    simpleVariant.compareAtPrice = compareAtPriceUSD;
                }
                variants.push(simpleVariant);
                variantSkuSet.add(simpleProductData.sku.trim());
                console.log(' [ADMIN] Simple product variant created:', simpleVariant);
            } else {
                // Variable products variant processing (simplified - full logic remains in original)
                const useGeneratedVariants = generatedVariants.length > 0 && selectedAttributesForVariants.size > 0;
                if (useGeneratedVariants) {
                    console.log(' [ADMIN] Using generatedVariants format:', generatedVariants.length, 'variants');
                    const sizeAttribute = getSizeAttribute();
                    generatedVariants.forEach((genVariant, variantIndex)=>{
                        const variantPriceUSD = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(genVariant.price || '0'), defaultCurrency, 'USD');
                        const variantCompareAtPriceUSD = genVariant.compareAtPrice ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(genVariant.compareAtPrice), defaultCurrency, 'USD') : undefined;
                        const attributeValueMap = {};
                        genVariant.selectedValueIds.forEach((valueId)=>{
                            const attribute = attributes.find((a)=>a.values.some((v)=>v.id === valueId));
                            if (attribute) {
                                const value = attribute.values.find((v)=>v.id === valueId);
                                if (value) {
                                    if (!attributeValueMap[attribute.key]) {
                                        attributeValueMap[attribute.key] = [];
                                    }
                                    attributeValueMap[attribute.key].push({
                                        valueId: value.id,
                                        value: value.value
                                    });
                                }
                            }
                        });
                        const attributeKeys = Object.keys(attributeValueMap);
                        if (attributeKeys.length === 0) {
                            const finalSku = genVariant.sku || `${currentFormData.slug || 'PROD'}-${Date.now()}-${variantIndex + 1}`;
                            let uniqueSku = finalSku;
                            let skuCounter = 1;
                            while(variantSkuSet.has(uniqueSku)){
                                uniqueSku = `${finalSku}-${skuCounter}`;
                                skuCounter++;
                            }
                            variantSkuSet.add(uniqueSku);
                            variants.push({
                                price: variantPriceUSD,
                                compareAtPrice: variantCompareAtPriceUSD,
                                stock: parseInt(genVariant.stock || '0') || 0,
                                sku: uniqueSku,
                                imageUrl: genVariant.image || undefined,
                                published: true
                            });
                        } else {
                            const attributeValueGroups = attributeKeys.map((key)=>attributeValueMap[key].map((v)=>v.valueId));
                            const generateCombinations = (groups)=>{
                                if (groups.length === 0) return [
                                    []
                                ];
                                if (groups.length === 1) return groups[0].map((v)=>[
                                        v
                                    ]);
                                const [firstGroup, ...restGroups] = groups;
                                const restCombinations = generateCombinations(restGroups);
                                const result = [];
                                for (const value of firstGroup){
                                    for (const combination of restCombinations){
                                        result.push([
                                            value,
                                            ...combination
                                        ]);
                                    }
                                }
                                return result;
                            };
                            const combinations = generateCombinations(attributeValueGroups);
                            combinations.forEach((combination, comboIndex)=>{
                                const variantOptions = [];
                                combination.forEach((valueId)=>{
                                    const attribute = attributes.find((a)=>a.values.some((v)=>v.id === valueId));
                                    if (attribute) {
                                        const value = attribute.values.find((v)=>v.id === valueId);
                                        if (value) {
                                            variantOptions.push({
                                                attributeKey: attribute.key,
                                                value: value.value,
                                                valueId: value.id
                                            });
                                        }
                                    }
                                });
                                const baseSlug = currentFormData.slug || 'PROD';
                                const valueParts = variantOptions.map((opt)=>opt.value.toUpperCase().replace(/\s+/g, '-'));
                                const skuSuffix = valueParts.length > 0 ? `-${valueParts.join('-')}` : '';
                                const finalSku = genVariant.sku ? `${genVariant.sku}${skuSuffix}` : `${baseSlug.toUpperCase()}-${Date.now()}-${variantIndex + 1}-${comboIndex + 1}${skuSuffix}`;
                                let uniqueSku = finalSku;
                                let skuCounter = 1;
                                while(variantSkuSet.has(uniqueSku)){
                                    uniqueSku = `${finalSku}-${skuCounter}`;
                                    skuCounter++;
                                }
                                variantSkuSet.add(uniqueSku);
                                variants.push({
                                    price: variantPriceUSD,
                                    compareAtPrice: variantCompareAtPriceUSD,
                                    stock: parseInt(genVariant.stock || '0') || 0,
                                    sku: uniqueSku,
                                    imageUrl: genVariant.image || undefined,
                                    published: true,
                                    options: variantOptions.length > 0 ? variantOptions : undefined
                                });
                            });
                        }
                    });
                } else {
                    // Legacy formData.variants processing (simplified)
                    console.log(' [ADMIN] Using formData.variants format (legacy)');
                    currentFormData.variants.forEach((variant, variantIndex)=>{
                        const variantPriceUSD = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(variant.price || '0'), defaultCurrency, 'USD');
                        const baseVariantData = {
                            price: variantPriceUSD,
                            published: true
                        };
                        if (variant.compareAtPrice) {
                            baseVariantData.compareAtPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(variant.compareAtPrice), defaultCurrency, 'USD');
                        }
                        const colorDataArray = variant.colors || [];
                        // Simplified variant processing - full logic would be in separate hook
                        if (colorDataArray.length > 0) {
                            colorDataArray.forEach((colorData, colorIndex)=>{
                                const colorSizes = colorData.sizes || [];
                                const colorSizeStocks = colorData.sizeStocks || {};
                                if (colorSizes.length > 0) {
                                    colorSizes.forEach((size)=>{
                                        const stockForVariant = colorSizeStocks[size] || colorData.stock || '0';
                                        const skuSuffix = colorDataArray.length > 1 || colorSizes.length > 1 ? `-${colorIndex + 1}-${colorSizes.indexOf(size) + 1}` : '';
                                        let finalSku = colorData.sizeLabels?.[size] || variant.sku ? `${variant.sku?.trim()}${skuSuffix}` : undefined;
                                        if (!finalSku || finalSku === '') {
                                            finalSku = `${currentFormData.slug || 'PROD'}-${Date.now()}-${variantIndex + 1}-${colorIndex + 1}-${colorSizes.indexOf(size) + 1}`;
                                        }
                                        let uniqueSku = finalSku;
                                        let skuCounter = 1;
                                        while(variantSkuSet.has(uniqueSku)){
                                            uniqueSku = `${finalSku}-${skuCounter}`;
                                            skuCounter++;
                                        }
                                        variantSkuSet.add(uniqueSku);
                                        const variantImageUrl = colorData.images && colorData.images.length > 0 ? colorData.images.join(',') : undefined;
                                        const sizePrice = colorData.sizePrices?.[size];
                                        const finalPriceRaw = sizePrice && sizePrice.trim() !== '' ? parseFloat(sizePrice) : colorData.price && colorData.price.trim() !== '' ? parseFloat(colorData.price) : baseVariantData.price;
                                        const finalPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["convertPrice"])(finalPriceRaw, defaultCurrency, 'USD');
                                        const variantOptions = [];
                                        if (colorData.colorValue && colorData.colorValue.trim() !== '') {
                                            const colorAttr = attributes.find((a)=>a.key === 'color');
                                            const colorValue = colorAttr?.values.find((v)=>v.value === colorData.colorValue);
                                            if (colorValue) {
                                                variantOptions.push({
                                                    attributeKey: 'color',
                                                    value: colorData.colorValue,
                                                    valueId: colorValue.id
                                                });
                                            } else {
                                                variantOptions.push({
                                                    attributeKey: 'color',
                                                    value: colorData.colorValue
                                                });
                                            }
                                        }
                                        if (size && size.trim() !== '') {
                                            const sizeAttr = attributes.find((a)=>a.key === 'size');
                                            const sizeValue = sizeAttr?.values.find((v)=>v.value === size);
                                            if (sizeValue) {
                                                variantOptions.push({
                                                    attributeKey: 'size',
                                                    value: size,
                                                    valueId: sizeValue.id
                                                });
                                            } else {
                                                variantOptions.push({
                                                    attributeKey: 'size',
                                                    value: size
                                                });
                                            }
                                        }
                                        variants.push({
                                            ...baseVariantData,
                                            price: finalPrice,
                                            color: colorData.colorValue,
                                            size: size,
                                            stock: parseInt(stockForVariant) || 0,
                                            sku: uniqueSku,
                                            imageUrl: variantImageUrl,
                                            options: variantOptions.length > 0 ? variantOptions : undefined
                                        });
                                    });
                                }
                            });
                        }
                    });
                }
            }
            // Final SKU validation
            const finalSkuSet = new Set();
            for(let i = 0; i < variants.length; i++){
                const variant = variants[i];
                if (!variant.sku || variant.sku.trim() === '') {
                    const baseSlug = currentFormData.slug || 'PROD';
                    variant.sku = `${baseSlug.toUpperCase()}-${Date.now()}-${i + 1}`;
                } else {
                    variant.sku = variant.sku.trim();
                }
                let finalSku = variant.sku;
                let skuCounter = 1;
                while(finalSkuSet.has(finalSku)){
                    const baseSlug = currentFormData.slug || 'PROD';
                    finalSku = `${baseSlug.toUpperCase()}-${Date.now()}-${i + 1}-${skuCounter}-${Math.random().toString(36).substr(2, 4)}`;
                    skuCounter++;
                }
                variant.sku = finalSku;
                finalSkuSet.add(finalSku);
            }
            // Collect attribute IDs
            const attributeIdsSet = new Set();
            const colorAttribute = getColorAttribute();
            const sizeAttribute = getSizeAttribute();
            if (colorAttribute) attributeIdsSet.add(colorAttribute.id);
            if (sizeAttribute) attributeIdsSet.add(sizeAttribute.id);
            const attributeIds = Array.from(attributeIdsSet);
            // Process images
            const imageProcessor = useImageProcessingForSubmit({
                imageUrls: currentFormData.imageUrls,
                featuredImageIndex: currentFormData.featuredImageIndex,
                mainProductImage: currentFormData.mainProductImage,
                variants: variants
            });
            const { finalMedia, mainImage, processedVariants } = imageProcessor.processImagesForSubmit();
            const finalVariants = processedVariants.length > 0 ? processedVariants : variants;
            // Create and submit payload
            const payloadCreator = useProductPayloadCreation({
                formData: currentFormData,
                finalBrandIds,
                finalPrimaryCategoryId,
                variants: finalVariants,
                attributeIds,
                finalMedia,
                mainImage,
                isEditMode,
                productId,
                creationMessages,
                setLoading
            });
            await payloadCreator.createAndSubmitPayload();
        } catch (err) {
            console.error(' [ADMIN] Error saving product:', err);
        } finally{
            setLoading(false);
        }
    };
    return {
        handleSubmit
    };
}
_s(useProductFormHandlers, "c8KM1DiM7GVZgHYMm31w+ywC96k=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useBrandAndCategoryCreation$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useBrandAndCategoryCreation"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantConversionToFormData$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useVariantConversionToFormData"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantValidation$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useVariantValidation"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/app/admin/products/add/page.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>AddProductPage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$auth$2f$AuthContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/auth/AuthContext.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Card$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Card.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$BasicInformation$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductImages$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/ProductImages.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$CategoriesBrands$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$SimpleProductFields$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$AttributesSelection$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$VariantBuilder$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductLabels$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ValueSelectionModal$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$Publishing$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/Publishing.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$FormActions$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/FormActions.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$PageHeader$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/PageHeader.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useLabelManagement$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useLabelManagement.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useImageHandling$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useImageHandling.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantGeneration$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useVariantGeneration.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductDataLoading$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useProductDataLoading.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductEditMode$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useProductEditMode.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductVariantConversion$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useProductVariantConversion.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductAttributeHandlers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useProductAttributeHandlers.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductFormHandlers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useProductFormHandlers.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/utils/productUtils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function AddProductPageContent() {
    _s();
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"])();
    const { isLoggedIn, isAdmin, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$auth$2f$AuthContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useAuth"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const searchParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSearchParams"])();
    const productId = searchParams.get('id');
    const isEditMode = !!productId;
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [loadingProduct, setLoadingProduct] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [brands, setBrands] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [categories, setCategories] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [attributes, setAttributes] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [formData, setFormData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        title: '',
        slug: '',
        descriptionHtml: '',
        brandIds: [],
        primaryCategoryId: '',
        categoryIds: [],
        published: false,
        featured: false,
        imageUrls: [],
        featuredImageIndex: 0,
        mainProductImage: '',
        variants: [],
        labels: []
    });
    const [categoriesExpanded, setCategoriesExpanded] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [brandsExpanded, setBrandsExpanded] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const fileInputRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const variantImageInputRefs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])({});
    const attributesDropdownRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [attributesDropdownOpen, setAttributesDropdownOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [colorImageTarget, setColorImageTarget] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [imageUploadLoading, setImageUploadLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [imageUploadError, setImageUploadError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [newBrandName, setNewBrandName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [newCategoryName, setNewCategoryName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('');
    const [useNewBrand, setUseNewBrand] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [useNewCategory, setUseNewCategory] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Attribute handlers state moved to hook
    // Default currency from settings
    const [defaultCurrency, setDefaultCurrency] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('AMD');
    // Product Type: 'simple' or 'variable' (default: 'variable')
    const [productType, setProductType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])('variable');
    // Simple product fields (only used when productType === 'simple')
    const [simpleProductData, setSimpleProductData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        price: '',
        compareAtPrice: '',
        sku: '',
        quantity: ''
    });
    // New Multi-Attribute Variant Builder state
    const [selectedAttributesForVariants, setSelectedAttributesForVariants] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(new Set()); // Selected attribute IDs
    const [selectedAttributeValueIds, setSelectedAttributeValueIds] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({}); // Key: attributeId, Value: array of selected value IDs
    // State for managing value selection modal
    const [openValueModal, setOpenValueModal] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [generatedVariants, setGeneratedVariants] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    // Track if we're loading variants in edit mode (to show table immediately)
    const [hasVariantsToLoad, setHasVariantsToLoad] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Use data loading hook
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductDataLoading$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductDataLoading"])({
        isLoggedIn,
        isAdmin,
        isLoading,
        setBrands,
        setCategories,
        setAttributes,
        setDefaultCurrency,
        attributesDropdownOpen,
        setAttributesDropdownOpen,
        attributesDropdownRef,
        categoriesExpanded,
        setCategoriesExpanded,
        brandsExpanded,
        setBrandsExpanded
    });
    // Use edit mode hook
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductEditMode$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductEditMode"])({
        productId,
        isLoggedIn,
        isAdmin,
        attributes,
        defaultCurrency,
        setLoadingProduct,
        setFormData,
        setUseNewBrand,
        setUseNewCategory,
        setNewBrandName,
        setNewCategoryName,
        setHasVariantsToLoad,
        setProductType,
        setSimpleProductData
    });
    // Use variant conversion hook
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductVariantConversion$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductVariantConversion"])({
        productId,
        attributes,
        defaultCurrency,
        setSelectedAttributesForVariants,
        setSelectedAttributeValueIds,
        setGeneratedVariants,
        setHasVariantsToLoad
    });
    // Variant generation using hook
    const { applyToAllVariants } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantGeneration$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useVariantGeneration"])({
        selectedAttributesForVariants,
        selectedAttributeValueIds,
        attributes,
        generatedVariants,
        formDataSlug: formData.slug,
        formDataTitle: formData.title,
        isEditMode,
        productId,
        setGeneratedVariants
    });
    const handleTitleChange = (e)=>{
        const title = e.target.value;
        setFormData((prev)=>({
                ...prev,
                title,
                slug: prev.slug || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateSlug"])(title)
            }));
    };
    // Check if selected category requires sizes
    const isClothingCategory = ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["isClothingCategory"])(formData.primaryCategoryId, categories);
    // Image handling using hook
    const { addImageUrl, removeImageUrl, updateImageUrl, setFeaturedImage, handleUploadImages, handleUploadVariantImage, handleUploadColorImages, addColorImages } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useImageHandling$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useImageHandling"])({
        imageUrls: formData.imageUrls,
        featuredImageIndex: formData.featuredImageIndex,
        variants: formData.variants,
        generatedVariants,
        colorImageTarget,
        setImageUrls: {
            "AddProductPageContent.useImageHandling": (updater)=>setFormData({
                    "AddProductPageContent.useImageHandling": (prev)=>({
                            ...prev,
                            imageUrls: updater(prev.imageUrls)
                        })
                }["AddProductPageContent.useImageHandling"])
        }["AddProductPageContent.useImageHandling"],
        setFeaturedImageIndex: {
            "AddProductPageContent.useImageHandling": (index)=>setFormData({
                    "AddProductPageContent.useImageHandling": (prev)=>({
                            ...prev,
                            featuredImageIndex: index
                        })
                }["AddProductPageContent.useImageHandling"])
        }["AddProductPageContent.useImageHandling"],
        setMainProductImage: {
            "AddProductPageContent.useImageHandling": (image)=>setFormData({
                    "AddProductPageContent.useImageHandling": (prev)=>({
                            ...prev,
                            mainProductImage: image
                        })
                }["AddProductPageContent.useImageHandling"])
        }["AddProductPageContent.useImageHandling"],
        setVariants: {
            "AddProductPageContent.useImageHandling": (updater)=>setFormData({
                    "AddProductPageContent.useImageHandling": (prev)=>({
                            ...prev,
                            variants: updater(prev.variants)
                        })
                }["AddProductPageContent.useImageHandling"])
        }["AddProductPageContent.useImageHandling"],
        setGeneratedVariants,
        setImageUploadLoading,
        setImageUploadError,
        setColorImageTarget,
        t
    });
    // Label management using hook
    const { addLabel, removeLabel, updateLabel } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useLabelManagement$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useLabelManagement"])(formData.labels, {
        "AddProductPageContent.useLabelManagement": (updater)=>setFormData({
                "AddProductPageContent.useLabelManagement": (prev)=>({
                        ...prev,
                        labels: updater(prev.labels)
                    })
            }["AddProductPageContent.useLabelManagement"])
    }["AddProductPageContent.useLabelManagement"]);
    // Memoize color and size attributes to avoid unnecessary recalculations
    const colorAttribute = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "AddProductPageContent.useMemo[colorAttribute]": ()=>{
            if (!attributes || attributes.length === 0) {
                return undefined;
            }
            const colorAttr = attributes.find({
                "AddProductPageContent.useMemo[colorAttribute].colorAttr": (attr)=>attr.key === 'color'
            }["AddProductPageContent.useMemo[colorAttribute].colorAttr"]);
            if (!colorAttr) {
                console.log(' [ADMIN] Color attribute not found. Available attributes:', attributes.map({
                    "AddProductPageContent.useMemo[colorAttribute]": (a)=>({
                            key: a.key,
                            name: a.name
                        })
                }["AddProductPageContent.useMemo[colorAttribute]"]));
            } else {
                console.log(' [ADMIN] Color attribute found:', {
                    id: colorAttr.id,
                    key: colorAttr.key,
                    valuesCount: colorAttr.values?.length || 0
                });
            }
            return colorAttr;
        }
    }["AddProductPageContent.useMemo[colorAttribute]"], [
        attributes
    ]);
    const sizeAttribute = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "AddProductPageContent.useMemo[sizeAttribute]": ()=>{
            if (!attributes || attributes.length === 0) {
                return undefined;
            }
            const sizeAttr = attributes.find({
                "AddProductPageContent.useMemo[sizeAttribute].sizeAttr": (attr)=>attr.key === 'size'
            }["AddProductPageContent.useMemo[sizeAttribute].sizeAttr"]);
            if (!sizeAttr) {
                console.log(' [ADMIN] Size attribute not found. Available attributes:', attributes.map({
                    "AddProductPageContent.useMemo[sizeAttribute]": (a)=>({
                            key: a.key,
                            name: a.name
                        })
                }["AddProductPageContent.useMemo[sizeAttribute]"]));
            } else {
                console.log(' [ADMIN] Size attribute found:', {
                    id: sizeAttr.id,
                    key: sizeAttr.key,
                    valuesCount: sizeAttr.values?.length || 0
                });
            }
            return sizeAttr;
        }
    }["AddProductPageContent.useMemo[sizeAttribute]"], [
        attributes
    ]);
    // Keep getColorAttribute and getSizeAttribute for backward compatibility
    const getColorAttribute = ()=>colorAttribute;
    const getSizeAttribute = ()=>sizeAttribute;
    // Use attribute handlers hook
    const attributeHandlers = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductAttributeHandlers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductAttributeHandlers"])({
        attributes,
        setAttributes,
        getColorAttribute,
        getSizeAttribute
    });
    // Use form handlers hook
    const { handleSubmit } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductFormHandlers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductFormHandlers"])({
        formData,
        setFormData,
        setLoading,
        setBrands,
        setCategories,
        productType,
        simpleProductData,
        selectedAttributesForVariants,
        generatedVariants,
        attributes,
        defaultCurrency,
        useNewBrand,
        newBrandName,
        useNewCategory,
        newCategoryName,
        isEditMode,
        productId,
        getColorAttribute,
        getSizeAttribute,
        isClothingCategory
    });
    if (isLoading || loadingProduct) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "min-h-screen flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 275,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-gray-600",
                        children: loadingProduct ? t('admin.products.add.loadingProduct') : t('admin.products.add.loading')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 276,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 274,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
            lineNumber: 273,
            columnNumber: 7
        }, this);
    }
    if (!isLoggedIn || !isAdmin) {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "min-h-screen bg-gray-50 py-8",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$PageHeader$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PageHeader"], {
                            isEditMode: isEditMode
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                            lineNumber: 292,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Card$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Card"], {
                            className: "p-6 pb-24 sm:pb-24",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
                                onSubmit: handleSubmit,
                                className: "space-y-14",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$BasicInformation$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["BasicInformation"], {
                                        productType: productType,
                                        setProductType: setProductType,
                                        title: formData.title,
                                        slug: formData.slug,
                                        descriptionHtml: formData.descriptionHtml,
                                        onTitleChange: handleTitleChange,
                                        onSlugChange: (e)=>setFormData((prev)=>({
                                                    ...prev,
                                                    slug: e.target.value
                                                })),
                                        onDescriptionChange: (e)=>setFormData((prev)=>({
                                                    ...prev,
                                                    descriptionHtml: e.target.value
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 297,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductImages$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ProductImages"], {
                                        imageUrls: formData.imageUrls,
                                        featuredImageIndex: formData.featuredImageIndex,
                                        imageUploadLoading: imageUploadLoading,
                                        imageUploadError: imageUploadError,
                                        fileInputRef: fileInputRef,
                                        onUploadImages: handleUploadImages,
                                        onRemoveImage: removeImageUrl,
                                        onSetFeaturedImage: setFeaturedImage
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 309,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$CategoriesBrands$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CategoriesBrands"], {
                                        categories: categories,
                                        brands: brands,
                                        categoryIds: formData.categoryIds,
                                        brandIds: formData.brandIds,
                                        categoriesExpanded: categoriesExpanded,
                                        brandsExpanded: brandsExpanded,
                                        useNewCategory: useNewCategory,
                                        useNewBrand: useNewBrand,
                                        newCategoryName: newCategoryName,
                                        newBrandName: newBrandName,
                                        onCategoriesExpandedChange: setCategoriesExpanded,
                                        onBrandsExpandedChange: setBrandsExpanded,
                                        onUseNewCategoryChange: setUseNewCategory,
                                        onUseNewBrandChange: setUseNewBrand,
                                        onNewCategoryNameChange: setNewCategoryName,
                                        onNewBrandNameChange: setNewBrandName,
                                        onCategoryIdsChange: (ids)=>setFormData((prev)=>({
                                                    ...prev,
                                                    categoryIds: ids
                                                })),
                                        onBrandIdsChange: (ids)=>setFormData((prev)=>({
                                                    ...prev,
                                                    brandIds: ids
                                                })),
                                        onPrimaryCategoryIdChange: (id)=>setFormData((prev)=>({
                                                    ...prev,
                                                    primaryCategoryId: id
                                                })),
                                        isClothingCategory: isClothingCategory,
                                        onVariantsUpdate: (updater)=>setFormData((prev)=>({
                                                    ...prev,
                                                    variants: updater(prev.variants)
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 321,
                                        columnNumber: 13
                                    }, this),
                                    productType === 'simple' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$SimpleProductFields$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SimpleProductFields"], {
                                        price: simpleProductData.price,
                                        compareAtPrice: simpleProductData.compareAtPrice,
                                        sku: simpleProductData.sku,
                                        quantity: simpleProductData.quantity,
                                        defaultCurrency: defaultCurrency,
                                        onPriceChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    price: value
                                                })),
                                        onCompareAtPriceChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    compareAtPrice: value
                                                })),
                                        onSkuChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    sku: value
                                                })),
                                        onQuantityChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    quantity: value
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 347,
                                        columnNumber: 15
                                    }, this),
                                    productType === 'variable' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$AttributesSelection$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AttributesSelection"], {
                                        attributes: attributes,
                                        selectedAttributesForVariants: selectedAttributesForVariants,
                                        selectedAttributeValueIds: selectedAttributeValueIds,
                                        attributesDropdownOpen: attributesDropdownOpen,
                                        attributesDropdownRef: attributesDropdownRef,
                                        onAttributesDropdownToggle: ()=>setAttributesDropdownOpen(!attributesDropdownOpen),
                                        onAttributeToggle: (attributeId, checked)=>{
                                            const newSet = new Set(selectedAttributesForVariants);
                                            if (checked) {
                                                newSet.add(attributeId);
                                            } else {
                                                newSet.delete(attributeId);
                                                const newValueIds = {
                                                    ...selectedAttributeValueIds
                                                };
                                                delete newValueIds[attributeId];
                                                setSelectedAttributeValueIds(newValueIds);
                                            }
                                            setSelectedAttributesForVariants(newSet);
                                        },
                                        onAttributeRemove: (attributeId)=>{
                                            const newSet = new Set(selectedAttributesForVariants);
                                            newSet.delete(attributeId);
                                            const newValueIds = {
                                                ...selectedAttributeValueIds
                                            };
                                            delete newValueIds[attributeId];
                                            setSelectedAttributeValueIds(newValueIds);
                                            setSelectedAttributesForVariants(newSet);
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 362,
                                        columnNumber: 15
                                    }, this),
                                    productType === 'variable' && (isEditMode && (generatedVariants.length > 0 || hasVariantsToLoad) || selectedAttributesForVariants.size > 0) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$VariantBuilder$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["VariantBuilder"], {
                                        generatedVariants: generatedVariants,
                                        attributes: attributes,
                                        selectedAttributesForVariants: selectedAttributesForVariants,
                                        isEditMode: isEditMode,
                                        hasVariantsToLoad: hasVariantsToLoad,
                                        defaultCurrency: defaultCurrency,
                                        imageUploadLoading: imageUploadLoading,
                                        slug: formData.slug,
                                        title: formData.title,
                                        variantImageInputRefs: variantImageInputRefs,
                                        onVariantUpdate: setGeneratedVariants,
                                        onVariantDelete: (variantId)=>{
                                            setGeneratedVariants((prev)=>prev.filter((v)=>v.id !== variantId));
                                        },
                                        onVariantAdd: ()=>{
                                            const newVariant = {
                                                id: `variant-${Date.now()}-${Math.random()}`,
                                                selectedValueIds: [],
                                                price: '0.00',
                                                compareAtPrice: '0.00',
                                                stock: '0',
                                                sku: 'PROD',
                                                image: null
                                            };
                                            setGeneratedVariants((prev)=>{
                                                const updated = [
                                                    ...prev,
                                                    newVariant
                                                ];
                                                console.log(' [VARIANT BUILDER] New manual variant added:', {
                                                    newVariantId: newVariant.id,
                                                    totalVariants: updated.length,
                                                    manualVariants: updated.filter((v)=>v.id !== 'variant-all').length,
                                                    autoVariants: updated.filter((v)=>v.id === 'variant-all').length
                                                });
                                                return updated;
                                            });
                                        },
                                        onApplyToAll: applyToAllVariants,
                                        onVariantImageUpload: handleUploadVariantImage,
                                        onOpenValueModal: setOpenValueModal,
                                        generateSlug: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["generateSlug"]
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 396,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductLabels$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ProductLabels"], {
                                        labels: formData.labels,
                                        onAddLabel: addLabel,
                                        onRemoveLabel: removeLabel,
                                        onUpdateLabel: updateLabel
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 440,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$Publishing$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Publishing"], {
                                        featured: formData.featured,
                                        onFeaturedChange: (featured)=>setFormData((prev)=>({
                                                    ...prev,
                                                    featured
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 448,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$FormActions$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["FormActions"], {
                                        loading: loading,
                                        isEditMode: isEditMode
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 454,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                lineNumber: 295,
                                columnNumber: 11
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                            lineNumber: 294,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                    lineNumber: 291,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 289,
                columnNumber: 7
            }, this),
            openValueModal && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ValueSelectionModal$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ValueSelectionModal"], {
                openValueModal: openValueModal,
                variant: generatedVariants.find((v)=>v.id === openValueModal.variantId),
                attribute: attributes.find((a)=>a.id === openValueModal.attributeId),
                selectedAttributeValueIds: selectedAttributeValueIds,
                onClose: ()=>setOpenValueModal(null),
                onVariantUpdate: setGeneratedVariants,
                onAttributeValueIdsUpdate: setSelectedAttributeValueIds
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 462,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
        lineNumber: 288,
        columnNumber: 5
    }, this);
}
_s(AddProductPageContent, "8Gux06nSUmmm2DsU0vG6pikKHkw=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTranslation"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$auth$2f$AuthContext$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useAuth"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSearchParams"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductDataLoading$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductDataLoading"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductEditMode$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductEditMode"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductVariantConversion$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductVariantConversion"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantGeneration$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useVariantGeneration"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useImageHandling$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useImageHandling"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useLabelManagement$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useLabelManagement"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductAttributeHandlers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductAttributeHandlers"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useProductFormHandlers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useProductFormHandlers"]
    ];
});
_c = AddProductPageContent;
function AddProductPage() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Suspense"], {
        fallback: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "min-h-screen bg-gray-50 flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 481,
                        columnNumber: 11
                    }, void 0),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-sm text-gray-600",
                        children: "Loading..."
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 482,
                        columnNumber: 11
                    }, void 0)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 480,
                columnNumber: 9
            }, void 0)
        }, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
            lineNumber: 479,
            columnNumber: 7
        }, void 0),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(AddProductPageContent, {}, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
            lineNumber: 486,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
        lineNumber: 478,
        columnNumber: 5
    }, this);
}
_c1 = AddProductPage;
var _c, _c1;
__turbopack_context__.k.register(_c, "AddProductPageContent");
__turbopack_context__.k.register(_c1, "AddProductPage");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=_d47a6da6._.js.map