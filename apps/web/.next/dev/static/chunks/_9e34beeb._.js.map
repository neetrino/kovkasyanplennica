{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/AdminMenuDrawer.tsx"],"sourcesContent":["'use client';\r\n\r\nimport type { ReactNode } from 'react';\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport interface AdminMenuItem {\r\n  id: string;\r\n  label: string;\r\n  path: string;\r\n  icon: ReactNode;\r\n  isSubCategory?: boolean;\r\n}\r\n\r\ninterface AdminMenuDrawerProps {\r\n  tabs: AdminMenuItem[];\r\n  currentPath: string;\r\n}\r\n\r\n/**\r\n * Renders a mobile-friendly admin hamburger menu that mirrors the desktop sidebar.\r\n */\r\nexport function AdminMenuDrawer({ tabs, currentPath }: AdminMenuDrawerProps) {\r\n  const router = useRouter();\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      console.info('[AdminMenuDrawer] Locking body scroll for open drawer');\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = '';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [open]);\r\n\r\n  /**\r\n   * Handles navigation button clicks inside the drawer.\r\n   */\r\n  const handleNavigate = (path: string) => {\r\n    console.info('[AdminMenuDrawer] Navigating to admin path', { path });\r\n    router.push(path);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"lg:hidden\">\r\n      <button\r\n        type=\"button\"\r\n        onClick={() => {\r\n          console.info('[AdminMenuDrawer] Toggling drawer', { open: !open });\r\n          setOpen(true);\r\n        }}\r\n        className=\"inline-flex items-center gap-2 rounded-full border border-gray-200 bg-white px-4 py-2 text-sm font-semibold uppercase tracking-wide text-gray-800 shadow-sm\"\r\n      >\r\n        <svg className=\"h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2}>\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M4 6H20M4 12H16M4 18H12\" />\r\n        </svg>\r\n        Menu\r\n      </button>\r\n\r\n      {open && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex bg-black/40 backdrop-blur-sm\"\r\n          onClick={() => {\r\n            console.info('[AdminMenuDrawer] Closing drawer from backdrop');\r\n            setOpen(false);\r\n          }}\r\n        >\r\n          <div\r\n            className=\"h-full min-h-screen w-1/2 min-w-[16rem] max-w-full bg-white flex flex-col shadow-2xl\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            onClick={(event) => event.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-center justify-between border-b border-gray-200 px-5 py-4\">\r\n              <p className=\"text-lg font-semibold text-gray-900\">Admin Navigation</p>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  console.info('[AdminMenuDrawer] Closing drawer from close button');\r\n                  setOpen(false);\r\n                }}\r\n                className=\"h-10 w-10 rounded-full border border-gray-200 text-gray-600 hover:border-gray-300 hover:text-gray-900\"\r\n                aria-label=\"Close admin menu\"\r\n              >\r\n                <svg className=\"mx-auto h-5 w-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2}>\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto divide-y divide-gray-100\">\r\n              {tabs.map((tab) => {\r\n                const isActive =\r\n                  currentPath === tab.path ||\r\n                  (tab.path === '/admin' && currentPath === '/admin') ||\r\n                  (tab.path !== '/admin' && currentPath.startsWith(tab.path));\r\n\r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => handleNavigate(tab.path)}\r\n                    className={`flex w-full items-center justify-between px-4 py-3 text-left text-sm font-medium ${\r\n                      tab.isSubCategory ? 'pl-8' : ''\r\n                    } ${\r\n                      isActive ? 'bg-gray-900 text-white' : 'text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    <span className=\"flex items-center gap-3\">\r\n                      <span className={isActive ? 'text-white' : 'text-gray-500'}>{tab.icon}</span>\r\n                      {tab.label}\r\n                    </span>\r\n                    <svg className={`w-4 h-4 ${isActive ? 'text-white' : 'text-gray-400'}`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n                    </svg>\r\n                  </button>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;;;AAJA;;;AAsBO,SAAS,gBAAgB,EAAE,IAAI,EAAE,WAAW,EAAwB;;IACzE,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IAEjC,IAAA,0KAAS;qCAAC;YACR,IAAI,MAAM;gBACR,QAAQ,IAAI,CAAC;gBACb,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC,OAAO;gBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;YACjC;YAEA;6CAAO;oBACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;gBACjC;;QACF;oCAAG;QAAC;KAAK;IAET;;GAEC,GACD,MAAM,iBAAiB,CAAC;QACtB,QAAQ,IAAI,CAAC,8CAA8C;YAAE;QAAK;QAClE,OAAO,IAAI,CAAC;QACZ,QAAQ;IACV;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,MAAK;gBACL,SAAS;oBACP,QAAQ,IAAI,CAAC,qCAAqC;wBAAE,MAAM,CAAC;oBAAK;oBAChE,QAAQ;gBACV;gBACA,WAAU;;kCAEV,6LAAC;wBAAI,WAAU;wBAAU,SAAQ;wBAAY,MAAK;wBAAO,QAAO;wBAAe,aAAa;kCAC1F,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,GAAE;;;;;;;;;;;oBACjD;;;;;;;YAIP,sBACC,6LAAC;gBACC,WAAU;gBACV,SAAS;oBACP,QAAQ,IAAI,CAAC;oBACb,QAAQ;gBACV;0BAEA,cAAA,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,cAAW;oBACX,SAAS,CAAC,QAAU,MAAM,eAAe;;sCAEzC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAAsC;;;;;;8CACnD,6LAAC;oCACC,MAAK;oCACL,SAAS;wCACP,QAAQ,IAAI,CAAC;wCACb,QAAQ;oCACV;oCACA,WAAU;oCACV,cAAW;8CAEX,cAAA,6LAAC;wCAAI,WAAU;wCAAkB,SAAQ;wCAAY,MAAK;wCAAO,QAAO;wCAAe,aAAa;kDAClG,cAAA,6LAAC;4CAAK,eAAc;4CAAQ,gBAAe;4CAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;;sCAK3D,6LAAC;4BAAI,WAAU;sCACZ,KAAK,GAAG,CAAC,CAAC;gCACT,MAAM,WACJ,gBAAgB,IAAI,IAAI,IACvB,IAAI,IAAI,KAAK,YAAY,gBAAgB,YACzC,IAAI,IAAI,KAAK,YAAY,YAAY,UAAU,CAAC,IAAI,IAAI;gCAE3D,qBACE,6LAAC;oCAEC,SAAS,IAAM,eAAe,IAAI,IAAI;oCACtC,WAAW,CAAC,iFAAiF,EAC3F,IAAI,aAAa,GAAG,SAAS,GAC9B,CAAC,EACA,WAAW,2BAA2B,kCACtC;;sDAEF,6LAAC;4CAAK,WAAU;;8DACd,6LAAC;oDAAK,WAAW,WAAW,eAAe;8DAAkB,IAAI,IAAI;;;;;;gDACpE,IAAI,KAAK;;;;;;;sDAEZ,6LAAC;4CAAI,WAAW,CAAC,QAAQ,EAAE,WAAW,eAAe,iBAAiB;4CAAE,MAAK;4CAAO,SAAQ;4CAAY,QAAO;sDAC7G,cAAA,6LAAC;gDAAK,eAAc;gDAAQ,gBAAe;gDAAQ,aAAa;gDAAG,GAAE;;;;;;;;;;;;mCAblE,IAAI,EAAE;;;;;4BAiBjB;;;;;;;;;;;;;;;;;;;;;;;AAOd;GA1GgB;;QACC,kJAAS;;;KADV"}},
    {"offset": {"line": 239, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/admin/admin-menu.config.tsx"],"sourcesContent":["import type { AdminMenuItem } from '../../components/AdminMenuDrawer';\r\n\r\n/**\r\n * Unified admin navigation configuration.\r\n *\r\n * ԿԱՐԵՎՈՐ.\r\n * - Մենյուի բոլոր կետերը centrally պահում ենք այստեղ, որ բոլոր admin էջերում նույնը լինի։\r\n * - \"Discounts\" label-ը նույնն է ամեն տեղ, ուղիղ տանում է `/admin/quick-settings` էջ։\r\n * - \"Delivery\" կետը միշտ առկա է, այդ թվում Analytics և Filter by Price էջերում sidebar-ում։\r\n * \r\n * Note: This function returns menu items with translated labels.\r\n * Use getAdminMenuTabs(t) in client components where t is from useTranslation().\r\n */\r\nexport function getAdminMenuTABS(t: (path: string) => string): AdminMenuItem[] {\r\n  return [\r\n  {\r\n    id: 'dashboard',\r\n    label: t('admin.menu.dashboard'),\r\n    path: '/admin',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'orders',\r\n    label: t('admin.menu.orders'),\r\n    path: '/admin/orders',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'products',\r\n    label: t('admin.menu.products'),\r\n    path: '/admin/products',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'categories',\r\n    label: t('admin.menu.categories'),\r\n    path: '/admin/categories',\r\n    isSubCategory: true,\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'brands',\r\n    label: t('admin.menu.brands'),\r\n    path: '/admin/brands',\r\n    isSubCategory: true,\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'attributes',\r\n    label: t('admin.menu.attributes'),\r\n    path: '/admin/attributes',\r\n    isSubCategory: true,\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'quick-settings',\r\n    label: t('admin.menu.discounts'),\r\n    path: '/admin/quick-settings',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'users',\r\n    label: t('admin.menu.users'),\r\n    path: '/admin/users',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'messages',\r\n    label: t('admin.menu.messages'),\r\n    path: '/admin/messages',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'analytics',\r\n    label: t('admin.menu.analytics'),\r\n    path: '/admin/analytics',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'price-filter-settings',\r\n    label: t('admin.menu.filterByPrice'),\r\n    path: '/admin/price-filter-settings',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'delivery',\r\n    label: t('admin.menu.delivery'),\r\n    path: '/admin/delivery',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    id: 'settings',\r\n    label: t('admin.menu.settings'),\r\n    path: '/admin/settings',\r\n    icon: (\r\n      <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\r\n        />\r\n        <path\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n          strokeWidth={2}\r\n          d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  ];\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { ButtonHTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n  function Button(\r\n    { variant = 'primary', size = 'md', className = '', children, ...props },\r\n    ref\r\n  ): ReactElement {\r\n    const baseStyles = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n    \r\n    const variantStyles = {\r\n      primary: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900',\r\n      secondary: 'bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      outline: 'bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      ghost: 'bg-transparent text-gray-900 hover:bg-gray-100 focus:ring-gray-500',\r\n    };\r\n    \r\n    const sizeStyles = {\r\n      sm: 'px-3 py-1.5 text-sm',\r\n      md: 'px-4 py-2 text-base',\r\n      lg: 'px-6 py-3 text-lg',\r\n    };\r\n    \r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={`${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,MAAM,uBAAS,IAAA,2KAAU,OAC9B,SAAS,OACP,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EACxE,GAAG;IAEH,MAAM,aAAa;IAEnB,MAAM,gBAAgB;QACpB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,aAAa;QACjB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,GAAG,WAAW,CAAC,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QACpF,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { HTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\r\n  function Card({ className = '', children, ...props }, ref): ReactElement {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={`bg-white border border-gray-200 rounded-lg shadow-sm ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQO,MAAM,qBAAO,IAAA,2KAAU,OAC5B,SAAS,KAAK,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,GAAG;IACvD,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,qDAAqD,EAAE,WAAW;QAC7E,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 672, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Input.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { InputHTMLAttributes, forwardRef } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  function Input({ label, error, className = '', onKeyDown, ...props }, ref) {\r\n    // Ensure pipe character (|) works in all input fields\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      // Allow pipe character (|) - key code 220 or Shift+Backslash\r\n      if (e.key === '|' || e.keyCode === 220 || (e.shiftKey && e.key === '\\\\')) {\r\n        // Allow the default behavior for pipe character\r\n        return;\r\n      }\r\n      \r\n      // Call original onKeyDown if provided\r\n      if (onKeyDown) {\r\n        onKeyDown(e);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"w-full\">\r\n        {label && (\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            {label}\r\n          </label>\r\n        )}\r\n        <input\r\n          ref={ref}\r\n          className={`w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed ${\r\n            error ? 'border-error focus:ring-error' : 'border-gray-300'\r\n          } ${className}`}\r\n          onKeyDown={handleKeyDown}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p className=\"mt-1 text-sm text-error\">{error}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,MAAM,sBAAQ,IAAA,2KAAU,OAC7B,SAAS,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,GAAG;IACvE,sDAAsD;IACtD,MAAM,gBAAgB,CAAC;QACrB,6DAA6D;QAC7D,IAAI,EAAE,GAAG,KAAK,OAAO,EAAE,OAAO,KAAK,OAAQ,EAAE,QAAQ,IAAI,EAAE,GAAG,KAAK,MAAO;YACxE,gDAAgD;YAChD;QACF;QAEA,sCAAsC;QACtC,IAAI,WAAW;YACb,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,6LAAC;gBACC,KAAK;gBACL,WAAW,CAAC,gKAAgK,EAC1K,QAAQ,kCAAkC,kBAC3C,CAAC,EAAE,WAAW;gBACf,WAAW;gBACV,GAAG,KAAK;;;;;;YAEV,uBACC,6LAAC;gBAAE,WAAU;0BAA2B;;;;;;;;;;;;AAIhD"}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/index.ts"],"sourcesContent":["export { Button } from './Button';\r\nexport { Card } from './Card';\r\nexport { Input } from './Input';\r\n\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 755, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/admin/products/components/ProductFilters.tsx"],"sourcesContent":["'use client';\r\n\r\nimport type { FormEvent } from 'react';\r\nimport { Button } from '@shop/ui';\r\nimport { useTranslation } from '../../../../lib/i18n-client';\r\nimport type { Category } from '../types';\r\n\r\ninterface ProductFiltersProps {\r\n  search: string;\r\n  setSearch: (search: string) => void;\r\n  skuSearch: string;\r\n  setSkuSearch: (sku: string) => void;\r\n  selectedCategories: Set<string>;\r\n  setSelectedCategories: (categories: Set<string> | ((prev: Set<string>) => Set<string>)) => void;\r\n  categories: Category[];\r\n  categoriesLoading: boolean;\r\n  categoriesExpanded: boolean;\r\n  setCategoriesExpanded: (expanded: boolean) => void;\r\n  stockFilter: 'all' | 'inStock' | 'outOfStock';\r\n  setStockFilter: (filter: 'all' | 'inStock' | 'outOfStock') => void;\r\n  minPrice: string;\r\n  setMinPrice: (price: string) => void;\r\n  maxPrice: string;\r\n  setMaxPrice: (price: string) => void;\r\n  selectedIds: Set<string>;\r\n  handleSearch: (e: FormEvent) => void;\r\n  handleBulkDelete: () => void;\r\n  handleClearFilters: () => void;\r\n  bulkDeleting: boolean;\r\n  setPage: (page: number | ((prev: number) => number)) => void;\r\n}\r\n\r\nexport function ProductFilters({\r\n  search,\r\n  setSearch,\r\n  skuSearch,\r\n  setSkuSearch,\r\n  selectedCategories,\r\n  setSelectedCategories,\r\n  categories,\r\n  categoriesLoading,\r\n  categoriesExpanded,\r\n  setCategoriesExpanded,\r\n  stockFilter,\r\n  setStockFilter,\r\n  minPrice,\r\n  setMinPrice,\r\n  maxPrice,\r\n  setMaxPrice,\r\n  selectedIds,\r\n  handleSearch,\r\n  handleBulkDelete,\r\n  handleClearFilters,\r\n  bulkDeleting,\r\n  setPage,\r\n}: ProductFiltersProps) {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <div className=\"space-y-4 mb-6\">\r\n      {/* Search Fields */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n            {t('admin.products.searchByTitleOrSlug')}\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === 'Enter') {\r\n                e.preventDefault();\r\n                handleSearch(e as any);\r\n              }\r\n            }}\r\n            placeholder={t('admin.products.searchPlaceholder')}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\r\n          />\r\n        </div>\r\n        \r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n            {t('admin.products.searchBySku')}\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={skuSearch}\r\n            onChange={(e) => {\r\n              setSkuSearch(e.target.value);\r\n              setPage(1);\r\n            }}\r\n            placeholder={t('admin.products.skuPlaceholder')}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n        {/* Category Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n            {t('admin.products.filterByCategory')}\r\n          </label>\r\n          <div className=\"relative\" data-category-dropdown>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setCategoriesExpanded(!categoriesExpanded)}\r\n              className=\"w-full px-4 py-2.5 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm flex items-center justify-between\"\r\n            >\r\n              <span className=\"text-gray-700\">\r\n                {selectedCategories.size === 0\r\n                  ? t('admin.products.allCategories')\r\n                  : selectedCategories.size === 1\r\n                  ? categories.find(c => selectedCategories.has(c.id))?.title || '1 category'\r\n                  : `${selectedCategories.size} categories`}\r\n              </span>\r\n              <svg\r\n                className={`w-4 h-4 text-gray-500 transition-transform duration-200 ${\r\n                  categoriesExpanded ? 'transform rotate-180' : ''\r\n                }`}\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n              </svg>\r\n            </button>\r\n            {categoriesExpanded && (\r\n              <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto\">\r\n                {categoriesLoading ? (\r\n                  <div className=\"p-3 text-sm text-gray-500 text-center\">{t('admin.products.loadingCategories')}</div>\r\n                ) : categories.length === 0 ? (\r\n                  <div className=\"p-3 text-sm text-gray-500 text-center\">{t('admin.products.noCategoriesAvailable')}</div>\r\n                ) : (\r\n                  <div className=\"p-2\">\r\n                    <div className=\"space-y-1\">\r\n                      {categories.map((category) => (\r\n                        <label\r\n                          key={category.id}\r\n                          className=\"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded\"\r\n                        >\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            checked={selectedCategories.has(category.id)}\r\n                            onChange={(e) => {\r\n                              const newSelected = new Set(selectedCategories);\r\n                              if (e.target.checked) {\r\n                                newSelected.add(category.id);\r\n                              } else {\r\n                                newSelected.delete(category.id);\r\n                              }\r\n                              setSelectedCategories(newSelected);\r\n                              setPage(1);\r\n                            }}\r\n                            className=\"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                          />\r\n                          <span className=\"text-sm text-gray-700\">{category.title}</span>\r\n                        </label>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Stock Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1.5\">\r\n            {t('admin.products.filterByStock')}\r\n          </label>\r\n          <select\r\n            value={stockFilter}\r\n            onChange={(e) => {\r\n              setStockFilter(e.target.value as 'all' | 'inStock' | 'outOfStock');\r\n              setPage(1);\r\n            }}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm\"\r\n          >\r\n            <option value=\"all\">{t('admin.products.allProducts')}</option>\r\n            <option value=\"inStock\">{t('admin.products.inStock')}</option>\r\n            <option value=\"outOfStock\">{t('admin.products.outOfStock')}</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Selected Products and Delete */}\r\n      {selectedIds.size > 0 && (\r\n        <div className=\"px-4 py-3 flex items-center justify-between border border-gray-200 rounded-md bg-white\">\r\n          <div className=\"text-sm text-gray-700\">\r\n            {t('admin.products.selectedProducts').replace('{count}', selectedIds.size.toString())}\r\n          </div>\r\n          <Button\r\n            variant=\"outline\"\r\n            onClick={handleBulkDelete}\r\n            disabled={bulkDeleting}\r\n            className=\"text-sm\"\r\n          >\r\n            {bulkDeleting ? t('admin.products.deleting') : t('admin.products.deleteSelected')}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1095, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/admin/products/components/ProductsTable.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRouter } from 'next/navigation';\r\nimport { Card, Button } from '@shop/ui';\r\nimport { useTranslation } from '../../../../lib/i18n-client';\r\nimport { formatPrice, type CurrencyCode } from '../../../../lib/currency';\r\nimport type { Product, ProductsResponse } from '../types';\r\n\r\ninterface ProductsTableProps {\r\n  loading: boolean;\r\n  sortedProducts: Product[];\r\n  products: Product[];\r\n  selectedIds: Set<string>;\r\n  toggleSelect: (id: string) => void;\r\n  toggleSelectAll: () => void;\r\n  sortBy: string;\r\n  handleHeaderSort: (field: 'price' | 'createdAt' | 'title' | 'stock') => void;\r\n  currency: CurrencyCode;\r\n  handleDeleteProduct: (productId: string, productTitle: string) => void;\r\n  handleTogglePublished: (productId: string, currentStatus: boolean, productTitle: string) => void;\r\n  handleToggleFeatured: (productId: string, currentStatus: boolean, productTitle: string) => void;\r\n  meta: ProductsResponse['meta'] | null;\r\n  page: number;\r\n  setPage: (page: number | ((prev: number) => number)) => void;\r\n}\r\n\r\n/**\r\n * Helper function to process image URLs\r\n * Handles relative paths, absolute URLs and base64\r\n */\r\nconst processImageUrl = (url: string | null) => {\r\n  if (!url) return '';\r\n  if (url.startsWith('data:') || url.startsWith('http://') || url.startsWith('https://')) {\r\n    return url;\r\n  }\r\n  // For relative paths, ensure they start with a slash\r\n  return url.startsWith('/') ? url : `/${url}`;\r\n};\r\n\r\nexport function ProductsTable({\r\n  loading,\r\n  sortedProducts,\r\n  products,\r\n  selectedIds,\r\n  toggleSelect,\r\n  toggleSelectAll,\r\n  sortBy,\r\n  handleHeaderSort,\r\n  currency,\r\n  handleDeleteProduct,\r\n  handleTogglePublished,\r\n  handleToggleFeatured,\r\n  meta,\r\n  page,\r\n  setPage,\r\n}: ProductsTableProps) {\r\n  const { t } = useTranslation();\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <Card className=\"overflow-hidden\">\r\n      {loading ? (\r\n        <div className=\"p-8 text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">{t('admin.products.loadingProducts')}</p>\r\n        </div>\r\n      ) : sortedProducts.length === 0 ? (\r\n        <div className=\"p-8 text-center\">\r\n          <p className=\"text-gray-600\">{t('admin.products.noProducts')}</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"px-4 py-3\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      aria-label={t('admin.products.selectAll')}\r\n                      checked={products.length > 0 && products.every(p => selectedIds.has(p.id))}\r\n                      onChange={toggleSelectAll}\r\n                    />\r\n                  </th>\r\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleHeaderSort('title')}\r\n                      className=\"inline-flex items-center gap-1 text-gray-500 hover:text-gray-800\"\r\n                    >\r\n                      <span>{t('admin.products.product')}</span>\r\n                      <span className=\"flex flex-col gap-0.5\">\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'title-asc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                        </svg>\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'title-desc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </span>\r\n                    </button> \r\n                  </th>\r\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleHeaderSort('stock')}\r\n                      className=\"inline-flex items-center gap-1 text-gray-500 hover:text-gray-800\"\r\n                    >\r\n                      <span>{t('admin.products.stock')}</span>\r\n                      <span className=\"flex flex-col gap-0.5\">\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'stock-asc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                        </svg>\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'stock-desc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </span>\r\n                    </button>\r\n                  </th>\r\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleHeaderSort('price')}\r\n                      className=\"inline-flex items-center gap-1 text-gray-500 hover:text-gray-800\"\r\n                    >\r\n                      <span>{t('admin.products.price')}</span>\r\n                      <span className=\"flex flex-col gap-0.5\">\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'price-asc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                        </svg>\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'price-desc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </span>\r\n                    </button>\r\n                  </th>\r\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleHeaderSort('createdAt')}\r\n                      className=\"inline-flex items-center gap-1 text-gray-500 hover:text-gray-800\"\r\n                    >\r\n                      <span>{t('admin.products.created')}</span>\r\n                      <span className=\"flex flex-col gap-0.5\">\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'createdAt-asc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                        </svg>\r\n                        <svg\r\n                          className={`w-2.5 h-2.5 ${\r\n                            sortBy === 'createdAt-desc'\r\n                              ? 'text-gray-900'\r\n                              : 'text-gray-400'\r\n                          }`}\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                        </svg>\r\n                      </span>\r\n                    </button>\r\n                  </th>\r\n                  <th className=\"px-3 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    {t('admin.products.featured')}\r\n                  </th>\r\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider pl-6\">\r\n                    {t('admin.products.actions')}\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {sortedProducts.map((product) => (\r\n                  <tr key={product.id} className=\"hover:bg-gray-50\">\r\n                    <td className=\"px-4 py-4\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        aria-label={t('admin.products.selectProduct').replace('{title}', product.title)}\r\n                        checked={selectedIds.has(product.id)}\r\n                        onChange={() => toggleSelect(product.id)}\r\n                      />\r\n                    </td>\r\n                    <td className=\"px-3 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        {product.image && (\r\n                          <img\r\n                            src={processImageUrl(product.image)}\r\n                            alt={product.title}\r\n                            className=\"h-12 w-12 rounded object-cover mr-3\"\r\n                          />\r\n                        )}\r\n                        <div>\r\n                          <div className=\"text-sm font-medium text-gray-900\">{product.title}</div>\r\n                          <div className=\"text-sm text-gray-500\">{product.slug}</div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-3 py-4\">\r\n                      {product.colorStocks && product.colorStocks.length > 0 ? (\r\n                        <div className=\"flex flex-wrap gap-2\">\r\n                          {product.colorStocks.map((colorStock) => (\r\n                            <div\r\n                              key={colorStock.color}\r\n                              className=\"px-3 py-1 bg-gray-100 rounded-lg text-sm\"\r\n                            >\r\n                              <span className=\"font-medium text-gray-900\">{colorStock.color}:</span>\r\n                              <span className=\"ml-1 text-gray-600\">{colorStock.stock} {t('admin.products.pcs')}</span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          {product.stock > 0 ? `${product.stock} ${t('admin.products.pcs')}` : `0 ${t('admin.products.pcs')}`}\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-3 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex flex-col\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">\r\n                          {formatPrice(product.price, currency)}\r\n                        </div>\r\n                        {(product.compareAtPrice && product.compareAtPrice > product.price) || \r\n                         (product.discountPercent && product.discountPercent > 0) ? (\r\n                          <div className=\"text-xs text-gray-500 line-through mt-0.5\">\r\n                            {formatPrice(\r\n                              product.compareAtPrice && product.compareAtPrice > product.price\r\n                                ? product.compareAtPrice\r\n                                : product.price / (1 - (product.discountPercent || 0) / 100),\r\n                              currency\r\n                            )}\r\n                          </div>\r\n                        ) : null}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-3 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {new Date(product.createdAt).toLocaleDateString('hy-AM')}\r\n                    </td>\r\n                    <td className=\"px-3 py-4 whitespace-nowrap text-center\">\r\n                      <button\r\n                        onClick={() => handleToggleFeatured(product.id, product.featured || false, product.title)}\r\n                        className=\"inline-flex items-center justify-center w-8 h-8 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded\"\r\n                        title={product.featured ? t('admin.products.clickToRemoveFeatured') : t('admin.products.clickToMarkFeatured')}\r\n                      >\r\n                        <svg\r\n                          className={`w-6 h-6 transition-all duration-200 ${\r\n                            product.featured\r\n                              ? 'fill-blue-500 text-blue-500 drop-shadow-sm'\r\n                              : 'fill-none stroke-blue-400 text-blue-400 opacity-50 hover:opacity-75'\r\n                          }`}\r\n                          viewBox=\"0 0 24 24\"\r\n                          strokeWidth=\"1.5\"\r\n                          stroke=\"currentColor\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    </td>\r\n                    <td className=\"px-3 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <div className=\"flex items-center gap-1 flex-wrap\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => router.push(`/admin/products/add?id=${product.id}`)}\r\n                          className=\"text-blue-600 hover:text-blue-800 hover:bg-blue-50\"\r\n                        >\r\n                          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\r\n                          </svg>\r\n                          {t('admin.products.edit')}\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleDeleteProduct(product.id, product.title)}\r\n                          className=\"text-red-600 hover:text-red-800 hover:bg-red-50\"\r\n                        >\r\n                          <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\r\n                          </svg>\r\n                          {t('admin.products.delete')}\r\n                        </Button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => handleTogglePublished(product.id, product.published, product.title)}\r\n                          className={`relative inline-flex h-5 w-9 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${\r\n                            product.published\r\n                              ? 'bg-green-500'\r\n                              : 'bg-gray-300'\r\n                          }`}\r\n                          title={product.published ? t('admin.products.clickToDraft') : t('admin.products.clickToPublished')}\r\n                          aria-label={product.published ? `${t('admin.products.published')} - ${t('admin.products.clickToDraft')}` : `${t('admin.products.draft')} - ${t('admin.products.clickToPublished')}`}\r\n                        >\r\n                          <span\r\n                            className={`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform duration-200 ${\r\n                              product.published ? 'translate-x-[18px]' : 'translate-x-0.5'\r\n                            }`}\r\n                          />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {meta && meta.totalPages > 1 && (\r\n            <div className=\"px-6 py-4 border-t border-gray-200 flex items-center justify-between\">\r\n              <div className=\"text-sm text-gray-700\">\r\n                {t('admin.products.showingPage').replace('{page}', meta.page.toString()).replace('{totalPages}', meta.totalPages.toString()).replace('{total}', meta.total.toString())}\r\n              </div>\r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  onClick={() => setPage(p => Math.max(1, p - 1))}\r\n                  disabled={page === 1}\r\n                >\r\n                  {t('admin.products.previous')}\r\n                </Button>\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  onClick={() => setPage(p => Math.min(meta.totalPages, p + 1))}\r\n                  disabled={page === meta.totalPages}\r\n                >\r\n                  {t('admin.products.next')}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1909, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/admin/products/hooks/useProductHandlers.ts"],"sourcesContent":["import { useState } from 'react';\r\nimport type { FormEvent } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { apiClient } from '../../../../lib/api-client';\r\nimport { useTranslation } from '../../../../lib/i18n-client';\r\nimport type { Product, ProductsResponse } from '../types';\r\n\r\ninterface UseProductHandlersProps {\r\n  products: Product[];\r\n  setProducts: (products: Product[]) => void;\r\n  fetchProducts: () => Promise<void>;\r\n  selectedIds: Set<string>;\r\n  setSelectedIds: (ids: Set<string> | ((prev: Set<string>) => Set<string>)) => void;\r\n  setPage: (page: number | ((prev: number) => number)) => void;\r\n  setBulkDeleting: (deleting: boolean) => void;\r\n  setTogglingAllFeatured: (toggling: boolean) => void;\r\n}\r\n\r\nexport function useProductHandlers({\r\n  products,\r\n  setProducts,\r\n  fetchProducts,\r\n  selectedIds,\r\n  setSelectedIds,\r\n  setPage,\r\n  setBulkDeleting,\r\n  setTogglingAllFeatured,\r\n}: UseProductHandlersProps) {\r\n  const { t } = useTranslation();\r\n  const router = useRouter();\r\n\r\n  const handleSearch = (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setPage(1);\r\n    fetchProducts();\r\n  };\r\n\r\n  const toggleSelect = (id: string) => {\r\n    setSelectedIds(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(id)) next.delete(id); else next.add(id);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const toggleSelectAll = () => {\r\n    if (products.length === 0) return;\r\n    setSelectedIds(prev => {\r\n      const allIds = products.map(p => p.id);\r\n      const hasAll = allIds.every(id => prev.has(id));\r\n      return hasAll ? new Set() : new Set(allIds);\r\n    });\r\n  };\r\n\r\n  const handleBulkDelete = async () => {\r\n    if (selectedIds.size === 0) return;\r\n    if (!confirm(t('admin.products.bulkDeleteConfirm').replace('{count}', selectedIds.size.toString()))) return;\r\n    setBulkDeleting(true);\r\n    try {\r\n      const ids = Array.from(selectedIds);\r\n      const results = await Promise.allSettled(\r\n        ids.map(id => apiClient.delete(`/api/v1/admin/products/${id}`))\r\n      );\r\n      const failed = results.filter(r => r.status === 'rejected');\r\n      setSelectedIds(new Set());\r\n      await fetchProducts();\r\n      alert(t('admin.products.bulkDeleteFinished').replace('{success}', (ids.length - failed.length).toString()).replace('{total}', ids.length.toString()));\r\n    } catch (err) {\r\n      console.error('❌ [ADMIN] Bulk delete products error:', err);\r\n      alert(t('admin.products.failedToDelete'));\r\n    } finally {\r\n      setBulkDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteProduct = async (productId: string, productTitle: string) => {\r\n    if (!confirm(t('admin.products.deleteConfirm').replace('{title}', productTitle))) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await apiClient.delete(`/api/v1/admin/products/${productId}`);\r\n      console.log('✅ [ADMIN] Product deleted successfully');\r\n      \r\n      // Refresh products list\r\n      fetchProducts();\r\n      \r\n      alert(t('admin.products.deletedSuccess'));\r\n    } catch (err: any) {\r\n      console.error('❌ [ADMIN] Error deleting product:', err);\r\n      alert(t('admin.products.errorDeleting').replace('{message}', err.message || t('admin.common.unknownErrorFallback')));\r\n    }\r\n  };\r\n\r\n  const handleTogglePublished = async (productId: string, currentStatus: boolean, productTitle: string) => {\r\n    try {\r\n      const newStatus = !currentStatus;\r\n      \r\n      // При изменении только статуса published, отправляем только статус\r\n      // Это позволяет избежать проблем с валидацией вариантов (например, требование размеров)\r\n      // Варианты и другие данные останутся без изменений на сервере\r\n      const updateData = {\r\n        published: newStatus,\r\n      };\r\n      \r\n      console.log(`🔄 [ADMIN] Updating product status to ${newStatus ? 'published' : 'draft'}`);\r\n      \r\n      await apiClient.put(`/api/v1/admin/products/${productId}`, updateData);\r\n      \r\n      console.log(`✅ [ADMIN] Product ${newStatus ? 'published' : 'unpublished'} successfully`);\r\n      \r\n      // Refresh products list\r\n      fetchProducts();\r\n      \r\n      if (newStatus) {\r\n        alert(t('admin.products.productPublished').replace('{title}', productTitle));\r\n      } else {\r\n        alert(t('admin.products.productDraft').replace('{title}', productTitle));\r\n      }\r\n    } catch (err: any) {\r\n      console.error('❌ [ADMIN] Error updating product status:', err);\r\n      alert(t('admin.products.errorUpdatingStatus').replace('{message}', err.message || t('admin.common.unknownErrorFallback')));\r\n    }\r\n  };\r\n\r\n  const handleToggleFeatured = async (productId: string, currentStatus: boolean, productTitle: string) => {\r\n    try {\r\n      const newStatus = !currentStatus;\r\n      \r\n      const updateData = {\r\n        featured: newStatus,\r\n      };\r\n      \r\n      console.log(`⭐ [ADMIN] Updating product featured status to ${newStatus ? 'featured' : 'not featured'}`);\r\n      \r\n      await apiClient.put(`/api/v1/admin/products/${productId}`, updateData);\r\n      \r\n      console.log(`✅ [ADMIN] Product ${newStatus ? 'marked as featured' : 'removed from featured'} successfully`);\r\n      \r\n      // Refresh products list\r\n      fetchProducts();\r\n    } catch (err: any) {\r\n      console.error('❌ [ADMIN] Error updating product featured status:', err);\r\n      alert(t('admin.products.errorUpdatingFeatured').replace('{message}', err.message || t('admin.common.unknownErrorFallback')));\r\n    }\r\n  };\r\n\r\n  const handleToggleAllFeatured = async () => {\r\n    if (products.length === 0) return;\r\n\r\n    // Check if all products are featured\r\n    const allFeatured = products.every(p => p.featured);\r\n    const newStatus = !allFeatured;\r\n\r\n    setTogglingAllFeatured(true);\r\n    try {\r\n      const results = await Promise.allSettled(\r\n        products.map(product => \r\n          apiClient.put(`/api/v1/admin/products/${product.id}`, { featured: newStatus })\r\n        )\r\n      );\r\n      \r\n      const failed = results.filter(r => r.status === 'rejected');\r\n      const successCount = products.length - failed.length;\r\n      \r\n      console.log(`✅ [ADMIN] Toggle all featured completed: ${successCount}/${products.length} successful`);\r\n      \r\n      // Refresh products list\r\n      await fetchProducts();\r\n      \r\n      if (failed.length > 0) {\r\n        alert(t('admin.products.featuredToggleFinished').replace('{success}', successCount.toString()).replace('{total}', products.length.toString()));\r\n      }\r\n    } catch (err) {\r\n      console.error('❌ [ADMIN] Toggle all featured error:', err);\r\n      alert(t('admin.products.failedToUpdateFeatured'));\r\n    } finally {\r\n      setTogglingAllFeatured(false);\r\n    }\r\n  };\r\n\r\n  return {\r\n    handleSearch,\r\n    toggleSelect,\r\n    toggleSelectAll,\r\n    handleBulkDelete,\r\n    handleDeleteProduct,\r\n    handleTogglePublished,\r\n    handleToggleFeatured,\r\n    handleToggleAllFeatured,\r\n  };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2067, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/admin/products/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useMemo } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { useAuth } from '../../../lib/auth/AuthContext';\nimport { apiClient } from '../../../lib/api-client';\nimport { AdminMenuDrawer } from '../../../components/AdminMenuDrawer';\nimport { getAdminMenuTABS } from '../admin-menu.config';\nimport { useTranslation } from '../../../lib/i18n-client';\nimport { getStoredCurrency, initializeCurrencyRates, type CurrencyCode } from '../../../lib/currency';\nimport { ProductFilters } from './components/ProductFilters';\nimport { ProductsTable } from './components/ProductsTable';\nimport { useProductHandlers } from './hooks/useProductHandlers';\nimport type { Product, ProductsResponse, Category } from './types';\n\nexport default function ProductsPage() {\n  const { t } = useTranslation();\n  const { isLoggedIn, isAdmin, isLoading } = useAuth();\n  const router = useRouter();\n  const pathname = usePathname();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  const [selectedCategories, setSelectedCategories] = useState<Set<string>>(new Set());\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [categoriesLoading, setCategoriesLoading] = useState(true);\n  const [categoriesExpanded, setCategoriesExpanded] = useState(false);\n  const [skuSearch, setSkuSearch] = useState('');\n  const [stockFilter, setStockFilter] = useState<'all' | 'inStock' | 'outOfStock'>('all');\n  const [page, setPage] = useState(1);\n  const [meta, setMeta] = useState<ProductsResponse['meta'] | null>(null);\n  const [minPrice, setMinPrice] = useState<string>('');\n  const [maxPrice, setMaxPrice] = useState<string>('');\n  const [sortBy, setSortBy] = useState<string>('createdAt-desc');\n  const [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\n  const [bulkDeleting, setBulkDeleting] = useState(false);\n  const [togglingAllFeatured, setTogglingAllFeatured] = useState(false);\n  const [currency, setCurrency] = useState<CurrencyCode>('USD');\n\n  useEffect(() => {\n    if (!isLoading) {\n      if (!isLoggedIn || !isAdmin) {\n        router.push('/admin');\n        return;\n      }\n    }\n  }, [isLoggedIn, isAdmin, isLoading, router]);\n\n  // Initialize currency rates and listen for currency changes\n  useEffect(() => {\n    const updateCurrency = () => {\n      const newCurrency = getStoredCurrency();\n      console.log('💱 [ADMIN PRODUCTS] Currency updated to:', newCurrency);\n      setCurrency(newCurrency);\n    };\n    \n    // Initialize currency rates\n    initializeCurrencyRates().catch(console.error);\n    \n    // Load currency on mount\n    updateCurrency();\n    \n    // Listen for currency changes\n    if (typeof window !== 'undefined') {\n      window.addEventListener('currency-updated', updateCurrency);\n      const handleCurrencyRatesUpdate = () => {\n        console.log('💱 [ADMIN PRODUCTS] Currency rates updated, refreshing currency...');\n        updateCurrency();\n      };\n      window.addEventListener('currency-rates-updated', handleCurrencyRatesUpdate);\n      \n      return () => {\n        window.removeEventListener('currency-updated', updateCurrency);\n        window.removeEventListener('currency-rates-updated', handleCurrencyRatesUpdate);\n      };\n    }\n  }, []);\n\n  // Fetch categories on mount\n  useEffect(() => {\n    if (isLoggedIn && isAdmin) {\n      fetchCategories();\n    }\n  }, [isLoggedIn, isAdmin]);\n\n  // Close category dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as HTMLElement;\n      if (categoriesExpanded && !target.closest('[data-category-dropdown]')) {\n        setCategoriesExpanded(false);\n      }\n    };\n\n    if (categoriesExpanded) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [categoriesExpanded]);\n\n  const fetchCategories = async () => {\n    try {\n      setCategoriesLoading(true);\n      console.log('📂 [ADMIN] Fetching categories...');\n      const response = await apiClient.get<{ data: Category[] }>('/api/v1/admin/categories');\n      setCategories(response.data || []);\n      console.log('✅ [ADMIN] Categories loaded:', response.data?.length || 0);\n    } catch (err: any) {\n      console.error('❌ [ADMIN] Error fetching categories:', err);\n      setCategories([]);\n    } finally {\n      setCategoriesLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isLoggedIn && isAdmin) {\n      fetchProducts();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isLoggedIn, isAdmin, page, search, selectedCategories, skuSearch, stockFilter, sortBy, minPrice, maxPrice]);\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const params: Record<string, string> = {\n        page: page.toString(),\n        limit: '20',\n      };\n      \n      if (search.trim()) {\n        params.search = search.trim();\n      }\n\n      if (selectedCategories.size > 0) {\n        params.category = Array.from(selectedCategories).join(',');\n      }\n\n      if (skuSearch.trim()) {\n        params.sku = skuSearch.trim();\n      }\n\n      if (minPrice.trim()) {\n        params.minPrice = minPrice.trim();\n      }\n\n      if (maxPrice.trim()) {\n        params.maxPrice = maxPrice.trim();\n      }\n\n      if (sortBy && sortBy.startsWith('createdAt')) {\n        params.sort = sortBy;\n      }\n\n      const response = await apiClient.get<ProductsResponse>('/api/v1/admin/products', {\n        params,\n      });\n      \n      let filteredProducts = response.data || [];\n\n      // Stock filter (client-side)\n      if (stockFilter !== 'all') {\n        filteredProducts = filteredProducts.filter(product => {\n          const getTotalStock = (p: Product) => {\n            if (p.colorStocks && p.colorStocks.length > 0) {\n              return p.colorStocks.reduce((sum, cs) => sum + (cs.stock || 0), 0);\n            }\n            return p.stock ?? 0;\n          };\n          const totalStock = getTotalStock(product);\n          if (stockFilter === 'inStock') {\n            return totalStock > 0;\n          } else if (stockFilter === 'outOfStock') {\n            return totalStock === 0;\n          }\n          return true;\n        });\n      }\n\n      setProducts(filteredProducts);\n      setMeta(response.meta || null);\n    } catch (err: any) {\n      console.error('❌ [ADMIN] Error fetching products:', err);\n      alert(t('admin.products.errorLoading').replace('{message}', err.message || t('admin.common.unknownErrorFallback')));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Client-side sorting for Product / Price / Stock columns\n  const sortedProducts = useMemo(() => {\n    if (!Array.isArray(products)) return [];\n\n    if (!sortBy || sortBy.startsWith('createdAt')) {\n      return products;\n    }\n\n    const [field, directionRaw] = sortBy.split('-');\n    const direction = directionRaw === 'asc' ? 1 : -1;\n\n    console.log('📊 [ADMIN] Applying client-side sort:', { field, direction: directionRaw });\n\n    const cloned = [...products];\n\n    if (field === 'price') {\n      cloned.sort((a, b) => {\n        const aPrice = a.price ?? 0;\n        const bPrice = b.price ?? 0;\n        if (aPrice === bPrice) return 0;\n        return aPrice > bPrice ? direction : -direction;\n      });\n    } else if (field === 'title') {\n      cloned.sort((a, b) => {\n        const aTitle = (a.title || '').toLowerCase();\n        const bTitle = (b.title || '').toLowerCase();\n        if (aTitle === bTitle) return 0;\n        return aTitle > bTitle ? direction : -direction;\n      });\n    } else if (field === 'stock') {\n      cloned.sort((a, b) => {\n        const getTotalStock = (product: Product) => {\n          if (product.colorStocks && product.colorStocks.length > 0) {\n            return product.colorStocks.reduce((sum, cs) => sum + (cs.stock || 0), 0);\n          }\n          return product.stock ?? 0;\n        };\n        const aStock = getTotalStock(a);\n        const bStock = getTotalStock(b);\n        if (aStock === bStock) return 0;\n        return aStock > bStock ? direction : -direction;\n      });\n    }\n\n    return cloned;\n  }, [products, sortBy]);\n\n  const handleHeaderSort = (field: 'price' | 'createdAt' | 'title' | 'stock') => {\n    setPage(1);\n\n    setSortBy((current) => {\n      let next = current;\n\n      if (field === 'price') {\n        if (current === 'price-asc') {\n          next = 'price-desc';\n        } else {\n          next = 'price-asc';\n        }\n      }\n\n      if (field === 'createdAt') {\n        if (current === 'createdAt-asc') {\n          next = 'createdAt-desc';\n        } else {\n          next = 'createdAt-asc';\n        }\n      }\n\n      if (field === 'title') {\n        if (current === 'title-asc') {\n          next = 'title-desc';\n        } else {\n          next = 'title-asc';\n        }\n      }\n\n      if (field === 'stock') {\n        if (current === 'stock-asc') {\n          next = 'stock-desc';\n        } else {\n          next = 'stock-asc';\n        }\n      }\n\n      console.log('📊 [ADMIN] Sort changed from', current, 'to', next, 'by header click');\n      return next;\n    });\n  };\n\n  const handlers = useProductHandlers({\n    products,\n    setProducts,\n    fetchProducts,\n    selectedIds,\n    setSelectedIds,\n    setPage,\n    setBulkDeleting,\n    setTogglingAllFeatured,\n  });\n\n  const handleClearFilters = () => {\n    setSearch('');\n    setSelectedCategories(new Set());\n    setSkuSearch('');\n    setStockFilter('all');\n    setPage(1);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">{t('admin.common.loading')}</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isLoggedIn || !isAdmin) {\n    return null;\n  }\n\n  const adminTabs = getAdminMenuTABS(t);\n  const currentPath = pathname || '/admin/products';\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"mb-6\">\n          <button\n            onClick={() => router.push('/admin')}\n            className=\"text-gray-600 hover:text-gray-900 mb-2 flex items-center text-sm\"\n          >\n            <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n            </svg>\n            {t('admin.products.backToAdmin')}\n          </button>\n          <div className=\"flex items-center justify-between mb-6\">\n            <h1 className=\"text-2xl md:text-3xl font-bold text-gray-900\">{t('admin.products.title')}</h1>\n            {(search || selectedCategories.size > 0 || skuSearch || stockFilter !== 'all') && (\n              <button\n                type=\"button\"\n                onClick={handleClearFilters}\n                className=\"text-sm text-gray-600 hover:text-gray-900 underline\"\n              >\n                {t('admin.products.clearAll')}\n              </button>\n            )}\n          </div>\n        </div>\n\n        <div className=\"flex flex-col lg:flex-row gap-8\">\n          <div className=\"lg:hidden mb-6\">\n            <AdminMenuDrawer tabs={adminTabs} currentPath={currentPath} />\n          </div>\n          {/* Sidebar Navigation */}\n          <aside className=\"hidden lg:block lg:w-64 flex-shrink-0\">\n            <nav className=\"bg-white border border-gray-200 rounded-lg p-2 space-y-1\">\n              {adminTabs.map((tab) => {\n                const isActive = currentPath === tab.path || \n                  (tab.path === '/admin' && currentPath === '/admin') ||\n                  (tab.path !== '/admin' && currentPath.startsWith(tab.path));\n                return (\n                  <button\n                    key={tab.id}\n                    onClick={() => {\n                      router.push(tab.path);\n                    }}\n                    className={`w-full flex items-center gap-3 px-4 py-3 rounded-md text-sm font-medium transition-all ${\n                      tab.isSubCategory ? 'pl-12' : ''\n                    } ${\n                      isActive\n                        ? 'bg-gray-900 text-white'\n                        : 'text-gray-700 hover:bg-gray-100 hover:text-gray-900'\n                    }`}\n                  >\n                    <span className={`flex-shrink-0 ${isActive ? 'text-white' : 'text-gray-500'}`}>\n                      {tab.icon}\n                    </span>\n                    <span className=\"text-left\">{tab.label}</span>\n                  </button>\n                );\n              })}\n            </nav>\n          </aside>\n\n          {/* Main Content */}\n          <div className=\"flex-1 min-w-0\">\n            <ProductFilters\n              search={search}\n              setSearch={setSearch}\n              skuSearch={skuSearch}\n              setSkuSearch={setSkuSearch}\n              selectedCategories={selectedCategories}\n              setSelectedCategories={setSelectedCategories}\n              categories={categories}\n              categoriesLoading={categoriesLoading}\n              categoriesExpanded={categoriesExpanded}\n              setCategoriesExpanded={setCategoriesExpanded}\n              stockFilter={stockFilter}\n              setStockFilter={setStockFilter}\n              minPrice={minPrice}\n              setMinPrice={setMinPrice}\n              maxPrice={maxPrice}\n              setMaxPrice={setMaxPrice}\n              selectedIds={selectedIds}\n              handleSearch={handlers.handleSearch}\n              handleBulkDelete={handlers.handleBulkDelete}\n              handleClearFilters={handleClearFilters}\n              bulkDeleting={bulkDeleting}\n              setPage={setPage}\n            />\n\n            {/* Add New Product Button */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => router.push('/admin/products/add')}\n                className=\"w-full px-4 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2 font-medium text-sm\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                </svg>\n                {t('admin.products.addNewProduct')}\n              </button>\n            </div>\n\n            {/* Products Table */}\n            <ProductsTable\n              loading={loading}\n              sortedProducts={sortedProducts}\n              products={products}\n              selectedIds={selectedIds}\n              toggleSelect={handlers.toggleSelect}\n              toggleSelectAll={handlers.toggleSelectAll}\n              sortBy={sortBy}\n              handleHeaderSort={handleHeaderSort}\n              currency={currency}\n              handleDeleteProduct={handlers.handleDeleteProduct}\n              handleTogglePublished={handlers.handleTogglePublished}\n              handleToggleFeatured={handlers.handleToggleFeatured}\n              meta={meta}\n              page={page}\n              setPage={setPage}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}