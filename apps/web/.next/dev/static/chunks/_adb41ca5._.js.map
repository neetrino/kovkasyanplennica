{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { ButtonHTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n  function Button(\r\n    { variant = 'primary', size = 'md', className = '', children, ...props },\r\n    ref\r\n  ): ReactElement {\r\n    const baseStyles = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n    \r\n    const variantStyles = {\r\n      primary: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900',\r\n      secondary: 'bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      outline: 'bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      ghost: 'bg-transparent text-gray-900 hover:bg-gray-100 focus:ring-gray-500',\r\n    };\r\n    \r\n    const sizeStyles = {\r\n      sm: 'px-3 py-1.5 text-sm',\r\n      md: 'px-4 py-2 text-base',\r\n      lg: 'px-6 py-3 text-lg',\r\n    };\r\n    \r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={`${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,MAAM,uBAAS,IAAA,2KAAU,OAC9B,SAAS,OACP,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EACxE,GAAG;IAEH,MAAM,aAAa;IAEnB,MAAM,gBAAgB;QACpB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,aAAa;QACjB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,GAAG,WAAW,CAAC,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QACpF,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { HTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\r\n  function Card({ className = '', children, ...props }, ref): ReactElement {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={`bg-white border border-gray-200 rounded-lg shadow-sm ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQO,MAAM,qBAAO,IAAA,2KAAU,OAC5B,SAAS,KAAK,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,GAAG;IACvD,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,qDAAqD,EAAE,WAAW;QAC7E,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Input.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { InputHTMLAttributes, forwardRef } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  function Input({ label, error, className = '', onKeyDown, ...props }, ref) {\r\n    // Ensure pipe character (|) works in all input fields\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      // Allow pipe character (|) - key code 220 or Shift+Backslash\r\n      if (e.key === '|' || e.keyCode === 220 || (e.shiftKey && e.key === '\\\\')) {\r\n        // Allow the default behavior for pipe character\r\n        return;\r\n      }\r\n      \r\n      // Call original onKeyDown if provided\r\n      if (onKeyDown) {\r\n        onKeyDown(e);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"w-full\">\r\n        {label && (\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            {label}\r\n          </label>\r\n        )}\r\n        <input\r\n          ref={ref}\r\n          className={`w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed ${\r\n            error ? 'border-error focus:ring-error' : 'border-gray-300'\r\n          } ${className}`}\r\n          onKeyDown={handleKeyDown}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p className=\"mt-1 text-sm text-error\">{error}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,MAAM,sBAAQ,IAAA,2KAAU,OAC7B,SAAS,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,GAAG;IACvE,sDAAsD;IACtD,MAAM,gBAAgB,CAAC;QACrB,6DAA6D;QAC7D,IAAI,EAAE,GAAG,KAAK,OAAO,EAAE,OAAO,KAAK,OAAQ,EAAE,QAAQ,IAAI,EAAE,GAAG,KAAK,MAAO;YACxE,gDAAgD;YAChD;QACF;QAEA,sCAAsC;QACtC,IAAI,WAAW;YACb,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,6LAAC;gBACC,KAAK;gBACL,WAAW,CAAC,gKAAgK,EAC1K,QAAQ,kCAAkC,kBAC3C,CAAC,EAAE,WAAW;gBACf,WAAW;gBACV,GAAG,KAAK;;;;;;YAEV,uBACC,6LAAC;gBAAE,WAAU;0BAA2B;;;;;;;;;;;;AAIhD"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/index.ts"],"sourcesContent":["export { Button } from './Button';\r\nexport { Card } from './Card';\r\nexport { Input } from './Input';\r\n\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/categories/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Card } from '@shop/ui';\r\nimport { apiClient } from '../../lib/api-client';\r\nimport { getStoredLanguage } from '../../lib/language';\r\nimport { useTranslation } from '../../lib/i18n-client';\r\n\r\ninterface Category {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  fullPath: string;\r\n  children: Category[];\r\n}\r\n\r\ninterface CategoriesResponse {\r\n  data: Category[];\r\n}\r\n\r\ninterface ProductsResponse {\r\n  data: unknown[];\r\n  meta?: {\r\n    total: number;\r\n    page: number;\r\n    limit: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\nexport default function CategoriesPage() {\r\n  const router = useRouter();\r\n  const { t } = useTranslation();\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [productCounts, setProductCounts] = useState<Record<string, number>>({});\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const language = getStoredLanguage();\r\n      const response = await apiClient.get<CategoriesResponse>('/api/v1/categories/tree', {\r\n        params: { lang: language },\r\n      });\r\n\r\n      const categoriesList = response.data || [];\r\n      setCategories(categoriesList);\r\n\r\n      // Fetch product counts for each category\r\n      const counts: Record<string, number> = {};\r\n      for (const category of categoriesList) {\r\n        try {\r\n          const productsResponse = await apiClient.get<ProductsResponse>('/api/v1/products', {\r\n            params: {\r\n              category: category.slug,\r\n              limit: '1',\r\n              lang: language,\r\n            },\r\n          });\r\n          counts[category.slug] = productsResponse.meta?.total || 0;\r\n        } catch (err) {\r\n          console.error(`Error fetching products for category ${category.slug}:`, err);\r\n          counts[category.slug] = 0;\r\n        }\r\n      }\r\n      setProductCounts(counts);\r\n    } catch (err: any) {\r\n      console.error('Error fetching categories:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCategoryClick = (categorySlug: string) => {\r\n    router.push(`/products?category=${categorySlug}`);\r\n  };\r\n\r\n  // Flatten categories tree to show all categories\r\n  const flattenCategories = (cats: Category[]): Category[] => {\r\n    const result: Category[] = [];\r\n    cats.forEach((cat) => {\r\n      result.push(cat);\r\n      if (cat.children && cat.children.length > 0) {\r\n        result.push(...flattenCategories(cat.children));\r\n      }\r\n    });\r\n    return result;\r\n  };\r\n\r\n  const allCategories = flattenCategories(categories);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600\">{t('categories.loading')}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n      <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">{t('categories.title')}</h1>\r\n      <p className=\"text-gray-600 mb-8\">\r\n        {t('categories.description')}\r\n      </p>\r\n      \r\n      {allCategories.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <p className=\"text-gray-600\">{t('categories.empty')}</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {allCategories.map((category) => (\r\n            <Card\r\n              key={category.id}\r\n              onClick={() => handleCategoryClick(category.slug)}\r\n              className=\"p-6 hover:shadow-lg transition-shadow cursor-pointer\"\r\n            >\r\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">\r\n                {category.title}\r\n              </h3>\r\n              <p className=\"text-sm text-gray-500 mb-4\">\r\n                {productCounts[category.slug] || 0} {t('categories.productsCount')}\r\n              </p>\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}