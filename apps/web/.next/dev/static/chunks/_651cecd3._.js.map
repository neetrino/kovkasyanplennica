{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { ButtonHTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n  function Button(\r\n    { variant = 'primary', size = 'md', className = '', children, ...props },\r\n    ref\r\n  ): ReactElement {\r\n    const baseStyles = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n    \r\n    const variantStyles = {\r\n      primary: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900',\r\n      secondary: 'bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      outline: 'bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      ghost: 'bg-transparent text-gray-900 hover:bg-gray-100 focus:ring-gray-500',\r\n    };\r\n    \r\n    const sizeStyles = {\r\n      sm: 'px-3 py-1.5 text-sm',\r\n      md: 'px-4 py-2 text-base',\r\n      lg: 'px-6 py-3 text-lg',\r\n    };\r\n    \r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={`${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,MAAM,uBAAS,IAAA,2KAAU,OAC9B,SAAS,OACP,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EACxE,GAAG;IAEH,MAAM,aAAa;IAEnB,MAAM,gBAAgB;QACpB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,aAAa;QACjB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,GAAG,WAAW,CAAC,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QACpF,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { HTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\r\n  function Card({ className = '', children, ...props }, ref): ReactElement {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={`bg-white border border-gray-200 rounded-lg shadow-sm ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQO,MAAM,qBAAO,IAAA,2KAAU,OAC5B,SAAS,KAAK,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,GAAG;IACvD,qBACE,6LAAC;QACC,KAAK;QACL,WAAW,CAAC,qDAAqD,EAAE,WAAW;QAC7E,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Input.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { InputHTMLAttributes, forwardRef } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  function Input({ label, error, className = '', onKeyDown, ...props }, ref) {\r\n    // Ensure pipe character (|) works in all input fields\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      // Allow pipe character (|) - key code 220 or Shift+Backslash\r\n      if (e.key === '|' || e.keyCode === 220 || (e.shiftKey && e.key === '\\\\')) {\r\n        // Allow the default behavior for pipe character\r\n        return;\r\n      }\r\n      \r\n      // Call original onKeyDown if provided\r\n      if (onKeyDown) {\r\n        onKeyDown(e);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"w-full\">\r\n        {label && (\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            {label}\r\n          </label>\r\n        )}\r\n        <input\r\n          ref={ref}\r\n          className={`w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed ${\r\n            error ? 'border-error focus:ring-error' : 'border-gray-300'\r\n          } ${className}`}\r\n          onKeyDown={handleKeyDown}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p className=\"mt-1 text-sm text-error\">{error}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,MAAM,sBAAQ,IAAA,2KAAU,OAC7B,SAAS,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,GAAG;IACvE,sDAAsD;IACtD,MAAM,gBAAgB,CAAC;QACrB,6DAA6D;QAC7D,IAAI,EAAE,GAAG,KAAK,OAAO,EAAE,OAAO,KAAK,OAAQ,EAAE,QAAQ,IAAI,EAAE,GAAG,KAAK,MAAO;YACxE,gDAAgD;YAChD;QACF;QAEA,sCAAsC;QACtC,IAAI,WAAW;YACb,UAAU;QACZ;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,uBACC,6LAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,6LAAC;gBACC,KAAK;gBACL,WAAW,CAAC,gKAAgK,EAC1K,QAAQ,kCAAkC,kBAC3C,CAAC,EAAE,WAAW;gBACf,WAAW;gBACV,GAAG,KAAK;;;;;;YAEV,uBACC,6LAAC;gBAAE,WAAU;0BAA2B;;;;;;;;;;;;AAIhD"}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/index.ts"],"sourcesContent":["export { Button } from './Button';\r\nexport { Card } from './Card';\r\nexport { Input } from './Input';\r\n\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/app/compare/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback, useRef } from 'react';\r\nimport type { MouseEvent } from 'react';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { useRouter } from 'next/navigation';\r\nimport { Button } from '@shop/ui';\r\nimport { apiClient } from '../../lib/api-client';\r\nimport { formatPrice, getStoredCurrency } from '../../lib/currency';\r\nimport { getStoredLanguage } from '../../lib/language';\r\nimport { useTranslation } from '../../lib/i18n-client';\r\nimport { useAuth } from '../../lib/auth/AuthContext';\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  price: number;\r\n  originalPrice: number | null;\r\n  compareAtPrice: number | null;\r\n  discountPercent: number | null;\r\n  image: string | null;\r\n  inStock: boolean;\r\n  brand: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n  description?: string;\r\n}\r\n\r\nconst COMPARE_KEY = 'shop_compare';\r\n\r\nfunction getCompare(): string[] {\r\n  if (typeof window === 'undefined') return [];\r\n  try {\r\n    const stored = localStorage.getItem(COMPARE_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Compare page renders up to four products side-by-side with quick actions.\r\n */\r\nexport default function ComparePage() {\r\n  const router = useRouter();\r\n  const { isLoggedIn } = useAuth();\r\n  const { t } = useTranslation();\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [compareIds, setCompareIds] = useState<string[]>([]);\r\n  const [currency, setCurrency] = useState(getStoredCurrency());\r\n  const [addingToCart, setAddingToCart] = useState<Set<string>>(new Set());\r\n  // Track if we updated locally to prevent unnecessary re-fetch\r\n  const isLocalUpdateRef = useRef(false);\r\n\r\n  /**\r\n   * Fetch compare products for provided ids and update UI state.\r\n   */\r\n  const fetchCompareProducts = useCallback(async (idsToLoad: string[]) => {\r\n    if (idsToLoad.length === 0) {\r\n      console.info('[Compare] Skip fetch because ids array is empty');\r\n      setProducts([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      console.info(`[Compare] Fetching ${idsToLoad.length} products for render`);\r\n      const languagePreference = getStoredLanguage();\r\n      const response = await apiClient.get<{\r\n        data: Product[];\r\n        meta: {\r\n          total: number;\r\n          page: number;\r\n          limit: number;\r\n          totalPages: number;\r\n        };\r\n      }>('/api/v1/products', {\r\n        params: {\r\n          limit: '1000',\r\n          lang: languagePreference,\r\n        },\r\n      });\r\n\r\n      const compareProducts = response.data.filter((product) =>\r\n        idsToLoad.includes(product.id)\r\n      );\r\n      setProducts(compareProducts);\r\n    } catch (error) {\r\n      console.error('[Compare] Error fetching compare products:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Get compare IDs from localStorage\r\n    const ids = getCompare();\r\n    setCompareIds(ids);\r\n    fetchCompareProducts(ids);\r\n\r\n    // Listen for compare updates from other components (header, etc.)\r\n    // But don't re-fetch if we already updated locally\r\n    const handleCompareUpdate = () => {\r\n      // If we just updated locally, skip re-fetch to avoid page reload\r\n      if (isLocalUpdateRef.current) {\r\n        isLocalUpdateRef.current = false;\r\n        return;\r\n      }\r\n      \r\n      // Only re-fetch if update came from external source (another component)\r\n      const updatedIds = getCompare();\r\n      setCompareIds(updatedIds);\r\n      fetchCompareProducts(updatedIds);\r\n    };\r\n\r\n    window.addEventListener('compare-updated', handleCompareUpdate);\r\n    return () => {\r\n      window.removeEventListener('compare-updated', handleCompareUpdate);\r\n    };\r\n  }, [fetchCompareProducts]);\r\n\r\n  // Listen for currency and language updates\r\n  useEffect(() => {\r\n    const handleCurrencyUpdate = () => {\r\n      setCurrency(getStoredCurrency());\r\n    };\r\n\r\n    const handleLanguageUpdate = () => {\r\n      // Reload products with new language preference\r\n      // Get current IDs from localStorage to avoid dependency on state\r\n      const currentIds = getCompare();\r\n      fetchCompareProducts(currentIds);\r\n    };\r\n\r\n    window.addEventListener('currency-updated', handleCurrencyUpdate);\r\n    window.addEventListener('language-updated', handleLanguageUpdate);\r\n    return () => {\r\n      window.removeEventListener('currency-updated', handleCurrencyUpdate);\r\n      window.removeEventListener('language-updated', handleLanguageUpdate);\r\n    };\r\n  }, [fetchCompareProducts]);\r\n\r\n  const handleRemove = (e: MouseEvent, productId: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    console.info(`[Compare] Removing product ${productId} from compare UI`);\r\n    \r\n    // Mark as local update to prevent re-fetch in event handler\r\n    isLocalUpdateRef.current = true;\r\n    \r\n    // Optimistic update: remove from UI immediately (no loading state, no page reload)\r\n    const updatedIds = compareIds.filter((id) => id !== productId);\r\n    const updatedProducts = products.filter((p) => p.id !== productId);\r\n    \r\n    // Update localStorage first\r\n    localStorage.setItem(COMPARE_KEY, JSON.stringify(updatedIds));\r\n    \r\n    // Update state immediately (no page reload, no loading spinner)\r\n    setCompareIds(updatedIds);\r\n    setProducts(updatedProducts);\r\n    \r\n    // Dispatch event for other components (header, etc.) - but our handler won't re-fetch\r\n    // because isLocalUpdateRef.current is true\r\n    window.dispatchEvent(new Event('compare-updated'));\r\n  };\r\n\r\n  const handleAddToCart = async (e: MouseEvent, product: Product) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (!product.inStock) {\r\n      return;\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n      router.push(`/login?redirect=/compare`);\r\n      return;\r\n    }\r\n\r\n    setAddingToCart(prev => new Set(prev).add(product.id));\r\n\r\n    try {\r\n      // Get product details to get variant ID\r\n      interface ProductDetails {\r\n        id: string;\r\n        variants?: Array<{\r\n          id: string;\r\n          sku: string;\r\n          price: number;\r\n          stock: number;\r\n          available: boolean;\r\n        }>;\r\n      }\r\n\r\n      const productDetails = await apiClient.get<ProductDetails>(`/api/v1/products/${product.slug}`);\r\n\r\n      if (!productDetails.variants || productDetails.variants.length === 0) {\r\n        alert(t('common.alerts.noVariantsAvailable'));\r\n        return;\r\n      }\r\n\r\n      const variantId = productDetails.variants[0].id;\r\n      \r\n      await apiClient.post(\r\n        '/api/v1/cart/items',\r\n        {\r\n          productId: product.id,\r\n          variantId: variantId,\r\n          quantity: 1,\r\n        }\r\n      );\r\n\r\n      // Trigger cart update event\r\n      window.dispatchEvent(new Event('cart-updated'));\r\n    } catch (error: any) {\r\n      console.error('Error adding to cart:', error);\r\n      if (error.message?.includes('401') || error.message?.includes('Unauthorized')) {\r\n        router.push(`/login?redirect=/compare`);\r\n      }\r\n    } finally {\r\n      setAddingToCart(prev => {\r\n        const next = new Set(prev);\r\n        next.delete(product.id);\r\n        return next;\r\n      });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <div className=\"text-center py-6\">\r\n          <div className=\"animate-pulse space-y-4\">\r\n            <div className=\"h-6 bg-gray-200 rounded w-1/4 mx-auto\"></div>\r\n            <div className=\"mt-4 bg-gray-200 rounded-lg h-48\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">{t('common.compare.title')}</h1>\r\n        {products.length > 0 && (\r\n          <p className=\"text-sm text-gray-600\">\r\n            {products.length} of 4 {products.length === 1 ? t('common.compare.product') : t('common.compare.products')}\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {products.length > 0 ? (\r\n        <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full border-collapse\">\r\n              <thead>\r\n                <tr className=\"bg-gray-50 border-b border-gray-200\">\r\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700 min-w-[150px] sticky left-0 bg-gray-50 z-10\">\r\n                    {t('common.compare.characteristic')}\r\n                  </th>\r\n                  {products.map((product) => (\r\n                    <th\r\n                      key={product.id}\r\n                      className=\"px-4 py-3 text-center text-sm font-semibold text-gray-700 min-w-[220px] relative\"\r\n                    >\r\n                      <button\r\n                        onClick={(e) => handleRemove(e, product.id)}\r\n                        className=\"absolute top-2 right-2 w-6 h-6 flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-all\"\r\n                        title={t('common.buttons.remove')}\r\n                        aria-label={t('common.buttons.remove')}\r\n                      >\r\n                        <svg\r\n                          className=\"w-4 h-4\"\r\n                          fill=\"none\"\r\n                          viewBox=\"0 0 24 24\"\r\n                          stroke=\"currentColor\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M6 18L18 6M6 6l12 12\"\r\n                          />\r\n                        </svg>\r\n                      </button>\r\n                    </th>\r\n                  ))}\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-gray-200\">\r\n                {/* Изображение */}\r\n                <tr className=\"hover:bg-gray-50 transition-colors\">\r\n                  <td className=\"px-4 py-4 text-sm font-medium text-gray-700 bg-gray-50 sticky left-0 z-10\">\r\n                    {t('common.compare.image')}\r\n                  </td>\r\n                  {products.map((product) => (\r\n                    <td key={product.id} className=\"px-4 py-4 text-center\">\r\n                      <Link href={`/products/${product.slug}`} className=\"inline-block\">\r\n                        <div className=\"w-32 h-32 mx-auto bg-gray-100 rounded-lg overflow-hidden relative\">\r\n                          {product.image ? (\r\n                            <Image\r\n                              src={product.image}\r\n                              alt={product.title}\r\n                              fill\r\n                              className=\"object-cover\"\r\n                              sizes=\"128px\"\r\n                              unoptimized\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-full bg-gray-200 flex items-center justify-center\">\r\n                              <span className=\"text-gray-400 text-xs\">{t('common.messages.noImage')}</span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </Link>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n\r\n                {/* Название */}\r\n                <tr className=\"hover:bg-gray-50 transition-colors\">\r\n                  <td className=\"px-4 py-4 text-sm font-medium text-gray-700 bg-gray-50 sticky left-0 z-10\">\r\n                    {t('common.compare.name')}\r\n                  </td>\r\n                  {products.map((product) => (\r\n                    <td key={product.id} className=\"px-4 py-4\">\r\n                      <Link\r\n                        href={`/products/${product.slug}`}\r\n                        className=\"text-base font-semibold text-gray-900 hover:text-blue-600 transition-colors block text-center\"\r\n                      >\r\n                        {product.title}\r\n                      </Link>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n\r\n                {/* Бренд */}\r\n                <tr className=\"hover:bg-gray-50 transition-colors\">\r\n                  <td className=\"px-4 py-4 text-sm font-medium text-gray-700 bg-gray-50 sticky left-0 z-10\">\r\n                    {t('common.compare.brand')}\r\n                  </td>\r\n                  {products.map((product) => (\r\n                    <td key={product.id} className=\"px-4 py-4 text-center text-sm text-gray-600\">\r\n                      {product.brand ? product.brand.name : '-'}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n\r\n                {/* Цена */}\r\n                <tr className=\"hover:bg-gray-50 transition-colors\">\r\n                  <td className=\"px-4 py-4 text-sm font-medium text-gray-700 bg-gray-50 sticky left-0 z-10\">\r\n                    {t('common.compare.price')}\r\n                  </td>\r\n                  {products.map((product) => (\r\n                    <td key={product.id} className=\"px-4 py-4 text-center\">\r\n                      <div className=\"flex items-center justify-center gap-3\">\r\n                        <p className=\"text-lg font-bold text-gray-900 select-none\">\r\n                          {formatPrice(product.price, currency)}\r\n                        </p>\r\n                        {(product.originalPrice && product.originalPrice > product.price) && (\r\n                          <p className=\"text-sm text-gray-500 line-through select-none\">\r\n                            {formatPrice(product.originalPrice, currency)}\r\n                          </p>\r\n                        )}\r\n                        {!product.originalPrice && product.compareAtPrice && product.compareAtPrice > product.price && (\r\n                          <p className=\"text-sm text-gray-500 line-through select-none\">\r\n                            {formatPrice(product.compareAtPrice, currency)}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n\r\n                {/* Наличие */}\r\n                <tr className=\"hover:bg-gray-50 transition-colors\">\r\n                  <td className=\"px-4 py-4 text-sm font-medium text-gray-700 bg-gray-50 sticky left-0 z-10\">\r\n                    {t('common.compare.availability')}\r\n                  </td>\r\n                  {products.map((product) => (\r\n                    <td key={product.id} className=\"px-4 py-4 text-center\">\r\n                      <span\r\n                        className={`inline-block px-3 py-1 rounded-full text-xs font-medium ${\r\n                          product.inStock\r\n                            ? 'bg-green-100 text-green-800'\r\n                            : 'bg-red-100 text-red-800'\r\n                        }`}\r\n                      >\r\n                        {product.inStock\r\n                          ? t('common.stock.inStock')\r\n                          : t('common.stock.outOfStock')}\r\n                      </span>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n\r\n                {/* Действия */}\r\n                <tr className=\"hover:bg-gray-50 transition-colors\">\r\n                  <td className=\"px-4 py-4 text-sm font-medium text-gray-700 bg-gray-50 sticky left-0 z-10\">\r\n                    {t('common.compare.actions')}\r\n                  </td>\r\n                  {products.map((product) => (\r\n                    <td key={product.id} className=\"px-4 py-4 text-center\">\r\n                      <div className=\"flex flex-col gap-2 items-center\">\r\n                        <Link\r\n                          href={`/products/${product.slug}`}\r\n                          className=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\r\n                        >\r\n                          {t('common.compare.viewDetails')}\r\n                        </Link>\r\n                        {product.inStock && (\r\n                          <button\r\n                            onClick={(e) => handleAddToCart(e, product)}\r\n                            disabled={addingToCart.has(product.id)}\r\n                            className=\"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                          >\r\n                            {addingToCart.has(product.id)\r\n                              ? t('common.messages.adding')\r\n                              : t('common.buttons.addToCart')}\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center py-8\">\r\n          <div className=\"max-w-md mx-auto\">\r\n            <svg\r\n              className=\"mx-auto h-16 w-16 text-gray-400 mb-3\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={1.5}\r\n                d=\"M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2\"\r\n              />\r\n            </svg>\r\n            <h2 className=\"text-xl font-bold text-gray-900 mb-2\">\r\n              {t('common.compare.empty')}\r\n            </h2>\r\n            <p className=\"text-sm text-gray-600 mb-4\">\r\n              {t('common.compare.emptyDescription')}\r\n            </p>\r\n            <Link href=\"/products\">\r\n              <Button variant=\"primary\" size=\"md\">\r\n                {t('common.compare.browseProducts')}\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}  "],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAZA;;;;;;;;;;;AA+BA,MAAM,cAAc;AAEpB,SAAS;IACP;;IACA,IAAI;QACF,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU,EAAE;IACzC,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,wJAAO;IAC9B,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,yJAAc;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACzD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC,IAAA,sJAAiB;IAC1D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAc,IAAI;IAClE,8DAA8D;IAC9D,MAAM,mBAAmB,IAAA,uKAAM,EAAC;IAEhC;;GAEC,GACD,MAAM,uBAAuB,IAAA,4KAAW;yDAAC,OAAO;YAC9C,IAAI,UAAU,MAAM,KAAK,GAAG;gBAC1B,QAAQ,IAAI,CAAC;gBACb,YAAY,EAAE;gBACd,WAAW;gBACX;YACF;YAEA,IAAI;gBACF,WAAW;gBACX,QAAQ,IAAI,CAAC,CAAC,mBAAmB,EAAE,UAAU,MAAM,CAAC,oBAAoB,CAAC;gBACzE,MAAM,qBAAqB,IAAA,sJAAiB;gBAC5C,MAAM,WAAW,MAAM,mKAAS,CAAC,GAAG,CAQjC,oBAAoB;oBACrB,QAAQ;wBACN,OAAO;wBACP,MAAM;oBACR;gBACF;gBAEA,MAAM,kBAAkB,SAAS,IAAI,CAAC,MAAM;qFAAC,CAAC,UAC5C,UAAU,QAAQ,CAAC,QAAQ,EAAE;;gBAE/B,YAAY;YACd,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8CAA8C;YAC9D,SAAU;gBACR,WAAW;YACb;QACF;wDAAG,EAAE;IAEL,IAAA,0KAAS;iCAAC;YACR,oCAAoC;YACpC,MAAM,MAAM;YACZ,cAAc;YACd,qBAAqB;YAErB,kEAAkE;YAClE,mDAAmD;YACnD,MAAM;6DAAsB;oBAC1B,iEAAiE;oBACjE,IAAI,iBAAiB,OAAO,EAAE;wBAC5B,iBAAiB,OAAO,GAAG;wBAC3B;oBACF;oBAEA,wEAAwE;oBACxE,MAAM,aAAa;oBACnB,cAAc;oBACd,qBAAqB;gBACvB;;YAEA,OAAO,gBAAgB,CAAC,mBAAmB;YAC3C;yCAAO;oBACL,OAAO,mBAAmB,CAAC,mBAAmB;gBAChD;;QACF;gCAAG;QAAC;KAAqB;IAEzB,2CAA2C;IAC3C,IAAA,0KAAS;iCAAC;YACR,MAAM;8DAAuB;oBAC3B,YAAY,IAAA,sJAAiB;gBAC/B;;YAEA,MAAM;8DAAuB;oBAC3B,+CAA+C;oBAC/C,iEAAiE;oBACjE,MAAM,aAAa;oBACnB,qBAAqB;gBACvB;;YAEA,OAAO,gBAAgB,CAAC,oBAAoB;YAC5C,OAAO,gBAAgB,CAAC,oBAAoB;YAC5C;yCAAO;oBACL,OAAO,mBAAmB,CAAC,oBAAoB;oBAC/C,OAAO,mBAAmB,CAAC,oBAAoB;gBACjD;;QACF;gCAAG;QAAC;KAAqB;IAEzB,MAAM,eAAe,CAAC,GAAe;QACnC,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,QAAQ,IAAI,CAAC,CAAC,2BAA2B,EAAE,UAAU,gBAAgB,CAAC;QAEtE,4DAA4D;QAC5D,iBAAiB,OAAO,GAAG;QAE3B,mFAAmF;QACnF,MAAM,aAAa,WAAW,MAAM,CAAC,CAAC,KAAO,OAAO;QACpD,MAAM,kBAAkB,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QAExD,4BAA4B;QAC5B,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;QAEjD,gEAAgE;QAChE,cAAc;QACd,YAAY;QAEZ,sFAAsF;QACtF,2CAA2C;QAC3C,OAAO,aAAa,CAAC,IAAI,MAAM;IACjC;IAEA,MAAM,kBAAkB,OAAO,GAAe;QAC5C,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI,CAAC,QAAQ,OAAO,EAAE;YACpB;QACF;QAEA,IAAI,CAAC,YAAY;YACf,OAAO,IAAI,CAAC,CAAC,wBAAwB,CAAC;YACtC;QACF;QAEA,gBAAgB,CAAA,OAAQ,IAAI,IAAI,MAAM,GAAG,CAAC,QAAQ,EAAE;QAEpD,IAAI;YAaF,MAAM,iBAAiB,MAAM,mKAAS,CAAC,GAAG,CAAiB,CAAC,iBAAiB,EAAE,QAAQ,IAAI,EAAE;YAE7F,IAAI,CAAC,eAAe,QAAQ,IAAI,eAAe,QAAQ,CAAC,MAAM,KAAK,GAAG;gBACpE,MAAM,EAAE;gBACR;YACF;YAEA,MAAM,YAAY,eAAe,QAAQ,CAAC,EAAE,CAAC,EAAE;YAE/C,MAAM,mKAAS,CAAC,IAAI,CAClB,sBACA;gBACE,WAAW,QAAQ,EAAE;gBACrB,WAAW;gBACX,UAAU;YACZ;YAGF,4BAA4B;YAC5B,OAAO,aAAa,CAAC,IAAI,MAAM;QACjC,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,yBAAyB;YACvC,IAAI,MAAM,OAAO,EAAE,SAAS,UAAU,MAAM,OAAO,EAAE,SAAS,iBAAiB;gBAC7E,OAAO,IAAI,CAAC,CAAC,wBAAwB,CAAC;YACxC;QACF,SAAU;YACR,gBAAgB,CAAA;gBACd,MAAM,OAAO,IAAI,IAAI;gBACrB,KAAK,MAAM,CAAC,QAAQ,EAAE;gBACtB,OAAO;YACT;QACF;IACF;IAEA,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;IAKzB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAoC,EAAE;;;;;;oBACnD,SAAS,MAAM,GAAG,mBACjB,6LAAC;wBAAE,WAAU;;4BACV,SAAS,MAAM;4BAAC;4BAAO,SAAS,MAAM,KAAK,IAAI,EAAE,4BAA4B,EAAE;;;;;;;;;;;;;YAKrF,SAAS,MAAM,GAAG,kBACjB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAM,WAAU;;0CACf,6LAAC;0CACC,cAAA,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;4CAAG,WAAU;sDACX,EAAE;;;;;;wCAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;gDAEC,WAAU;0DAEV,cAAA,6LAAC;oDACC,SAAS,CAAC,IAAM,aAAa,GAAG,QAAQ,EAAE;oDAC1C,WAAU;oDACV,OAAO,EAAE;oDACT,cAAY,EAAE;8DAEd,cAAA,6LAAC;wDACC,WAAU;wDACV,MAAK;wDACL,SAAQ;wDACR,QAAO;kEAEP,cAAA,6LAAC;4DACC,eAAc;4DACd,gBAAe;4DACf,aAAa;4DACb,GAAE;;;;;;;;;;;;;;;;+CAnBH,QAAQ,EAAE;;;;;;;;;;;;;;;;0CA2BvB,6LAAC;gCAAM,WAAU;;kDAEf,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DACX,EAAE;;;;;;4CAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oDAAoB,WAAU;8DAC7B,cAAA,6LAAC,0KAAI;wDAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;wDAAE,WAAU;kEACjD,cAAA,6LAAC;4DAAI,WAAU;sEACZ,QAAQ,KAAK,iBACZ,6LAAC,2IAAK;gEACJ,KAAK,QAAQ,KAAK;gEAClB,KAAK,QAAQ,KAAK;gEAClB,IAAI;gEACJ,WAAU;gEACV,OAAM;gEACN,WAAW;;;;;qFAGb,6LAAC;gEAAI,WAAU;0EACb,cAAA,6LAAC;oEAAK,WAAU;8EAAyB,EAAE;;;;;;;;;;;;;;;;;;;;;mDAd5C,QAAQ,EAAE;;;;;;;;;;;kDAwBvB,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DACX,EAAE;;;;;;4CAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oDAAoB,WAAU;8DAC7B,cAAA,6LAAC,0KAAI;wDACH,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;wDACjC,WAAU;kEAET,QAAQ,KAAK;;;;;;mDALT,QAAQ,EAAE;;;;;;;;;;;kDAYvB,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DACX,EAAE;;;;;;4CAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oDAAoB,WAAU;8DAC5B,QAAQ,KAAK,GAAG,QAAQ,KAAK,CAAC,IAAI,GAAG;mDAD/B,QAAQ,EAAE;;;;;;;;;;;kDAOvB,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DACX,EAAE;;;;;;4CAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oDAAoB,WAAU;8DAC7B,cAAA,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAE,WAAU;0EACV,IAAA,gJAAW,EAAC,QAAQ,KAAK,EAAE;;;;;;4DAE5B,QAAQ,aAAa,IAAI,QAAQ,aAAa,GAAG,QAAQ,KAAK,kBAC9D,6LAAC;gEAAE,WAAU;0EACV,IAAA,gJAAW,EAAC,QAAQ,aAAa,EAAE;;;;;;4DAGvC,CAAC,QAAQ,aAAa,IAAI,QAAQ,cAAc,IAAI,QAAQ,cAAc,GAAG,QAAQ,KAAK,kBACzF,6LAAC;gEAAE,WAAU;0EACV,IAAA,gJAAW,EAAC,QAAQ,cAAc,EAAE;;;;;;;;;;;;mDAZpC,QAAQ,EAAE;;;;;;;;;;;kDAqBvB,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DACX,EAAE;;;;;;4CAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oDAAoB,WAAU;8DAC7B,cAAA,6LAAC;wDACC,WAAW,CAAC,wDAAwD,EAClE,QAAQ,OAAO,GACX,gCACA,2BACJ;kEAED,QAAQ,OAAO,GACZ,EAAE,0BACF,EAAE;;;;;;mDAVD,QAAQ,EAAE;;;;;;;;;;;kDAiBvB,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;0DACX,EAAE;;;;;;4CAEJ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;oDAAoB,WAAU;8DAC7B,cAAA,6LAAC;wDAAI,WAAU;;0EACb,6LAAC,0KAAI;gEACH,MAAM,CAAC,UAAU,EAAE,QAAQ,IAAI,EAAE;gEACjC,WAAU;0EAET,EAAE;;;;;;4DAEJ,QAAQ,OAAO,kBACd,6LAAC;gEACC,SAAS,CAAC,IAAM,gBAAgB,GAAG;gEACnC,UAAU,aAAa,GAAG,CAAC,QAAQ,EAAE;gEACrC,WAAU;0EAET,aAAa,GAAG,CAAC,QAAQ,EAAE,IACxB,EAAE,4BACF,EAAE;;;;;;;;;;;;mDAhBL,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qCA4B/B,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,SAAQ;4BACR,QAAO;sCAEP,cAAA,6LAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;sCAGN,6LAAC;4BAAG,WAAU;sCACX,EAAE;;;;;;sCAEL,6LAAC;4BAAE,WAAU;sCACV,EAAE;;;;;;sCAEL,6LAAC,0KAAI;4BAAC,MAAK;sCACT,cAAA,6LAAC,sIAAM;gCAAC,SAAQ;gCAAU,MAAK;0CAC5B,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQnB;GAtawB;;QACP,kJAAS;QACD,wJAAO;QAChB,yJAAc;;;KAHN"}}]
}