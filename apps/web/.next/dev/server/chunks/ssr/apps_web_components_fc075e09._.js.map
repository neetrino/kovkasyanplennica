{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/HeroCarousel.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Image from 'next/image';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\nconst heroImages = [\r\n  'https://images.pexels.com/photos/67102/pexels-photo-67102.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2',\r\n  'https://images.pexels.com/photos/266688/pexels-photo-266688.jpeg',\r\n  'https://images.pexels.com/photos/3217852/pexels-photo-3217852.jpeg',\r\n];\r\n\r\nexport function HeroCarousel() {\r\n  const router = useRouter();\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const { t } = useTranslation();\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentIndex((prevIndex) => (prevIndex + 1) % heroImages.length);\r\n    }, 5000); // Change image every 5 seconds\r\n\r\n    return () => clearInterval(interval);\r\n  }, []); // Auto-advance every 5 seconds\r\n\r\n  const goToSlide = (index: number) => {\r\n    setCurrentIndex(index);\r\n  };\r\n\r\n  const goToPrevious = () => {\r\n    setCurrentIndex((prevIndex) => \r\n      prevIndex === 0 ? heroImages.length - 1 : prevIndex - 1\r\n    );\r\n  };\r\n\r\n  const goToNext = () => {\r\n    setCurrentIndex((prevIndex) => \r\n      prevIndex === heroImages.length - 1 ? 0 : prevIndex + 1\r\n    );\r\n  };\r\n\r\n  const handleShopNow = () => {\r\n    router.push('/products');\r\n  };\r\n\r\n  const handleBrowseCategories = () => {\r\n    router.push('/categories');\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative w-full h-[500px] md:h-[600px] lg:h-[700px] overflow-hidden\">\r\n      {/* Gradient Overlay */}\r\n      <div className=\"absolute inset-0 bg-gradient-to-r from-black/60 via-black/40 to-transparent z-10\" />\r\n      \r\n      {/* Images */}\r\n      <div className=\"relative w-full h-full\">\r\n        {heroImages.map((image, index) => (\r\n          <div\r\n            key={index}\r\n            className={`absolute inset-0 transition-opacity duration-700 ease-in-out ${\r\n              index === currentIndex ? 'opacity-100' : 'opacity-0'\r\n            }`}\r\n          >\r\n            <Image\r\n              src={image}\r\n              alt={`Hero image ${index + 1}`}\r\n              fill\r\n              className=\"object-cover\"\r\n              priority={index === 0}\r\n              unoptimized\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Overlay Content - Text and Buttons */}\r\n      <div className=\"absolute inset-0 flex flex-col items-start justify-center z-20 px-4 sm:px-6 md:px-12 lg:px-20 xl:px-32 pointer-events-none\">\r\n        <div className=\"text-left pointer-events-auto max-w-2xl\">\r\n          {/* Background overlay for better text readability */}\r\n          <div className=\"bg-white/5 backdrop-blur-md rounded-2xl p-8 md:p-10 lg:p-12 shadow-2xl border border-white/5\">\r\n            <h1 className=\"text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold text-gray-900 mb-6 leading-tight\">\r\n              {t('home.hero_title')}\r\n            </h1>\r\n            <p className=\"text-lg md:text-xl lg:text-2xl text-gray-700 mb-8 leading-relaxed\">\r\n              {t('home.hero_subtitle')}\r\n            </p>\r\n            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n              <button\r\n                onClick={handleShopNow}\r\n                className=\"px-10 py-4 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-all font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\r\n              >\r\n                {t('home.hero_button_products')}\r\n              </button>\r\n              <button\r\n                onClick={handleBrowseCategories}\r\n                className=\"px-10 py-4 bg-white text-gray-900 border-2 border-gray-900 rounded-lg hover:bg-gray-50 transition-all font-semibold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\r\n              >\r\n                {t('home.hero_button_view_more')}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation Arrows */}\r\n      <button\r\n        onClick={goToPrevious}\r\n        className=\"absolute left-6 md:left-8 top-1/2 transform -translate-y-1/2 bg-white/50 hover:bg-white/70 text-gray-900 p-2 md:p-3 rounded-full shadow-lg transition-all z-30 cursor-pointer hover:scale-110\"\r\n        aria-label=\"Previous image\"\r\n      >\r\n        <svg\r\n          className=\"w-4 h-4 md:w-6 md:h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2.5}\r\n            d=\"M15 19l-7-7 7-7\"\r\n          />\r\n        </svg>\r\n      </button>\r\n\r\n      <button\r\n        onClick={goToNext}\r\n        className=\"absolute right-6 md:right-8 top-1/2 transform -translate-y-1/2 bg-white/50 hover:bg-white/70 text-gray-900 p-2 md:p-3 rounded-full shadow-lg transition-all z-30 cursor-pointer hover:scale-110\"\r\n        aria-label=\"Next image\"\r\n      >\r\n        <svg\r\n          className=\"w-4 h-4 md:w-6 md:h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2.5}\r\n            d=\"M9 5l7 7-7 7\"\r\n          />\r\n        </svg>\r\n      </button>\r\n\r\n      {/* Dots Indicator */}\r\n      <div className=\"absolute bottom-6 md:bottom-8 left-1/2 transform -translate-x-1/2 flex gap-3 z-30\">\r\n        {heroImages.map((_, index) => (\r\n          <button\r\n            key={index}\r\n            onClick={() => goToSlide(index)}\r\n            className={`h-2 rounded-full transition-all duration-300 ${\r\n              index === currentIndex\r\n                ? 'bg-white w-10'\r\n                : 'bg-white/50 hover:bg-white/75 w-2'\r\n            }`}\r\n            aria-label={`Go to slide ${index + 1}`}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,aAAa;IACjB;IACA;IACA;CACD;AAEM,SAAS;IACd,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sJAAc;IAE5B,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,YAAY;YAC3B,gBAAgB,CAAC,YAAc,CAAC,YAAY,CAAC,IAAI,WAAW,MAAM;QACpE,GAAG,OAAO,+BAA+B;QAEzC,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE,GAAG,+BAA+B;IAEvC,MAAM,YAAY,CAAC;QACjB,gBAAgB;IAClB;IAEA,MAAM,eAAe;QACnB,gBAAgB,CAAC,YACf,cAAc,IAAI,WAAW,MAAM,GAAG,IAAI,YAAY;IAE1D;IAEA,MAAM,WAAW;QACf,gBAAgB,CAAC,YACf,cAAc,WAAW,MAAM,GAAG,IAAI,IAAI,YAAY;IAE1D;IAEA,MAAM,gBAAgB;QACpB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,yBAAyB;QAC7B,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;;;;;0BAGf,8OAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,OAAO,sBACtB,8OAAC;wBAEC,WAAW,CAAC,6DAA6D,EACvE,UAAU,eAAe,gBAAgB,aACzC;kCAEF,cAAA,8OAAC,wIAAK;4BACJ,KAAK;4BACL,KAAK,CAAC,WAAW,EAAE,QAAQ,GAAG;4BAC9B,IAAI;4BACJ,WAAU;4BACV,UAAU,UAAU;4BACpB,WAAW;;;;;;uBAXR;;;;;;;;;;0BAkBX,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BAEb,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CACX,EAAE;;;;;;0CAEL,8OAAC;gCAAE,WAAU;0CACV,EAAE;;;;;;0CAEL,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,SAAS;wCACT,WAAU;kDAET,EAAE;;;;;;kDAEL,8OAAC;wCACC,SAAS;wCACT,WAAU;kDAET,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQb,8OAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,8OAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;0BAKR,8OAAC;gBACC,SAAS;gBACT,WAAU;gBACV,cAAW;0BAEX,cAAA,8OAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,8OAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;;0BAMR,8OAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,GAAG,sBAClB,8OAAC;wBAEC,SAAS,IAAM,UAAU;wBACzB,WAAW,CAAC,6CAA6C,EACvD,UAAU,eACN,kBACA,qCACJ;wBACF,cAAY,CAAC,YAAY,EAAE,QAAQ,GAAG;uBAPjC;;;;;;;;;;;;;;;;AAajB"}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/FeaturesSection.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\n/**\r\n * Features Section Component\r\n * Displays three key service features: Fast Delivery, Best Quality, and Free Return\r\n * Clean, minimalist design matching the reference image\r\n * Each feature card is clickable and navigates to the corresponding page\r\n */\r\nexport function FeaturesSection() {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <section className=\"py-16 bg-white\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Heading */}\r\n        <div className=\"text-center mb-12\">\r\n          <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\r\n            {t('home.features_title')}\r\n          </h2>\r\n          <p className=\"text-base text-gray-600 max-w-2xl mx-auto\">\r\n            {t('home.features_subtitle')}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Features Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12\">\r\n          {/* Fast Delivery */}\r\n          <Link\r\n            href=\"/delivery\"\r\n            className=\"text-center group cursor-pointer transition-all duration-300 hover:scale-105\"\r\n          >\r\n            <div className=\"flex justify-center mb-4\">\r\n              <div className=\"w-20 h-20 flex items-center justify-center\">\r\n                <img\r\n                  src=\"https://img.freepik.com/premium-vector/vector-fast-delivery-icon-illustration_723554-1032.jpg\"\r\n                  alt=\"Fast Delivery\"\r\n                  className=\"w-full h-full object-contain\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-3 group-hover:text-gray-700 transition-colors\">\r\n              {t('home.feature_fast_delivery_title')}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n              {t('home.feature_fast_delivery_description')}\r\n            </p>\r\n          </Link>\r\n\r\n          {/* Best Quality */}\r\n          <Link\r\n            href=\"/about\"\r\n            className=\"text-center group cursor-pointer transition-all duration-300 hover:scale-105\"\r\n          >\r\n            <div className=\"flex justify-center mb-4\">\r\n              <div className=\"w-20 h-20 flex items-center justify-center\">\r\n                <img\r\n                  src=\"https://www.shutterstock.com/image-vector/best-quality-stamp-sticker-icon-600w-1922730422.jpg\"\r\n                  alt=\"Best Quality\"\r\n                  className=\"w-full h-full object-contain\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-3 group-hover:text-gray-700 transition-colors\">\r\n              {t('home.feature_best_quality_title')}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n              {t('home.feature_best_quality_description')}\r\n            </p>\r\n          </Link>\r\n\r\n          {/* Free Return */}\r\n          <Link\r\n            href=\"/returns\"\r\n            className=\"text-center group cursor-pointer transition-all duration-300 hover:scale-105\"\r\n          >\r\n            <div className=\"flex justify-center mb-4\">\r\n              <div className=\"w-20 h-20 flex items-center justify-center\">\r\n                <img\r\n                  src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRSgoxSEhKJM1oLGZSKnh1mVW4wTQcQl_DV1Q&s\"\r\n                  alt=\"Free Return\"\r\n                  className=\"w-full h-full object-contain\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <h3 className=\"text-xl font-bold text-gray-900 mb-3 group-hover:text-gray-700 transition-colors\">\r\n              {t('home.feature_free_return_title')}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n              {t('home.feature_free_return_description')}\r\n            </p>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,SAAS;IACd,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sJAAc;IAE5B,qBACE,8OAAC;QAAQ,WAAU;kBACjB,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX,EAAE;;;;;;sCAEL,8OAAC;4BAAE,WAAU;sCACV,EAAE;;;;;;;;;;;;8BAKP,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,KAAI;4CACJ,KAAI;4CACJ,WAAU;;;;;;;;;;;;;;;;8CAIhB,8OAAC;oCAAG,WAAU;8CACX,EAAE;;;;;;8CAEL,8OAAC;oCAAE,WAAU;8CACV,EAAE;;;;;;;;;;;;sCAKP,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,KAAI;4CACJ,KAAI;4CACJ,WAAU;;;;;;;;;;;;;;;;8CAIhB,8OAAC;oCAAG,WAAU;8CACX,EAAE;;;;;;8CAEL,8OAAC;oCAAE,WAAU;8CACV,EAAE;;;;;;;;;;;;sCAKP,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;;8CAEV,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,KAAI;4CACJ,KAAI;4CACJ,WAAU;;;;;;;;;;;;;;;;8CAIhB,8OAAC;oCAAG,WAAU;8CACX,EAAE;;;;;;8CAEL,8OAAC;oCAAE,WAAU;8CACV,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOjB"}},
    {"offset": {"line": 451, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/TopCategories.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage } from '../lib/language';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface Category {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  fullPath: string;\r\n  children: Category[];\r\n}\r\n\r\ninterface CategoriesResponse {\r\n  data: Category[];\r\n}\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  image: string | null;\r\n}\r\n\r\ninterface ProductsResponse {\r\n  data: Product[];\r\n  meta: {\r\n    total: number;\r\n  };\r\n}\r\n\r\ninterface CategoryWithData {\r\n  category: Category;\r\n  productCount: number;\r\n  product: Product | null;\r\n}\r\n\r\n/**\r\n * Flatten categories tree to get all categories (root + children)\r\n */\r\nfunction flattenAllCategories(cats: Category[]): Category[] {\r\n  const result: Category[] = [];\r\n  cats.forEach((cat) => {\r\n    result.push(cat);\r\n    if (cat.children && cat.children.length > 0) {\r\n      result.push(...flattenAllCategories(cat.children));\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\n/**\r\n * TopCategories Component\r\n * Displays top 5 categories with most products in circular icons\r\n */\r\nexport function TopCategories() {\r\n  const { t } = useTranslation();\r\n  const router = useRouter();\r\n  const [topCategories, setTopCategories] = useState<CategoryWithData[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTopCategories();\r\n  }, []);\r\n\r\n  /**\r\n   * Fetch categories, get product counts, and select top 5\r\n   */\r\n  const fetchTopCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      console.log('üì¶ [TopCategories] Fetching categories...');\r\n      \r\n      const language = getStoredLanguage();\r\n      console.log('üì¶ [TopCategories] Language:', language);\r\n      \r\n      const response = await apiClient.get<CategoriesResponse>('/api/v1/categories/tree', {\r\n        params: { lang: language },\r\n      });\r\n\r\n      console.log('üì¶ [TopCategories] Response received:', response);\r\n      \r\n      // Validate response structure\r\n      if (!response) {\r\n        console.error('‚ùå [TopCategories] Empty response received');\r\n        setTopCategories([]);\r\n        return;\r\n      }\r\n      \r\n      if (!response.data) {\r\n        console.warn('‚ö†Ô∏è [TopCategories] Response missing \"data\" field:', response);\r\n        setTopCategories([]);\r\n        return;\r\n      }\r\n      \r\n      if (!Array.isArray(response.data)) {\r\n        console.error('‚ùå [TopCategories] Response.data is not an array:', typeof response.data, response.data);\r\n        setTopCategories([]);\r\n        return;\r\n      }\r\n      \r\n      const categoriesList = response.data;\r\n      console.log('üì¶ [TopCategories] Categories list:', categoriesList);\r\n      // Get all categories including children (flatten the tree)\r\n      const allCategories = flattenAllCategories(categoriesList);\r\n      \r\n      console.log('üì¶ [TopCategories] Total categories found:', allCategories.length);\r\n\r\n      // Fetch product counts and first product with image for each category\r\n      const categoryDataPromises = allCategories.map(async (category): Promise<CategoryWithData> => {\r\n        try {\r\n          // Fetch products to get count and find one with image\r\n          console.log(`üîç [TopCategories] Fetching products for category: \"${category.title}\" (slug: \"${category.slug}\")`);\r\n          const productsResponse = await apiClient.get<ProductsResponse>('/api/v1/products', {\r\n            params: {\r\n              category: category.slug,\r\n              limit: '10', // Get more products to find one with image\r\n              lang: language,\r\n            },\r\n          });\r\n          \r\n          console.log(`üì¶ [TopCategories] Response for \"${category.title}\":`, {\r\n            total: productsResponse.meta?.total || 0,\r\n            productsCount: productsResponse.data?.length || 0,\r\n            firstProductId: productsResponse.data?.[0]?.id,\r\n            firstProductImage: productsResponse.data?.[0]?.image,\r\n          });\r\n          \r\n          // If category has 0 products, it might mean category was not found\r\n          if (productsResponse.meta?.total === 0) {\r\n            console.warn(`‚ö†Ô∏è [TopCategories] Category \"${category.title}\" (${category.slug}) has 0 products - category might not exist in database`);\r\n          }\r\n          \r\n          const productCount = productsResponse.meta?.total || 0;\r\n          // Get first product with image, or first product if no image available\r\n          // Only assign product if we have products for this category\r\n          const productWithImage = productsResponse.data && productsResponse.data.length > 0\r\n            ? (productsResponse.data.find(p => p.image) || productsResponse.data[0] || null)\r\n            : null;\r\n          \r\n          console.log(`‚úÖ [TopCategories] Category \"${category.title}\" (${category.slug}): ${productCount} products, selected product: ${productWithImage?.id} (image: ${productWithImage?.image ? 'yes' : 'no'})`);\r\n          \r\n          return {\r\n            category,\r\n            productCount,\r\n            product: productWithImage,\r\n          };\r\n        } catch (err) {\r\n          console.error(`‚ùå [TopCategories] Error fetching products for category ${category.slug}:`, err);\r\n          return {\r\n            category,\r\n            productCount: 0,\r\n            product: null,\r\n          };\r\n        }\r\n      });\r\n      \r\n      // Wait for all category data to load\r\n      const allCategoryData = await Promise.all(categoryDataPromises);\r\n      \r\n      // Filter out categories with 0 products, sort by product count (descending), and take top 5\r\n      const sortedCategories = allCategoryData\r\n        .filter(item => item.productCount > 0)\r\n        .sort((a, b) => b.productCount - a.productCount)\r\n        .slice(0, 5);\r\n      \r\n      setTopCategories(sortedCategories);\r\n      console.log('‚úÖ [TopCategories] Top 5 categories selected:', sortedCategories.map(c => `${c.category.title} (${c.productCount} products)`));\r\n    } catch (err: any) {\r\n      console.error('‚ùå [TopCategories] Error fetching categories:', err);\r\n      console.error('‚ùå [TopCategories] Error details:', {\r\n        message: err?.message,\r\n        status: err?.status,\r\n        statusText: err?.statusText,\r\n        data: err?.data,\r\n        stack: err?.stack,\r\n      });\r\n      // Set empty array to prevent infinite loading\r\n      setTopCategories([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCategoryClick = (categorySlug: string) => {\r\n    router.push(`/products?category=${categorySlug}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <section className=\"py-12 bg-white\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-center items-center gap-8 md:gap-12 lg:gap-16 flex-wrap\">\r\n            {[1, 2, 3, 4, 5].map((i) => (\r\n              <div key={i} className=\"flex flex-col items-center gap-3 min-w-[120px]\">\r\n                <div className=\"w-24 h-24 rounded-full bg-gray-200 animate-pulse shadow-sm\"></div>\r\n                <div className=\"w-20 h-4 bg-gray-200 rounded animate-pulse\"></div>\r\n                <div className=\"w-16 h-3 bg-gray-200 rounded animate-pulse\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  if (topCategories.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <section className=\"py-12 bg-white\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"flex justify-center items-center gap-6 md:gap-8 lg:gap-12 xl:gap-16 flex-wrap\">\r\n          {topCategories.map((item) => {\r\n            const { category, productCount, product } = item;\r\n            \r\n            return (\r\n              <Link\r\n                key={category.id}\r\n                href={`/products?category=${category.slug}`}\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  handleCategoryClick(category.slug);\r\n                }}\r\n                className=\"flex flex-col items-center gap-3 group cursor-pointer transition-all duration-300 hover:scale-105 min-w-[120px] outline-none focus:outline-none hover:outline-none focus-visible:outline-none ring-0 focus:ring-0 hover:ring-0\"\r\n              >\r\n                {/* Circular Icon with Product Image */}\r\n                <div className=\"transition-all duration-300 group-hover:shadow-lg group-hover:-translate-y-1 relative outline-none\">\r\n                  {product?.image ? (\r\n                    <div className=\"w-24 h-24 rounded-full overflow-hidden bg-gray-100 shadow-md transition-all duration-300 flex items-center justify-center outline-none ring-0\">\r\n                      <Image\r\n                        src={product.image}\r\n                        alt={category.title}\r\n                        width={96}\r\n                        height={96}\r\n                        className=\"w-full h-full object-cover scale-110 group-hover:scale-125 transition-transform duration-300 outline-none\"\r\n                        unoptimized\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center shadow-md transition-all duration-300 outline-none ring-0\">\r\n                      <svg className=\"w-12 h-12 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" strokeWidth={2}>\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"/>\r\n                      </svg>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Category Name */}\r\n                <span className=\"text-sm font-semibold text-gray-900 text-center max-w-[140px] group-hover:text-gray-700 transition-colors\">\r\n                  {category.title}\r\n                </span>\r\n                \r\n                {/* Product Count */}\r\n                <span className=\"text-xs text-gray-500 font-medium\">\r\n                  {productCount} {productCount === 1 ? t('common.product.product') : t('common.product.products')}\r\n                </span>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 769, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ProductLabels.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport type ProductLabelPosition = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\r\n\r\nexport interface ProductLabel {\r\n  id: string;\r\n  type: 'text' | 'percentage';\r\n  value: string;\r\n  position: ProductLabelPosition;\r\n  color: string | null;\r\n}\r\n\r\ninterface ProductLabelsProps {\r\n  labels: ProductLabel[];\r\n}\r\n\r\n/**\r\n * ProductLabels\r\n *\r\n * UI-–∫–æ–º’∫’∏’∂’•’∂’ø, ’∏÷Ä’® corner-’•÷Ä’∏’æ ’≠’¥’¢’°’æ’∏÷Ä’∏÷Ç’¥ ’ß product-’´ labels-’®\r\n * ÷á ’∂’∏÷Ç’µ’∂ position ’∏÷Ç’∂’•÷Å’∏’≤ labels-’® ÷Å’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥ ’ß vertical stack-’∏’æ÷â\r\n * ’ç’° ’°’∫’°’∞’∏’æ’∏÷Ç’¥ ’ß, ’∏÷Ä ’¥’´’°’™’°’¥’°’∂’°’Ø ’¥’´ ÷Ñ’°’∂’´ label ’∏÷Ç’∂’•’∂’°’¨’∏÷Ç ’§’•’∫÷Ñ’∏÷Ç’¥\r\n * ’§÷Ä’°’∂÷Ñ ’´÷Ä’°÷Ä ’æ÷Ä’° ’π’•’∂ ’∂’Ω’ø’∏÷Ç’¥, ’°’µ’¨ ’∏÷Ç’∂’•’∂ ’∞’Ω’ø’°’Ø –≤–µ—Ä—Ç–∏–∫’°’¨ ’∞’•’º’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂÷â\r\n */\r\nexport const ProductLabels: React.FC<ProductLabelsProps> = ({ labels }) => {\r\n  if (!labels || labels.length === 0) return null;\r\n\r\n  // ’ì’∏÷Ñ÷Ä logging, ’∏÷Ä ’∞’•’∑’ø ’¨’´’∂’´ debug ’°’∂’•’¨ label-’∂’•÷Ä’´ ’≠’∂’§’´÷Ä’∂’•÷Ä’®\r\n  console.info('[UI][ProductLabels] Rendering labels', {\r\n    total: labels.length,\r\n    positions: labels.map((l) => l.position),\r\n  });\r\n\r\n  const positions: ProductLabelPosition[] = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];\r\n\r\n  const getColorClasses = (label: ProductLabel) => {\r\n    if (label.color) {\r\n      return '';\r\n    }\r\n\r\n    if (label.type === 'percentage') {\r\n      return 'bg-red-600 text-white';\r\n    }\r\n\r\n    const value = label.value.toLowerCase();\r\n    if (value.includes('new') || value.includes('’∂’∏÷Ä')) {\r\n      return 'bg-green-600 text-white';\r\n    }\r\n    if (value.includes('hot') || value.includes('’ø’°÷Ñ')) {\r\n      return 'bg-orange-600 text-white';\r\n    }\r\n    if (value.includes('sale') || value.includes('’¶’•’≤’π')) {\r\n      return 'bg-red-600 text-white';\r\n    }\r\n\r\n    return 'bg-blue-600 text-white';\r\n  };\r\n\r\n  const getCornerPositionClasses = (position: ProductLabelPosition) => {\r\n    switch (position) {\r\n      case 'top-left':\r\n        return 'top-2 left-2 items-start';\r\n      case 'top-right':\r\n        return 'top-2 right-2 items-end';\r\n      case 'bottom-left':\r\n        return 'bottom-2 left-2 items-start';\r\n      case 'bottom-right':\r\n        return 'bottom-2 right-2 items-end';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"absolute inset-0 pointer-events-none z-20\">\r\n      {positions.map((position) => {\r\n        const labelsForPosition = labels.filter((label) => label.position === position);\r\n        if (labelsForPosition.length === 0) return null;\r\n\r\n        return (\r\n          <div\r\n            key={position}\r\n            className={`absolute flex flex-col gap-1 ${getCornerPositionClasses(position)}`}\r\n          >\r\n            {labelsForPosition.map((label) => (\r\n              <div\r\n                key={label.id}\r\n                className={`px-2 py-0.5 text-[10px] font-semibold rounded-md shadow-sm pointer-events-auto ${getColorClasses(\r\n                  label,\r\n                )}`}\r\n                style={label.color ? { backgroundColor: label.color, color: 'white' } : undefined}\r\n              >\r\n                {label.type === 'percentage' ? `${label.value}%` : label.value}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;AAwBO,MAAM,gBAA8C,CAAC,EAAE,MAAM,EAAE;IACpE,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG,OAAO;IAE3C,6DAA6D;IAC7D,QAAQ,IAAI,CAAC,wCAAwC;QACnD,OAAO,OAAO,MAAM;QACpB,WAAW,OAAO,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ;IACzC;IAEA,MAAM,YAAoC;QAAC;QAAY;QAAa;QAAe;KAAe;IAElG,MAAM,kBAAkB,CAAC;QACvB,IAAI,MAAM,KAAK,EAAE;YACf,OAAO;QACT;QAEA,IAAI,MAAM,IAAI,KAAK,cAAc;YAC/B,OAAO;QACT;QAEA,MAAM,QAAQ,MAAM,KAAK,CAAC,WAAW;QACrC,IAAI,MAAM,QAAQ,CAAC,UAAU,MAAM,QAAQ,CAAC,QAAQ;YAClD,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,CAAC,UAAU,MAAM,QAAQ,CAAC,QAAQ;YAClD,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,CAAC,WAAW,MAAM,QAAQ,CAAC,SAAS;YACpD,OAAO;QACT;QAEA,OAAO;IACT;IAEA,MAAM,2BAA2B,CAAC;QAChC,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC;YACd,MAAM,oBAAoB,OAAO,MAAM,CAAC,CAAC,QAAU,MAAM,QAAQ,KAAK;YACtE,IAAI,kBAAkB,MAAM,KAAK,GAAG,OAAO;YAE3C,qBACE,8OAAC;gBAEC,WAAW,CAAC,6BAA6B,EAAE,yBAAyB,WAAW;0BAE9E,kBAAkB,GAAG,CAAC,CAAC,sBACtB,8OAAC;wBAEC,WAAW,CAAC,+EAA+E,EAAE,gBAC3F,QACC;wBACH,OAAO,MAAM,KAAK,GAAG;4BAAE,iBAAiB,MAAM,KAAK;4BAAE,OAAO;wBAAQ,IAAI;kCAEvE,MAAM,IAAI,KAAK,eAAe,GAAG,MAAM,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,KAAK;uBANzD,MAAM,EAAE;;;;;eALZ;;;;;QAgBX;;;;;;AAGN"}},
    {"offset": {"line": 856, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ProductCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { useState, useEffect } from 'react';\r\nimport type { MouseEvent } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { formatPrice, getStoredCurrency } from '../lib/currency';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { useAuth } from '../lib/auth/AuthContext';\r\nimport { useTranslation } from '../lib/i18n-client';\r\nimport { CompareIcon } from './icons/CompareIcon';\r\nimport { CartIcon as CartPngIcon } from './icons/CartIcon';\r\nimport { ProductLabels } from './ProductLabels';\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  price: number;\r\n  image: string | null;\r\n  inStock: boolean;\r\n  brand: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n  labels?: import('./ProductLabels').ProductLabel[];\r\n  compareAtPrice?: number | null;\r\n  originalPrice?: number | null;\r\n  globalDiscount?: number | null;\r\n  discountPercent?: number | null;\r\n  colors?: Array<{ value: string; imageUrl?: string | null; colors?: string[] | null }>; // Available colors from variants with imageUrl and colors hex\r\n}\r\n\r\ntype ViewMode = 'list' | 'grid-2' | 'grid-3';\r\n\r\ninterface ProductCardProps {\r\n  product: Product;\r\n  viewMode?: ViewMode;\r\n}\r\n\r\nconst WISHLIST_KEY = 'shop_wishlist';\r\nconst COMPARE_KEY = 'shop_compare';\r\n\r\n// Color mapping for common color names\r\n\r\n\r\n\r\n\r\n// –ò–∫–æ–Ω–∫–∏\r\nconst WishlistIcon = ({ filled = false }: { filled?: boolean }) => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path \r\n      d=\"M10 17L8.55 15.7C4.4 12.2 2 10.1 2 7.5C2 5.4 3.4 4 5.5 4C6.8 4 8.1 4.6 9 5.5C9.9 4.6 11.2 4 12.5 4C14.6 4 16 5.4 16 7.5C16 10.1 13.6 12.2 9.45 15.7L10 17Z\" \r\n      stroke=\"currentColor\" \r\n      strokeWidth=\"1.8\" \r\n      strokeLinecap=\"round\" \r\n      strokeLinejoin=\"round\" \r\n      fill={filled ? \"currentColor\" : \"none\"} \r\n    />\r\n  </svg>\r\n);\r\n\r\n/**\r\n * Product card component with Compare, Wishlist and Cart icons\r\n * Displays product image, title, category, price and action buttons\r\n */\r\nexport function ProductCard({ product, viewMode = 'grid-3' }: ProductCardProps) {\r\n  const isCompact = viewMode === 'grid-3';\r\n  const router = useRouter();\r\n  const { isLoggedIn } = useAuth();\r\n  const { t } = useTranslation();\r\n  const [currency, setCurrency] = useState(getStoredCurrency());\r\n  const [isInWishlist, setIsInWishlist] = useState(false);\r\n  const [isInCompare, setIsInCompare] = useState(false);\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è wishlist –∏ compare\r\n  useEffect(() => {\r\n    const checkWishlist = () => {\r\n      if (typeof window === 'undefined') return;\r\n      try {\r\n        const stored = localStorage.getItem(WISHLIST_KEY);\r\n        const wishlist = stored ? JSON.parse(stored) : [];\r\n        setIsInWishlist(wishlist.includes(product.id));\r\n      } catch {\r\n        setIsInWishlist(false);\r\n      }\r\n    };\r\n\r\n    const checkCompare = () => {\r\n      if (typeof window === 'undefined') return;\r\n      try {\r\n        const stored = localStorage.getItem(COMPARE_KEY);\r\n        const compare = stored ? JSON.parse(stored) : [];\r\n        setIsInCompare(compare.includes(product.id));\r\n      } catch {\r\n        setIsInCompare(false);\r\n      }\r\n    };\r\n\r\n    checkWishlist();\r\n    checkCompare();\r\n\r\n    // –°–ª—É—à–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\r\n    const handleWishlistUpdate = () => checkWishlist();\r\n    const handleCompareUpdate = () => checkCompare();\r\n\r\n    window.addEventListener('wishlist-updated', handleWishlistUpdate);\r\n    window.addEventListener('compare-updated', handleCompareUpdate);\r\n\r\n    return () => {\r\n      window.removeEventListener('wishlist-updated', handleWishlistUpdate);\r\n      window.removeEventListener('compare-updated', handleCompareUpdate);\r\n    };\r\n  }, [product.id]);\r\n\r\n  // Listen for currency updates\r\n  useEffect(() => {\r\n    const handleCurrencyUpdate = () => {\r\n      setCurrency(getStoredCurrency());\r\n    };\r\n    // Listen for currency rates updates to force re-render\r\n    const handleCurrencyRatesUpdate = () => {\r\n      setCurrency(getStoredCurrency());\r\n    };\r\n\r\n    window.addEventListener('currency-updated', handleCurrencyUpdate);\r\n    window.addEventListener('currency-rates-updated', handleCurrencyRatesUpdate);\r\n    return () => {\r\n      window.removeEventListener('currency-updated', handleCurrencyUpdate);\r\n      window.removeEventListener('currency-rates-updated', handleCurrencyRatesUpdate);\r\n    };\r\n  }, []);\r\n\r\n  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ wishlist\r\n  const handleWishlistToggle = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ - –µ—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞\r\n    if (!isLoggedIn) {\r\n      router.push(`/login?redirect=/products`);\r\n      return;\r\n    }\r\n    \r\n    if (typeof window === 'undefined') return;\r\n    \r\n    try {\r\n      const stored = localStorage.getItem(WISHLIST_KEY);\r\n      const wishlist: string[] = stored ? JSON.parse(stored) : [];\r\n      \r\n      if (isInWishlist) {\r\n        const updated = wishlist.filter((id) => id !== product.id);\r\n        localStorage.setItem(WISHLIST_KEY, JSON.stringify(updated));\r\n        setIsInWishlist(false);\r\n      } else {\r\n        wishlist.push(product.id);\r\n        localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlist));\r\n        setIsInWishlist(true);\r\n      }\r\n      \r\n      window.dispatchEvent(new Event('wishlist-updated'));\r\n    } catch (error) {\r\n      console.error('Error updating wishlist:', error);\r\n    }\r\n  };\r\n\r\n  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ compare\r\n  const handleCompareToggle = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (typeof window === 'undefined') return;\r\n    \r\n    try {\r\n      const stored = localStorage.getItem(COMPARE_KEY);\r\n      const compare: string[] = stored ? JSON.parse(stored) : [];\r\n      \r\n      // –ú–∞–∫—Å–∏–º—É–º 4 –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è\r\n      console.info('[Compare] Toggling compare from ProductCard', {\r\n        productId: product.id,\r\n        action: isInCompare ? 'remove' : 'add',\r\n      });\r\n      if (isInCompare) {\r\n        const updated = compare.filter((id) => id !== product.id);\r\n        localStorage.setItem(COMPARE_KEY, JSON.stringify(updated));\r\n        setIsInCompare(false);\r\n      } else {\r\n        if (compare.length >= 4) {\r\n          alert(t('common.alerts.compareMaxReached'));\r\n          return;\r\n        }\r\n        compare.push(product.id);\r\n        localStorage.setItem(COMPARE_KEY, JSON.stringify(compare));\r\n        setIsInCompare(true);\r\n      }\r\n      \r\n      window.dispatchEvent(new Event('compare-updated'));\r\n    } catch (error) {\r\n      console.error('Error updating compare:', error);\r\n    }\r\n  };\r\n\r\n  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É\r\n  const handleAddToCart = async (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (!product.inStock) {\r\n      return;\r\n    }\r\n\r\n    // Validate product slug before making API call\r\n    if (!product.slug || product.slug.trim() === '' || product.slug.includes(' ')) {\r\n      console.error('‚ùå [PRODUCT CARD] Invalid product slug:', product.slug);\r\n      alert(t('common.alerts.invalidProduct'));\r\n      return;\r\n    }\r\n\r\n    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã\r\n    if (!isLoggedIn) {\r\n      setIsAddingToCart(true);\r\n      try {\r\n        const CART_KEY = 'shop_cart_guest';\r\n        const stored = localStorage.getItem(CART_KEY);\r\n        const cart: Array<{ productId: string; productSlug: string; variantId?: string; quantity: number }> = stored ? JSON.parse(stored) : [];\r\n        \r\n        // –ü–æ–ª—É—á–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è variant ID\r\n        interface ProductDetails {\r\n          id: string;\r\n          slug: string;\r\n          variants?: Array<{\r\n            id: string;\r\n            sku: string;\r\n            price: number;\r\n            stock: number;\r\n            available: boolean;\r\n          }>;\r\n        }\r\n\r\n        // Encode slug to handle special characters\r\n        const encodedSlug = encodeURIComponent(product.slug.trim());\r\n        const productDetails = await apiClient.get<ProductDetails>(`/api/v1/products/${encodedSlug}`);\r\n        \r\n        if (!productDetails.variants || productDetails.variants.length === 0) {\r\n          alert(t('common.alerts.noVariantsAvailable'));\r\n          setIsAddingToCart(false);\r\n          return;\r\n        }\r\n\r\n        const variantId = productDetails.variants[0].id;\r\n        const variant = productDetails.variants[0];\r\n        \r\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω–µ\r\n        const existingItem = cart.find(item => item.productId === product.id && item.variantId === variantId);\r\n        \r\n        // Calculate total quantity that will be in cart after adding\r\n        const currentQuantityInCart = existingItem?.quantity || 0;\r\n        const totalQuantity = currentQuantityInCart + 1;\r\n        \r\n        // Check if total quantity exceeds available stock\r\n        if (totalQuantity > variant.stock) {\r\n          console.log('üö´ [PRODUCT CARD - GUEST CART] Stock limit exceeded:', {\r\n            variantId,\r\n            currentInCart: currentQuantityInCart,\r\n            requestedQuantity: 1,\r\n            totalQuantity,\r\n            availableStock: variant.stock\r\n          });\r\n          alert(t('common.alerts.noMoreStockAvailable'));\r\n          setIsAddingToCart(false);\r\n          return;\r\n        }\r\n        \r\n        if (existingItem) {\r\n          existingItem.quantity = totalQuantity;\r\n          // –û–±–Ω–æ–≤–ª—è–µ–º slug, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ –±—ã–ª–æ\r\n          if (!existingItem.productSlug) {\r\n            existingItem.productSlug = productDetails.slug;\r\n          }\r\n        } else {\r\n          cart.push({\r\n            productId: product.id,\r\n            productSlug: productDetails.slug || product.slug,\r\n            variantId: variantId,\r\n            quantity: 1,\r\n          });\r\n        }\r\n        \r\n        localStorage.setItem(CART_KEY, JSON.stringify(cart));\r\n        window.dispatchEvent(new Event('cart-updated'));\r\n      } catch (error: any) {\r\n        console.error('‚ùå [PRODUCT CARD] Error adding to guest cart:', error);\r\n        \r\n        // Check if error is about product not found\r\n        if (error?.message?.includes('does not exist') || error?.message?.includes('404') || error?.status === 404) {\r\n          alert(t('common.alerts.productNotFound'));\r\n        } else {\r\n          // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –≤ localStorage, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ login\r\n          router.push(`/login?redirect=/products`);\r\n        }\r\n      } finally {\r\n        setIsAddingToCart(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    setIsAddingToCart(true);\r\n\r\n    try {\r\n      // –ü–æ–ª—É—á–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è variant ID\r\n      interface ProductDetails {\r\n        id: string;\r\n        variants?: Array<{\r\n          id: string;\r\n          sku: string;\r\n          price: number;\r\n          stock: number;\r\n          available: boolean;\r\n        }>;\r\n      }\r\n\r\n      // Encode slug to handle special characters\r\n      const encodedSlug = encodeURIComponent(product.slug.trim());\r\n      const productDetails = await apiClient.get<ProductDetails>(`/api/v1/products/${encodedSlug}`);\r\n\r\n      if (!productDetails.variants || productDetails.variants.length === 0) {\r\n        alert(t('common.alerts.noVariantsAvailable'));\r\n        return;\r\n      }\r\n\r\n      const variantId = productDetails.variants[0].id;\r\n      \r\n      await apiClient.post(\r\n        '/api/v1/cart/items',\r\n        {\r\n          productId: product.id,\r\n          variantId: variantId,\r\n          quantity: 1,\r\n        }\r\n      );\r\n\r\n      // –¢—Ä–∏–≥–≥–µ—Ä–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã\r\n      window.dispatchEvent(new Event('cart-updated'));\r\n    } catch (error: any) {\r\n      console.error('‚ùå [PRODUCT CARD] Error adding to cart:', error);\r\n      \r\n      // Check if error is about product not found\r\n      if (error?.message?.includes('does not exist') || error?.message?.includes('404') || error?.status === 404 || error?.statusCode === 404) {\r\n        alert(t('common.alerts.productNotFound'));\r\n        setIsAddingToCart(false);\r\n        return;\r\n      }\r\n      \r\n      // Check if error is about insufficient stock\r\n      if (error.response?.data?.detail?.includes('No more stock available') || \r\n          error.response?.data?.detail?.includes('exceeds available stock') ||\r\n          error.response?.data?.title === 'Insufficient stock') {\r\n        alert(t('common.alerts.noMoreStockAvailable'));\r\n        setIsAddingToCart(false);\r\n        return;\r\n      }\r\n      \r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ login\r\n      if (error.message?.includes('401') || error.message?.includes('Unauthorized') || error?.status === 401 || error?.statusCode === 401) {\r\n        router.push(`/login?redirect=/products`);\r\n      } else {\r\n        // Generic error message\r\n        alert(t('common.alerts.failedToAddToCart'));\r\n      }\r\n    } finally {\r\n      setIsAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  // List view layout (similar to cart)\r\n  if (viewMode === 'list') {\r\n    return (\r\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:bg-gray-50 transition-colors\">\r\n        {/* Mobile: Vertical layout, Desktop: Horizontal layout */}\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center gap-4 px-4 sm:px-6 py-4\">\r\n          {/* Product Image - small like in cart */}\r\n          <Link\r\n            href={`/products/${product.slug}`}\r\n            className=\"w-20 h-20 bg-gray-100 rounded-lg flex-shrink-0 relative overflow-hidden self-start sm:self-center\"\r\n          >\r\n            {product.image && !imageError ? (\r\n              <Image\r\n                src={product.image}\r\n                alt={product.title}\r\n                fill\r\n                className=\"object-cover\"\r\n                sizes=\"80px\"\r\n                unoptimized\r\n                onError={() => setImageError(true)}\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full bg-gray-200 flex items-center justify-center\">\r\n                <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n              </div>\r\n            )}\r\n          </Link>\r\n\r\n          {/* Product Info */}\r\n          <div className=\"flex-1 min-w-0 w-full sm:w-auto\">\r\n            <Link href={`/products/${product.slug}`} className=\"block\">\r\n              <h3 className=\"text-lg sm:text-xl font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2\">\r\n                {product.title}\r\n              </h3>\r\n              <p className=\"text-base sm:text-lg text-gray-500 mt-1\">\r\n                {product.brand?.name || t('common.defaults.category')}\r\n              </p>\r\n            </Link>\r\n            {/* Available Colors */}\r\n            {product.colors && product.colors.length > 0 && (\r\n              <div className=\"flex items-center gap-1.5 mt-2 flex-wrap\">\r\n                {product.colors.slice(0, 6).map((colorData, index) => {\r\n                  const colorValue = typeof colorData === 'string' ? colorData : colorData.value;\r\n                  const imageUrl = typeof colorData === 'object' ? colorData.imageUrl : null;\r\n                  const colorsHex = typeof colorData === 'object' ? colorData.colors : null;\r\n                  \r\n                  // Determine color hex: use colorsHex[0] if available, otherwise use getColorHex\r\n                  const colorHex = colorsHex && Array.isArray(colorsHex) && colorsHex.length > 0 \r\n                     colorsHex[0] \r\n             \r\n                  \r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className=\"w-5 h-5 rounded-full border border-gray-300 flex-shrink-0 overflow-hidden\"\r\n                      style={imageUrl ? {} : { backgroundColor: colorHex }}\r\n                      title={colorValue}\r\n                      aria-label={`Color: ${colorValue}`}\r\n                    >\r\n                      {imageUrl ? (\r\n                        <img \r\n                          src={imageUrl} \r\n                          alt={colorValue}\r\n                          className=\"w-full h-full object-cover\"\r\n                          onError={(e) => {\r\n                            // Fallback to color hex if image fails to load\r\n                            (e.target as HTMLImageElement).style.backgroundColor = colorHex;\r\n                            (e.target as HTMLImageElement).style.display = 'none';\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                    </div>\r\n                  );\r\n                })}\r\n                {product.colors.length > 6 && (\r\n                  <span className=\"text-sm text-gray-500\">\r\n                    +{product.colors.length - 6}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Price and Actions - Mobile: Stacked, Desktop: Horizontal */}\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 w-full sm:w-auto\">\r\n            {/* Price */}\r\n            <div className=\"flex flex-col\">\r\n              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                <span className=\"text-xl sm:text-2xl font-semibold text-blue-600\">\r\n                  {formatPrice(product.price || 0, currency || 'USD')}\r\n                </span>\r\n                {product.discountPercent && product.discountPercent > 0 ? (\r\n                  <span className=\"text-xs sm:text-sm font-semibold text-blue-600\">\r\n                    -{product.discountPercent}%\r\n                  </span>\r\n                ) : null}\r\n              </div>\r\n              {(product.originalPrice && product.originalPrice > product.price) || \r\n               (product.compareAtPrice && product.compareAtPrice > product.price) ? (\r\n                <span className=\"text-base sm:text-lg text-gray-500 line-through mt-0.5\">\r\n                  {formatPrice(\r\n                    (product.originalPrice && product.originalPrice > product.price) \r\n                      ? product.originalPrice \r\n                      : (product.compareAtPrice || 0), \r\n                    currency || 'USD'\r\n                  )}\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center gap-2 self-start sm:self-center\">\r\n              {/* Compare Icon */}\r\n              <button\r\n                onClick={handleCompareToggle}\r\n                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${\r\n                  isInCompare\r\n                    ? 'border-gray-900 text-gray-900 bg-white shadow-sm'\r\n                    : 'border-gray-200 text-gray-700 bg-white hover:border-gray-300 hover:bg-gray-50'\r\n                }`}\r\n                title={isInCompare ? t('common.messages.removedFromCompare') : t('common.messages.addedToCompare')}\r\n                aria-label={isInCompare ? t('common.messages.removedFromCompare') : t('common.messages.addedToCompare')}\r\n              >\r\n                <CompareIcon isActive={isInCompare} />\r\n              </button>\r\n\r\n              {/* Wishlist Icon */}\r\n              <button\r\n                onClick={handleWishlistToggle}\r\n                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-200 ${\r\n                  isInWishlist\r\n                    ? 'bg-red-600 text-white'\r\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                }`}\r\n                title={isInWishlist ? t('common.messages.removedFromWishlist') : t('common.messages.addedToWishlist')}\r\n                aria-label={isInWishlist ? t('common.messages.removedFromWishlist') : t('common.messages.addedToWishlist')}\r\n              >\r\n                <WishlistIcon filled={isInWishlist} />\r\n              </button>\r\n\r\n              {/* Cart Icon */}\r\n              <button\r\n                onClick={handleAddToCart}\r\n                disabled={!product.inStock || isAddingToCart}\r\n                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-200 ${\r\n                  product.inStock && !isAddingToCart\r\n                    ? 'bg-gray-100 text-gray-700 hover:bg-green-600 hover:text-white'\r\n                    : 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                }`}\r\n                title={product.inStock ? t('common.buttons.addToCart') : t('common.stock.outOfStock')}\r\n                aria-label={product.inStock ? t('common.buttons.addToCart') : t('common.stock.outOfStock')}\r\n              >\r\n                {isAddingToCart ? (\r\n                  <svg className=\"animate-spin h-4 w-4 sm:h-5 sm:w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                ) : (\r\n                  <CartPngIcon size={20} />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Grid view layout (original)\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow relative group\">\r\n      {/* Product Image */}\r\n      <div className=\"aspect-square bg-gray-100 relative overflow-hidden\">\r\n        <Link href={`/products/${product.slug}`} className=\"block w-full h-full\">\r\n          {product.image && !imageError ? (\r\n            <Image\r\n              src={product.image}\r\n              alt={product.title}\r\n              fill\r\n              className=\"object-cover\"\r\n              sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw\"\r\n              unoptimized\r\n              onError={() => setImageError(true)}\r\n            />\r\n          ) : (\r\n            <div className=\"w-full h-full bg-gray-200 flex items-center justify-center\">\r\n              <span className=\"text-gray-400 text-sm\">No Image</span>\r\n            </div>\r\n          )}\r\n        </Link>\r\n        \r\n        {/* Product Labels - stacked per corner */}\r\n        {product.labels && product.labels.length > 0 && <ProductLabels labels={product.labels} />}\r\n        \r\n        {/* Action Icons - –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */}\r\n        <div className={`absolute ${isCompact ? 'top-1.5 right-1.5' : 'top-3 right-3'} flex flex-col ${isCompact ? 'gap-1.5' : 'gap-2'} opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10`}>\r\n          {/* Compare Icon */}\r\n          <button\r\n            onClick={handleCompareToggle}\r\n            className={`${isCompact ? 'w-10 h-10' : 'w-12 h-12'} rounded-full border-2 flex items-center justify-center transition-all duration-200 ${\r\n              isInCompare\r\n                ? 'border-gray-900 text-gray-900 bg-white shadow-sm'\r\n                : 'border-gray-200 text-gray-700 bg-white hover:border-gray-300 hover:bg-gray-50'\r\n            }`}\r\n            title={isInCompare ? t('common.messages.removedFromCompare') : t('common.messages.addedToCompare')}\r\n            aria-label={isInCompare ? t('common.ariaLabels.removeFromCompare') : t('common.ariaLabels.addToCompare')}\r\n          >\r\n            <CompareIcon isActive={isInCompare} size={isCompact ? 16 : 18} />\r\n          </button>\r\n\r\n          {/* Wishlist Icon */}\r\n          <button\r\n            onClick={handleWishlistToggle}\r\n            className={`${isCompact ? 'w-10 h-10' : 'w-12 h-12'} rounded-full flex items-center justify-center transition-all duration-200 ${\r\n              isInWishlist\r\n                ? 'bg-red-600 text-white shadow-lg'\r\n                : 'bg-white text-gray-700 hover:bg-gray-50 shadow-md hover:shadow-lg'\r\n            }`}\r\n            title={isInWishlist ? t('common.messages.removedFromWishlist') : t('common.messages.addedToWishlist')}\r\n            aria-label={isInWishlist ? t('common.ariaLabels.removeFromWishlist') : t('common.ariaLabels.addToWishlist')}\r\n          >\r\n            {isCompact ? (\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path \r\n                  d=\"M10 17L8.55 15.7C4.4 12.2 2 10.1 2 7.5C2 5.4 3.4 4 5.5 4C6.8 4 8.1 4.6 9 5.5C9.9 4.6 11.2 4 12.5 4C14.6 4 16 5.4 16 7.5C16 10.1 13.6 12.2 9.45 15.7L10 17Z\" \r\n                  stroke=\"currentColor\" \r\n                  strokeWidth=\"1.8\" \r\n                  strokeLinecap=\"round\" \r\n                  strokeLinejoin=\"round\" \r\n                  fill={isInWishlist ? \"currentColor\" : \"none\"} \r\n                />\r\n              </svg>\r\n            ) : (\r\n              <WishlistIcon filled={isInWishlist} />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Product Info */}\r\n      <div className={isCompact ? 'p-2.5' : 'p-4'}>\r\n        <Link href={`/products/${product.slug}`} className=\"block\">\r\n          {/* Product Title */}\r\n          <h3 className={`${isCompact ? 'text-base' : 'text-xl'} font-medium text-gray-900 ${isCompact ? 'mb-0.5' : 'mb-1'} line-clamp-2`}>\r\n            {product.title}\r\n          </h3>\r\n          \r\n          {/* Category - Using brand name as category or default */}\r\n          <p className={`${isCompact ? 'text-sm' : 'text-lg'} text-gray-500 ${isCompact ? 'mb-1' : 'mb-2'}`}>\r\n            {product.brand?.name || t('common.defaults.category')}\r\n          </p>\r\n        </Link>\r\n\r\n        {/* Available Colors */}\r\n        {product.colors && product.colors.length > 0 && (\r\n          <div className={`flex items-center gap-1.5 ${isCompact ? 'mb-1' : 'mb-2'} flex-wrap`}>\r\n            {product.colors.slice(0, 6).map((colorData, index) => {\r\n              const colorValue = typeof colorData === 'string' ? colorData : colorData.value;\r\n              const imageUrl = typeof colorData === 'object' ? colorData.imageUrl : null;\r\n              const colorsHex = typeof colorData === 'object' ? colorData.colors : null;\r\n              \r\n              // Determine color hex: use colorsHex[0] if available, otherwise use getColorHex\r\n              const colorHex = colorsHex && Array.isArray(colorsHex) && colorsHex.length > 0 \r\n                ? colorsHex[0] \r\n                : getColorHex(colorValue);\r\n              \r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className={`${isCompact ? 'w-4 h-4' : 'w-5 h-5'} rounded-full border border-gray-300 flex-shrink-0 overflow-hidden`}\r\n                  style={imageUrl ? {} : { backgroundColor: colorHex }}\r\n                  title={colorValue}\r\n                  aria-label={t('common.ariaLabels.color').replace('{color}', colorValue)}\r\n                >\r\n                  {imageUrl ? (\r\n                    <img \r\n                      src={imageUrl} \r\n                      alt={colorValue}\r\n                      className=\"w-full h-full object-cover\"\r\n                      onError={(e) => {\r\n                        // Fallback to color hex if image fails to load\r\n                        (e.target as HTMLImageElement).style.backgroundColor = colorHex;\r\n                        (e.target as HTMLImageElement).style.display = 'none';\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n                </div>\r\n              );\r\n            })}\r\n            {product.colors.length > 6 && (\r\n              <span className={`${isCompact ? 'text-xs' : 'text-sm'} text-gray-500`}>\r\n                +{product.colors.length - 6}\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Price + Cart Row */}\r\n        <div className={`mt-2 flex items-center justify-between ${isCompact ? 'gap-2' : 'gap-4'}`}>\r\n          <div className=\"flex flex-col\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className={`${isCompact ? 'text-lg' : 'text-2xl'} font-semibold text-gray-900`}>\r\n                {formatPrice(product.price || 0, currency || 'USD')}\r\n              </span>\r\n              {product.discountPercent && product.discountPercent > 0 ? (\r\n                <span className={`${isCompact ? 'text-xs' : 'text-sm'} font-semibold text-blue-600`}>\r\n                  -{product.discountPercent}%\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n            {(product.originalPrice && product.originalPrice > product.price) || \r\n             (product.compareAtPrice && product.compareAtPrice > product.price) ? (\r\n              <span className={`${isCompact ? 'text-sm' : 'text-lg'} text-gray-500 line-through`}>\r\n                {formatPrice(\r\n                  (product.originalPrice && product.originalPrice > product.price) \r\n                    ? product.originalPrice \r\n                    : (product.compareAtPrice || 0), \r\n                  currency || 'USD'\r\n                )}\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n          <button\r\n            onClick={handleAddToCart}\r\n            disabled={!product.inStock || isAddingToCart}\r\n            className={`${isCompact ? 'w-10 h-10' : 'w-12 h-12'} rounded-full flex items-center justify-center transition-all duration-200 ${\r\n              product.inStock && !isAddingToCart\r\n                ? 'bg-transparent text-gray-600 hover:bg-green-600 hover:text-white hover:shadow-md'\r\n                : 'bg-transparent text-gray-400 cursor-not-allowed'\r\n            }`}\r\n            title={product.inStock ? t('common.buttons.addToCart') : t('common.stock.outOfStock')}\r\n            aria-label={product.inStock ? t('common.ariaLabels.addToCart') : t('common.ariaLabels.outOfStock')}\r\n          >\r\n            {isAddingToCart ? (\r\n              <svg className={`animate-spin ${isCompact ? 'h-5 w-5' : 'h-6 w-6'}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            ) : (\r\n              <CartPngIcon size={isCompact ? 18 : 24} />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1733, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/FeaturedProductsTabs.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage, type LanguageCode } from '../lib/language';\r\nimport { ProductCard } from './ProductCard';\r\nimport { t } from '../lib/i18n';\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  price: number;\r\n  compareAtPrice?: number | null;\r\n  image: string | null;\r\n  inStock: boolean;\r\n  brand: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n  colors?: Array<{ value: string; imageUrl?: string | null; colors?: string[] | null }>; // Available colors from variants with imageUrl and colors hex\r\n  originalPrice?: number | null;\r\n  discountPercent?: number | null;\r\n  labels?: Array<{\r\n    type: string;\r\n    value: string;\r\n    position: string;\r\n    color?: string | null;\r\n  }>;\r\n}\r\n\r\ninterface ProductsResponse {\r\n  data: Product[];\r\n  meta: {\r\n    total: number;\r\n    page: number;\r\n    limit: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\ntype FilterType = 'new' | 'featured' | 'bestseller';\r\n\r\ninterface Tab {\r\n  id: FilterType;\r\n  label: string;\r\n  filter: string | null;\r\n}\r\n\r\n// Tabs will be generated dynamically with translations\r\n\r\nconst PRODUCTS_PER_PAGE = 10;\r\nconst MOBILE_GRID_LAYOUT =\r\n  'grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5';\r\n\r\n/**\r\n * FeaturedProductsTabs Component\r\n * Displays products with tabs for filtering (NEW OFFERS, NEW, FEATURED, TOP SELLERS)\r\n * Similar to the reference design with underlined active tab\r\n */\r\nexport function FeaturedProductsTabs() {\r\n  // Use state for language to prevent hydration mismatch\r\n  // Start with 'en' on server, update on client mount\r\n  const [language, setLanguage] = useState<LanguageCode>('en');\r\n  const [activeTab, setActiveTab] = useState<FilterType>('new');\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Update language on mount and when language changes\r\n  useEffect(() => {\r\n    const updateLanguage = () => {\r\n      const storedLang = getStoredLanguage();\r\n      setLanguage(storedLang);\r\n    };\r\n\r\n    // Update immediately on mount\r\n    updateLanguage();\r\n\r\n    // Listen to language-updated events\r\n    const handleLanguageUpdate = () => {\r\n      updateLanguage();\r\n    };\r\n\r\n    window.addEventListener('language-updated', handleLanguageUpdate);\r\n    return () => {\r\n      window.removeEventListener('language-updated', handleLanguageUpdate);\r\n    };\r\n  }, []);\r\n\r\n  // Generate tabs with translations (memoized based on language)\r\n  const tabs: Tab[] = [\r\n    { id: 'new', label: t(language, 'home.featured_products.tab_new'), filter: 'new' },\r\n    { id: 'bestseller', label: t(language, 'home.featured_products.tab_bestseller'), filter: 'bestseller' },\r\n    { id: 'featured', label: t(language, 'home.featured_products.tab_featured'), filter: 'featured' },\r\n  ];\r\n\r\n  /**\r\n   * Fetch products based on active filter\r\n   */\r\n  const fetchProducts = useCallback(async (filter: string | null) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      console.log('üì¶ [FeaturedProductsTabs] Fetching products with filter:', filter);\r\n\r\n      // Use current language from state (always up-to-date)\r\n      const currentLang = language;\r\n      const params: Record<string, string> = {\r\n        page: '1',\r\n        limit: PRODUCTS_PER_PAGE.toString(),\r\n        lang: currentLang,\r\n      };\r\n\r\n      // Add filter if provided\r\n      if (filter) {\r\n        params.filter = filter;\r\n      }\r\n\r\n      const response = await apiClient.get<ProductsResponse>('/api/v1/products', {\r\n        params,\r\n      });\r\n\r\n      console.log(`‚úÖ [FeaturedProductsTabs] Loaded ${response.data.length} products`);\r\n      // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 10 –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –º–∞–∫—Å–∏–º—É–º\r\n      setProducts((response.data || []).slice(0, PRODUCTS_PER_PAGE));\r\n    } catch (err: any) {\r\n      console.error('‚ùå [FeaturedProductsTabs] Error fetching products:', err);\r\n      // Use current language from state for error message\r\n      setError(t(language, 'home.featured_products.errorLoading'));\r\n      setProducts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [language]);\r\n\r\n  /**\r\n   * Handle tab change\r\n   */\r\n  const handleTabChange = (tabId: FilterType) => {\r\n    setActiveTab(tabId);\r\n    const tab = tabs.find((t) => t.id === tabId);\r\n    fetchProducts(tab?.filter || null);\r\n  };\r\n\r\n  // Load products on mount (default \"NEW\")\r\n  useEffect(() => {\r\n    fetchProducts('new');\r\n    console.log('üß± [FeaturedProductsTabs] Mobile grid locked to 2 columns on phones');\r\n  }, [fetchProducts]);\r\n\r\n  return (\r\n    <section className=\"py-16 bg-gray-50\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Section Title */}\r\n        <h2 className=\"text-3xl font-bold text-gray-900 text-center\">\r\n          {t(language, 'home.featured_products.title')}\r\n        </h2>\r\n        <p className=\"mt-3 mb-8 text-base text-gray-600 text-center\">\r\n          {t(language, 'home.featured_products.subtitle')}\r\n        </p>\r\n\r\n        {/* Tabs Navigation */}\r\n        <div className=\"flex justify-center items-center gap-6 md:gap-8 mb-8 flex-wrap\">\r\n          {tabs.map((tab) => {\r\n            const isActive = activeTab === tab.id;\r\n            return (\r\n              <button\r\n                key={tab.id}\r\n                onClick={() => handleTabChange(tab.id)}\r\n                className={`\r\n                  relative px-4 py-2 text-sm font-medium transition-colors duration-200\r\n                  ${isActive \r\n                    ? 'text-blue-600' \r\n                    : 'text-gray-600 hover:text-gray-900'\r\n                  }\r\n                `}\r\n                aria-label={t(language, 'home.featured_products.ariaShowProducts').replace('{label}', tab.label)}\r\n                aria-pressed={isActive}\r\n              >\r\n                {tab.label}\r\n                {/* Active indicator - underline */}\r\n                {isActive && (\r\n                  <span \r\n                    className=\"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                )}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Products Grid */}\r\n        {loading ? (\r\n          <div className={MOBILE_GRID_LAYOUT}>\r\n            {[...Array(PRODUCTS_PER_PAGE)].map((_, i) => (\r\n              <div key={i} className=\"bg-white rounded-lg overflow-hidden animate-pulse\">\r\n                <div className=\"aspect-square bg-gray-200\"></div>\r\n                <div className=\"p-4 space-y-2\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\r\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\r\n                  <div className=\"h-5 bg-gray-200 rounded w-1/3\"></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-red-600 mb-4\">{error}</p>\r\n            <button\r\n              onClick={() => {\r\n                const tab = tabs.find((t) => t.id === activeTab);\r\n                fetchProducts(tab?.filter || null);\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-900 text-white rounded hover:bg-gray-800 transition-colors\"\r\n            >\r\n              {t(language, 'home.featured_products.tryAgain')}\r\n            </button>\r\n          </div>\r\n        ) : products.length > 0 ? (\r\n          <div className={MOBILE_GRID_LAYOUT}>\r\n            {products.slice(0, PRODUCTS_PER_PAGE).map((product) => (\r\n              <ProductCard key={product.id} product={product} />\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-gray-500\">{t(language, 'home.featured_products.noProducts')}</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}}]
}