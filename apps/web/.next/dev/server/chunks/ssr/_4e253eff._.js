module.exports = [
"[project]/packages/ui/Button.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Button",
    ()=>Button
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
'use client';
;
;
const Button = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(function Button({ variant = 'primary', size = 'md', className = '', children, ...props }, ref) {
    const baseStyles = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';
    const variantStyles = {
        primary: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900',
        secondary: 'bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',
        outline: 'bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',
        ghost: 'bg-transparent text-gray-900 hover:bg-gray-100 focus:ring-gray-500'
    };
    const sizeStyles = {
        sm: 'px-3 py-1.5 text-sm',
        md: 'px-4 py-2 text-base',
        lg: 'px-6 py-3 text-lg'
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
        ref: ref,
        className: `${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`,
        ...props,
        children: children
    }, void 0, false, {
        fileName: "[project]/packages/ui/Button.tsx",
        lineNumber: 32,
        columnNumber: 7
    }, this);
});
}),
"[project]/packages/ui/Card.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Card",
    ()=>Card
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
'use client';
;
;
const Card = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(function Card({ className = '', children, ...props }, ref) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        ref: ref,
        className: `bg-white border border-gray-200 rounded-lg shadow-sm ${className}`,
        ...props,
        children: children
    }, void 0, false, {
        fileName: "[project]/packages/ui/Card.tsx",
        lineNumber: 12,
        columnNumber: 7
    }, this);
});
}),
"[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Input",
    ()=>Input
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
'use client';
;
;
const Input = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forwardRef"])(function Input({ label, error, className = '', onKeyDown, ...props }, ref) {
    // Ensure pipe character (|) works in all input fields
    const handleKeyDown = (e)=>{
        // Allow pipe character (|) - key code 220 or Shift+Backslash
        if (e.key === '|' || e.keyCode === 220 || e.shiftKey && e.key === '\\') {
            // Allow the default behavior for pipe character
            return;
        }
        // Call original onKeyDown if provided
        if (onKeyDown) {
            onKeyDown(e);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "w-full",
        children: [
            label && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "block text-sm font-medium text-gray-700 mb-1",
                children: label
            }, void 0, false, {
                fileName: "[project]/packages/ui/Input.tsx",
                lineNumber: 29,
                columnNumber: 11
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                ref: ref,
                className: `w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed ${error ? 'border-error focus:ring-error' : 'border-gray-300'} ${className}`,
                onKeyDown: handleKeyDown,
                ...props
            }, void 0, false, {
                fileName: "[project]/packages/ui/Input.tsx",
                lineNumber: 33,
                columnNumber: 9
            }, this),
            error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "mt-1 text-sm text-error",
                children: error
            }, void 0, false, {
                fileName: "[project]/packages/ui/Input.tsx",
                lineNumber: 42,
                columnNumber: 11
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/packages/ui/Input.tsx",
        lineNumber: 27,
        columnNumber: 7
    }, this);
});
}),
"[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Card.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)");
;
;
;
}),
"[project]/apps/web/lib/utils/logger.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Logger utility for consistent logging across the application
 * Replaces console.log with structured logging
 */ __turbopack_context__.s([
    "logger",
    ()=>logger
]);
class Logger {
    isDevelopment() {
        return ("TURBOPACK compile-time value", "development") === 'development';
    }
    formatMessage(level, message, context) {
        const timestamp = new Date().toISOString();
        const contextStr = context ? ` ${JSON.stringify(context)}` : '';
        return `[${timestamp}] [${level.toUpperCase()}] ${message}${contextStr}`;
    }
    debug(message, context) {
        if (this.isDevelopment()) {
            console.debug(this.formatMessage('debug', message, context));
        }
    }
    info(message, context) {
        if (this.isDevelopment()) {
            console.info(this.formatMessage('info', message, context));
        }
    }
    warn(message, context) {
        console.warn(this.formatMessage('warn', message, context));
    }
    error(message, context) {
        console.error(this.formatMessage('error', message, context));
    }
    log(message, context) {
        // Alias for info in development
        this.info(message, context);
    }
}
const logger = new Logger();
}),
"[project]/apps/web/lib/utils/image-utils.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Unified image URL utilities for consistent handling across the application
 */ __turbopack_context__.s([
    "cleanImageUrls",
    ()=>cleanImageUrls,
    "getUrlVariations",
    ()=>getUrlVariations,
    "isValidImageUrl",
    ()=>isValidImageUrl,
    "normalizeUrlForComparison",
    ()=>normalizeUrlForComparison,
    "processImageFile",
    ()=>processImageFile,
    "processImageUrl",
    ()=>processImageUrl,
    "separateMainAndVariantImages",
    ()=>separateMainAndVariantImages,
    "smartSplitUrls",
    ()=>smartSplitUrls
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$browser$2d$image$2d$compression$2f$dist$2f$browser$2d$image$2d$compression$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/browser-image-compression/dist/browser-image-compression.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/utils/logger.ts [app-ssr] (ecmascript)");
;
;
function isValidImageUrl(url) {
    if (!url) return false;
    const urlStr = typeof url === 'string' ? url.trim() : '';
    if (!urlStr) return false;
    // Base64 images are valid
    if (urlStr.startsWith('data:image/')) return true;
    // HTTP/HTTPS URLs are valid
    if (urlStr.startsWith('http://') || urlStr.startsWith('https://')) return true;
    // Relative paths starting with / are valid
    if (urlStr.startsWith('/')) return true;
    return false;
}
function processImageUrl(url) {
    if (!url) return null;
    let finalUrl = '';
    if (typeof url === 'string') {
        finalUrl = url.trim();
    } else if (typeof url === 'object' && url !== null) {
        finalUrl = (url.url || url.src || url.value || '').trim();
    }
    if (!finalUrl) return null;
    // Validate
    if (!isValidImageUrl(finalUrl)) {
        return null;
    }
    // For base64 or full URLs, return as-is
    if (finalUrl.startsWith('data:') || finalUrl.startsWith('http://') || finalUrl.startsWith('https://')) {
        return finalUrl;
    }
    // For relative paths, ensure they start with /
    if (finalUrl.startsWith('/')) {
        return finalUrl;
    }
    return `/${finalUrl}`;
}
function smartSplitUrls(str) {
    if (!str) return [];
    // If no base64, simple split
    if (!str.includes('data:image/')) {
        return str.split(',').map((s)=>s.trim()).filter(Boolean);
    }
    // Handle base64 - split carefully
    // Base64 format: data:image/type;base64,<base64data>
    // The comma after base64, is the separator, but base64 data itself can contain commas
    // We need to find the comma that separates base64 header from data, then find the next URL separator
    const results = [];
    let i = 0;
    while(i < str.length){
        if (str.substring(i).startsWith('data:image/')) {
            // Found start of base64 image
            // Find the comma after base64, (this is the separator between header and data)
            const headerEnd = str.indexOf(',', i);
            if (headerEnd === -1) {
                // No comma found, treat entire rest as base64
                results.push(str.substring(i).trim());
                break;
            }
            // Find the next comma that's likely a URL separator (followed by whitespace and another URL pattern)
            // Or find end of string
            let nextSeparator = str.length;
            for(let j = headerEnd + 1; j < str.length; j++){
                if (str[j] === ',') {
                    // Check if this comma is followed by a URL pattern (not part of base64)
                    const afterComma = str.substring(j + 1).trim();
                    if (afterComma.startsWith('data:image/') || afterComma.startsWith('http://') || afterComma.startsWith('https://') || afterComma.startsWith('/')) {
                        nextSeparator = j;
                        break;
                    }
                }
            }
            // Extract base64 image (from start to separator)
            const base64Image = str.substring(i, nextSeparator).trim();
            if (base64Image) {
                results.push(base64Image);
            }
            i = nextSeparator + 1;
        } else {
            // Regular URL - find next comma or end
            const nextComma = str.indexOf(',', i);
            if (nextComma === -1) {
                // No more commas, add rest as single URL
                const url = str.substring(i).trim();
                if (url) {
                    results.push(url);
                }
                break;
            } else {
                // Add URL up to comma
                const url = str.substring(i, nextComma).trim();
                if (url) {
                    results.push(url);
                }
                i = nextComma + 1;
            }
        }
    }
    return results.filter(Boolean);
}
function normalizeUrlForComparison(url) {
    if (!url) return '';
    // Base64 images - return as-is (exact match required)
    if (url.startsWith('data:')) {
        return url;
    }
    // HTTP/HTTPS URLs - return as-is (exact match)
    if (url.startsWith('http://') || url.startsWith('https://')) {
        return url;
    }
    // Relative paths - normalize to start with /
    const trimmed = url.trim();
    if (trimmed.startsWith('/')) {
        return trimmed;
    }
    return `/${trimmed}`;
}
function getUrlVariations(url) {
    if (!url) return [];
    const normalized = normalizeUrlForComparison(url);
    const variations = new Set([
        normalized
    ]);
    // For relative paths, add variations with/without leading slash
    if (!normalized.startsWith('data:') && !normalized.startsWith('http')) {
        if (normalized.startsWith('/')) {
            variations.add(normalized.substring(1));
            variations.add(normalized);
        } else {
            variations.add(normalized);
            variations.add(`/${normalized}`);
        }
        // Also add without query params
        const withoutQuery = normalized.split('?')[0];
        if (withoutQuery !== normalized) {
            variations.add(withoutQuery);
            if (withoutQuery.startsWith('/')) {
                variations.add(withoutQuery.substring(1));
            } else {
                variations.add(`/${withoutQuery}`);
            }
        }
    }
    return Array.from(variations);
}
function cleanImageUrls(urls) {
    if (!Array.isArray(urls)) return [];
    const seen = new Set();
    const cleaned = [];
    for (const url of urls){
        const processed = processImageUrl(url);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        if (seen.has(normalized)) continue;
        seen.add(normalized);
        cleaned.push(processed);
    }
    return cleaned;
}
function separateMainAndVariantImages(mainImages, variantImages) {
    // Process and normalize all variant images
    const variantUrlSet = new Set();
    const variantVariationsMap = new Map();
    for (const variantImg of variantImages){
        const processed = processImageUrl(variantImg);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        variantUrlSet.add(normalized);
        // Store all variations for this URL
        const variations = getUrlVariations(processed);
        variations.forEach((v)=>variantVariationsMap.set(v, variations));
    }
    // Process main images and filter out those that match variants
    const mainProcessed = [];
    const seenMain = new Set();
    for (const mainImg of mainImages){
        const processed = processImageUrl(mainImg);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        // Check if this main image matches any variant image
        const isVariantImage = variantUrlSet.has(normalized) || variantVariationsMap.has(normalized) || Array.from(variantVariationsMap.values()).some((variations)=>variations.some((v)=>{
                const mainVariations = getUrlVariations(processed);
                return mainVariations.includes(v);
            }));
        if (isVariantImage) {
            continue; // Skip - this is a variant image
        }
        // Check for duplicates in main images
        if (seenMain.has(normalized)) {
            continue;
        }
        seenMain.add(normalized);
        mainProcessed.push(processed);
    }
    // Process variant images (already validated above)
    const variantProcessed = [];
    const seenVariant = new Set();
    for (const variantImg of variantImages){
        const processed = processImageUrl(variantImg);
        if (!processed) continue;
        const normalized = normalizeUrlForComparison(processed);
        if (seenVariant.has(normalized)) continue;
        seenVariant.add(normalized);
        variantProcessed.push(processed);
    }
    return {
        main: mainProcessed,
        variants: variantProcessed
    };
}
async function processImageFile(file, options) {
    try {
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["logger"].debug('Starting image processing', {
            fileName: file.name,
            originalSize: `${Math.round(file.size / 1024)}KB`,
            type: file.type
        });
        const { maxSizeMB = 2, maxWidthOrHeight = 1920, useWebWorker = true, fileType = 'image/jpeg', initialQuality = 0.8 } = options || {};
        // Process image with compression and EXIF orientation correction
        // browser-image-compression automatically handles EXIF orientation
        const compressedFile = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$browser$2d$image$2d$compression$2f$dist$2f$browser$2d$image$2d$compression$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])(file, {
            maxSizeMB,
            maxWidthOrHeight,
            useWebWorker,
            fileType,
            initialQuality
        });
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["logger"].info('Image processed successfully', {
            originalSize: `${Math.round(file.size / 1024)}KB`,
            compressedSize: `${Math.round(compressedFile.size / 1024)}KB`,
            reduction: `${Math.round((1 - compressedFile.size / file.size) * 100)}%`
        });
        // Convert to base64
        return new Promise((resolve, reject)=>{
            const reader = new FileReader();
            reader.onload = ()=>{
                const result = reader.result;
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["logger"].debug('Image converted to base64', {
                    length: result.length
                });
                resolve(result);
            };
            reader.onerror = (error)=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["logger"].error('Error converting to base64', {
                    error
                });
                reject(new Error('Failed to convert image to base64'));
            };
            reader.readAsDataURL(compressedFile);
        });
    } catch (error) {
        const errorMessage = error instanceof Error ? error.message : 'Failed to process image';
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$logger$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["logger"].error('Error processing image', {
            error
        });
        throw new Error(errorMessage);
    }
}
}),
"[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BasicInformation",
    ()=>BasicInformation
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
function BasicInformation({ productType, setProductType, title, slug, descriptionHtml, onTitleChange, onSlugChange, onDescriptionChange }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.basicInformation')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                lineNumber: 32,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-4",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: [
                                    t('admin.products.add.productType'),
                                    " *"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 36,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-xs text-gray-500 mb-3",
                                children: t('admin.products.add.productTypeDescription')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 39,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                name: "productType",
                                                value: "simple",
                                                checked: productType === 'simple',
                                                onChange: (e)=>setProductType(e.target.value),
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 44,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.productTypeSimple')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 52,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                        lineNumber: 43,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                        className: "flex items-center gap-2 cursor-pointer",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                name: "productType",
                                                value: "variable",
                                                checked: productType === 'variable',
                                                onChange: (e)=>setProductType(e.target.value),
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 55,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.productTypeVariable')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                                lineNumber: 63,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                        lineNumber: 54,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 42,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-1",
                                children: [
                                    t('admin.products.add.title'),
                                    " *"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 69,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                type: "text",
                                value: title,
                                onChange: onTitleChange,
                                required: true,
                                placeholder: t('admin.products.add.productTitlePlaceholder')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 72,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 68,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-1",
                                children: [
                                    t('admin.products.add.slug'),
                                    " *"
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 82,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                type: "text",
                                value: slug,
                                onChange: onSlugChange,
                                required: true,
                                placeholder: t('admin.products.add.productSlugPlaceholder')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 85,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 81,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-1",
                                children: t('admin.products.add.description')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 95,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("textarea", {
                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                rows: 6,
                                value: descriptionHtml,
                                onChange: onDescriptionChange,
                                placeholder: t('admin.products.add.productDescriptionPlaceholder')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                                lineNumber: 98,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                        lineNumber: 94,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx",
        lineNumber: 31,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/ProductImages.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ProductImages",
    ()=>ProductImages
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
'use client';
;
;
function ProductImages({ imageUrls, featuredImageIndex, imageUploadLoading, imageUploadError, fileInputRef, onUploadImages, onRemoveImage, onSetFeaturedImage }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.mainProductImage')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                lineNumber: 31,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                            className: "block text-sm font-medium text-gray-700 mb-2",
                            children: [
                                t('admin.products.add.productImages'),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-xs text-gray-500 ml-2",
                                    children: [
                                        "(",
                                        t('admin.products.add.uploadMultipleImages'),
                                        ")"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 36,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 34,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mb-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    type: "button",
                                    onClick: ()=>fileInputRef.current?.click(),
                                    disabled: imageUploadLoading,
                                    className: "px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                            className: "w-5 h-5",
                                            fill: "none",
                                            stroke: "currentColor",
                                            viewBox: "0 0 24 24",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                strokeLinecap: "round",
                                                strokeLinejoin: "round",
                                                strokeWidth: 2,
                                                d: "M12 4v16m8-8H4"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 48,
                                                columnNumber: 17
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                            lineNumber: 47,
                                            columnNumber: 15
                                        }, this),
                                        imageUploadLoading ? t('admin.products.add.uploading') : t('admin.products.add.uploadImages')
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 41,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    ref: fileInputRef,
                                    type: "file",
                                    accept: "image/*",
                                    multiple: true,
                                    onChange: onUploadImages,
                                    className: "hidden"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 52,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 40,
                            columnNumber: 11
                        }, this),
                        imageUrls.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",
                            children: imageUrls.map((imageUrl, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative group",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: `relative border-2 rounded-md overflow-hidden ${featuredImageIndex === index ? 'border-blue-500 ring-2 ring-blue-300' : 'border-gray-300'}`,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                src: imageUrl,
                                                alt: `Product image ${index + 1}`,
                                                className: "w-full h-48 object-cover"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 72,
                                                columnNumber: 21
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute top-2 left-2",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                    className: "flex items-center gap-2 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-md cursor-pointer hover:bg-white transition-colors",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                            type: "checkbox",
                                                            checked: featuredImageIndex === index,
                                                            onChange: ()=>onSetFeaturedImage(index),
                                                            className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                            lineNumber: 81,
                                                            columnNumber: 25
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-xs font-medium text-gray-700",
                                                            children: featuredImageIndex === index ? t('admin.products.add.main') : t('admin.products.add.setAsMain')
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                            lineNumber: 87,
                                                            columnNumber: 25
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                    lineNumber: 80,
                                                    columnNumber: 23
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 79,
                                                columnNumber: 21
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: ()=>onRemoveImage(index),
                                                className: "absolute top-2 right-2 bg-red-500 text-white rounded-full p-1.5 hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",
                                                title: t('admin.products.add.removeImage'),
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                    className: "w-4 h-4",
                                                    fill: "none",
                                                    stroke: "currentColor",
                                                    viewBox: "0 0 24 24",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                        strokeLinecap: "round",
                                                        strokeLinejoin: "round",
                                                        strokeWidth: 2,
                                                        d: "M6 18L18 6M6 6l12 12"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                        lineNumber: 101,
                                                        columnNumber: 25
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                    lineNumber: 100,
                                                    columnNumber: 23
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 94,
                                                columnNumber: 21
                                            }, this),
                                            featuredImageIndex === index && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute bottom-2 left-2 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium",
                                                children: t('admin.products.add.main')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                                lineNumber: 107,
                                                columnNumber: 23
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                        lineNumber: 67,
                                        columnNumber: 19
                                    }, this)
                                }, index, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                                    lineNumber: 66,
                                    columnNumber: 17
                                }, this))
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 64,
                            columnNumber: 13
                        }, this),
                        imageUploadError && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mt-2 text-sm text-red-600",
                            children: imageUploadError
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                            lineNumber: 118,
                            columnNumber: 13
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                    lineNumber: 33,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
                lineNumber: 32,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/ProductImages.tsx",
        lineNumber: 30,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CategoriesBrands",
    ()=>CategoriesBrands
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
function CategoriesBrands({ categories, brands, categoryIds, brandIds, categoriesExpanded, brandsExpanded, useNewCategory, useNewBrand, newCategoryName, newBrandName, onCategoriesExpandedChange, onBrandsExpandedChange, onUseNewCategoryChange, onUseNewBrandChange, onNewCategoryNameChange, onNewBrandNameChange, onCategoryIdsChange, onBrandIdsChange, onPrimaryCategoryIdChange, isClothingCategory, onVariantsUpdate }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    // Build category tree structure
    const buildCategoryTree = ()=>{
        const categoryMap = new Map();
        const rootCategories = [];
        // First pass: create map and identify root categories
        categories.forEach((category)=>{
            categoryMap.set(category.id, {
                ...category,
                children: []
            });
        });
        // Second pass: build tree structure
        categories.forEach((category)=>{
            if (category.parentId && categoryMap.has(category.parentId)) {
                const parent = categoryMap.get(category.parentId);
                const child = categoryMap.get(category.id);
                parent.children.push(child);
            } else {
                rootCategories.push(categoryMap.get(category.id));
            }
        });
        // Flatten tree for display (parent first, then children)
        const flattenTree = (nodes, result = [])=>{
            nodes.forEach((node)=>{
                result.push({
                    ...node,
                    isSubcategory: false
                });
                if (node.children && node.children.length > 0) {
                    node.children.forEach((child)=>{
                        result.push({
                            ...child,
                            isSubcategory: true
                        });
                    });
                }
            });
            return result;
        };
        return flattenTree(rootCategories);
    };
    const displayCategories = buildCategoryTree();
    const handleCategoryChange = (categoryId, checked)=>{
        const newCategoryIds = checked ? [
            ...categoryIds,
            categoryId
        ] : categoryIds.filter((id)=>id !== categoryId);
        // Set primary category if it's the first one
        const newPrimaryCategoryId = newCategoryIds.length > 0 ? newCategoryIds[0] : '';
        const selectedCategory = categories.find((cat)=>cat.id === categoryId);
        const newIsSizeRequired = selectedCategory?.requiresSizes ?? false;
        onCategoryIdsChange(newCategoryIds);
        onPrimaryCategoryIdChange(newPrimaryCategoryId);
        // If size requirement changed and variants need to be cleared
        if (onVariantsUpdate) {
            const wasSizeRequired = isClothingCategory();
            if (wasSizeRequired && !newIsSizeRequired && newCategoryIds.length === 0) {
                onVariantsUpdate((prev)=>prev.map((v)=>({
                            ...v,
                            sizes: [],
                            sizeStocks: {},
                            size: ''
                        })));
            }
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.categoriesAndBrands')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                lineNumber: 130,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: [
                                    t('admin.products.add.categories'),
                                    " ",
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-500 font-normal",
                                        children: t('admin.products.add.selectMultiple')
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 135,
                                        columnNumber: 50
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 134,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "select-category",
                                                name: "category-mode",
                                                checked: !useNewCategory,
                                                onChange: ()=>{
                                                    onUseNewCategoryChange(false);
                                                    onNewCategoryNameChange('');
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 139,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "select-category",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.selectExistingCategories')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 150,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 138,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "new-category",
                                                name: "category-mode",
                                                checked: useNewCategory,
                                                onChange: ()=>{
                                                    onUseNewCategoryChange(true);
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 155,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "new-category",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.addNewCategory')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 165,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 154,
                                        columnNumber: 13
                                    }, this),
                                    !useNewCategory ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "relative",
                                        "data-category-dropdown": true,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: ()=>onCategoriesExpandedChange(!categoriesExpanded),
                                                className: "w-full px-3 py-2 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm flex items-center justify-between",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-gray-700",
                                                        children: categoryIds.length === 0 ? t('admin.products.add.selectCategories') : categoryIds.length === 1 ? t('admin.products.add.categorySelected').replace('{count}', categoryIds.length.toString()) : t('admin.products.add.categoriesSelected').replace('{count}', categoryIds.length.toString())
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 176,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                        className: `w-4 h-4 text-gray-500 transition-transform duration-200 ${categoriesExpanded ? 'transform rotate-180' : ''}`,
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M19 9l-7 7-7-7"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                            lineNumber: 191,
                                                            columnNumber: 21
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 183,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 171,
                                                columnNumber: 17
                                            }, this),
                                            categoriesExpanded && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "p-2",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "space-y-1",
                                                        children: displayCategories.map((category)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                className: `flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded ${category.isSubcategory ? 'pl-6' : ''}`,
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "checkbox",
                                                                        checked: categoryIds.includes(category.id),
                                                                        onChange: (e)=>handleCategoryChange(category.id, e.target.checked),
                                                                        className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 205,
                                                                        columnNumber: 29
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: `text-gray-700 ${category.isSubcategory ? 'text-xs' : 'text-sm font-semibold'}`,
                                                                        children: category.title
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 211,
                                                                        columnNumber: 29
                                                                    }, this)
                                                                ]
                                                            }, category.id, true, {
                                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                lineNumber: 199,
                                                                columnNumber: 27
                                                            }, this))
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 197,
                                                        columnNumber: 23
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                    lineNumber: 196,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 195,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 170,
                                        columnNumber: 15
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-3",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                            type: "text",
                                            value: newCategoryName,
                                            onChange: (e)=>onNewCategoryNameChange(e.target.value),
                                            placeholder: t('admin.products.add.enterNewCategoryName'),
                                            className: "w-full"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                            lineNumber: 227,
                                            columnNumber: 17
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 226,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 137,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                        lineNumber: 133,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: [
                                    t('admin.products.add.brands'),
                                    " ",
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-500 font-normal",
                                        children: t('admin.products.add.selectMultiple')
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 242,
                                        columnNumber: 46
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 241,
                                columnNumber: 11
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "select-brand",
                                                name: "brand-mode",
                                                checked: !useNewBrand,
                                                onChange: ()=>{
                                                    onUseNewBrandChange(false);
                                                    onNewBrandNameChange('');
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 246,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "select-brand",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.selectExistingBrands')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 257,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 245,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2 mb-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                type: "radio",
                                                id: "new-brand",
                                                name: "brand-mode",
                                                checked: useNewBrand,
                                                onChange: ()=>{
                                                    onUseNewBrandChange(true);
                                                },
                                                className: "w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 262,
                                                columnNumber: 15
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "new-brand",
                                                className: "text-sm text-gray-700",
                                                children: t('admin.products.add.addNewBrand')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 272,
                                                columnNumber: 15
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 261,
                                        columnNumber: 13
                                    }, this),
                                    !useNewBrand ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "relative",
                                        "data-brand-dropdown": true,
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                type: "button",
                                                onClick: ()=>onBrandsExpandedChange(!brandsExpanded),
                                                className: "w-full px-3 py-2 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm flex items-center justify-between",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        className: "text-gray-700",
                                                        children: brandIds.length === 0 ? t('admin.products.add.selectBrands') : brandIds.length === 1 ? t('admin.products.add.brandSelected').replace('{count}', brandIds.length.toString()) : t('admin.products.add.brandsSelected').replace('{count}', brandIds.length.toString())
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 283,
                                                        columnNumber: 19
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                        className: `w-4 h-4 text-gray-500 transition-transform duration-200 ${brandsExpanded ? 'transform rotate-180' : ''}`,
                                                        fill: "none",
                                                        stroke: "currentColor",
                                                        viewBox: "0 0 24 24",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                            strokeLinecap: "round",
                                                            strokeLinejoin: "round",
                                                            strokeWidth: 2,
                                                            d: "M19 9l-7 7-7-7"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                            lineNumber: 298,
                                                            columnNumber: 21
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 290,
                                                        columnNumber: 19
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 278,
                                                columnNumber: 17
                                            }, this),
                                            brandsExpanded && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "p-2",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "space-y-1",
                                                        children: brands.map((brand)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                                className: "flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-2 rounded",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                        type: "checkbox",
                                                                        checked: brandIds.includes(brand.id),
                                                                        onChange: (e)=>{
                                                                            const newBrandIds = e.target.checked ? [
                                                                                ...brandIds,
                                                                                brand.id
                                                                            ] : brandIds.filter((id)=>id !== brand.id);
                                                                            onBrandIdsChange(newBrandIds);
                                                                        },
                                                                        className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 310,
                                                                        columnNumber: 29
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: "text-sm text-gray-700",
                                                                        children: brand.name
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                        lineNumber: 321,
                                                                        columnNumber: 29
                                                                    }, this)
                                                                ]
                                                            }, brand.id, true, {
                                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                                lineNumber: 306,
                                                                columnNumber: 27
                                                            }, this))
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                        lineNumber: 304,
                                                        columnNumber: 23
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                    lineNumber: 303,
                                                    columnNumber: 21
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                                lineNumber: 302,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 277,
                                        columnNumber: 15
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                        type: "text",
                                        value: newBrandName,
                                        onChange: (e)=>onNewBrandNameChange(e.target.value),
                                        placeholder: t('admin.products.add.enterNewBrandName'),
                                        className: "w-full"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                        lineNumber: 330,
                                        columnNumber: 15
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                                lineNumber: 244,
                                columnNumber: 11
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                        lineNumber: 240,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
                lineNumber: 131,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx",
        lineNumber: 129,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "SimpleProductFields",
    ()=>SimpleProductFields
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
function SimpleProductFields({ price, compareAtPrice, sku, quantity, defaultCurrency, onPriceChange, onCompareAtPriceChange, onSkuChange, onQuantityChange }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.productVariants')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                lineNumber: 34,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-white border border-gray-200 rounded-lg p-6 space-y-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: [
                                        t('admin.products.add.price'),
                                        " *"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 39,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                            type: "number",
                                            value: price,
                                            onChange: (e)=>onPriceChange(e.target.value),
                                            placeholder: t('admin.products.add.pricePlaceholder'),
                                            className: "flex-1",
                                            min: "0",
                                            step: "0.01",
                                            required: true
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 43,
                                            columnNumber: 15
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-sm text-gray-500 whitespace-nowrap",
                                            children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 53,
                                            columnNumber: 15
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 42,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 38,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: t('admin.products.add.compareAtPrice')
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 59,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                            type: "number",
                                            value: compareAtPrice,
                                            onChange: (e)=>onCompareAtPriceChange(e.target.value),
                                            placeholder: t('admin.products.add.pricePlaceholder'),
                                            className: "flex-1",
                                            min: "0",
                                            step: "0.01"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 63,
                                            columnNumber: 15
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-sm text-gray-500 whitespace-nowrap",
                                            children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                            lineNumber: 72,
                                            columnNumber: 15
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 62,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 58,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: [
                                        t('admin.products.add.sku'),
                                        " *"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 78,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                    type: "text",
                                    value: sku,
                                    onChange: (e)=>onSkuChange(e.target.value),
                                    placeholder: t('admin.products.add.autoGenerated'),
                                    className: "w-full",
                                    required: true
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 81,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 77,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: "block text-sm font-medium text-gray-700 mb-1",
                                    children: [
                                        t('admin.products.add.quantity'),
                                        " *"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 93,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                    type: "number",
                                    value: quantity,
                                    onChange: (e)=>onQuantityChange(e.target.value),
                                    placeholder: t('admin.products.add.quantityPlaceholder'),
                                    className: "w-full",
                                    min: "0",
                                    required: true
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                                    lineNumber: 96,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                            lineNumber: 92,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                    lineNumber: 36,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
                lineNumber: 35,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx",
        lineNumber: 33,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/lib/colorMap.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

// Shared color map for common color names used in filters and admin UI
// This helps render consistent color circles/palette based on color labels.
__turbopack_context__.s([
    "COLOR_MAP",
    ()=>COLOR_MAP,
    "getColorHex",
    ()=>getColorHex
]);
const COLOR_MAP = {
    beige: '#F5F5DC',
    black: '#000000',
    blue: '#0000FF',
    brown: '#A52A2A',
    gray: '#808080',
    grey: '#808080',
    green: '#008000',
    red: '#FF0000',
    white: '#FFFFFF',
    yellow: '#FFFF00',
    orange: '#FFA500',
    pink: '#FFC0CB',
    purple: '#800080',
    navy: '#000080',
    maroon: '#800000',
    teal: '#008080',
    cyan: '#00FFFF',
    magenta: '#FF00FF',
    lime: '#00FF00',
    olive: '#808000',
    silver: '#C0C0C0',
    gold: '#FFD700',
    tan: '#D2B48C',
    khaki: '#F0E68C',
    coral: '#FF7F50',
    salmon: '#FA8072',
    turquoise: '#40E0D0',
    violet: '#EE82EE',
    indigo: '#4B0082',
    crimson: '#DC143C',
    lavender: '#E6E6FA',
    peach: '#FFE5B4',
    mint: '#98FB98',
    ivory: '#FFFFF0',
    cream: '#FFFDD0'
};
function getColorHex(colorName) {
    const normalized = colorName.toLowerCase().trim();
    return COLOR_MAP[normalized] || '#CCCCCC';
}
;
}),
"[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AttributesSelection",
    ()=>AttributesSelection
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/colorMap.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
function AttributesSelection({ attributes, selectedAttributesForVariants, selectedAttributeValueIds, attributesDropdownOpen, attributesDropdownRef, onAttributesDropdownToggle, onAttributeToggle, onAttributeRemove }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.selectAttributesForVariants')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                lineNumber: 33,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-white border border-gray-200 rounded-lg p-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                        className: "block text-sm font-medium text-gray-700 mb-3",
                        children: [
                            t('admin.products.add.attributes'),
                            " ",
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "text-gray-500 font-normal",
                                children: t('admin.products.add.selectMultiple')
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                lineNumber: 36,
                                columnNumber: 48
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                        lineNumber: 35,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative",
                        ref: attributesDropdownRef,
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                type: "button",
                                onClick: onAttributesDropdownToggle,
                                className: "w-full px-3 py-2 text-left border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm flex items-center justify-between",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-gray-700",
                                        children: selectedAttributesForVariants.size === 0 ? t('admin.products.add.selectAttributes') : selectedAttributesForVariants.size === 1 ? t('admin.products.add.attributeSelected').replace('{count}', '1') : t('admin.products.add.attributesSelected').replace('{count}', selectedAttributesForVariants.size.toString())
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                        lineNumber: 44,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                        className: `w-4 h-4 text-gray-500 transition-transform duration-200 ${attributesDropdownOpen ? 'transform rotate-180' : ''}`,
                                        fill: "none",
                                        stroke: "currentColor",
                                        viewBox: "0 0 24 24",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                            strokeLinecap: "round",
                                            strokeLinejoin: "round",
                                            strokeWidth: 2,
                                            d: "M19 9l-7 7-7-7"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 59,
                                            columnNumber: 15
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                        lineNumber: 51,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                lineNumber: 39,
                                columnNumber: 11
                            }, this),
                            attributesDropdownOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-96 overflow-y-auto",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "p-4",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "mb-3 pb-3 border-b border-gray-200",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                                    className: "text-sm font-semibold text-gray-900",
                                                    children: t('admin.products.add.selectAttributes')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 66,
                                                    columnNumber: 19
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                    className: "text-xs text-gray-500 mt-1",
                                                    children: t('admin.products.add.selectAttributesDescription')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 69,
                                                    columnNumber: 19
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 65,
                                            columnNumber: 17
                                        }, this),
                                        attributes.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-sm text-gray-500 text-center py-4",
                                            children: t('admin.products.add.noAttributesAvailable')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 74,
                                            columnNumber: 19
                                        }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",
                                            children: attributes.map((attribute)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                    className: `flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-3 rounded-lg border transition-colors ${selectedAttributesForVariants.has(attribute.id) ? 'bg-blue-50 border-blue-300' : 'border-gray-200 bg-white'}`,
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                            type: "checkbox",
                                                            checked: selectedAttributesForVariants.has(attribute.id),
                                                            onChange: (e)=>onAttributeToggle(attribute.id, e.target.checked),
                                                            className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                            lineNumber: 88,
                                                            columnNumber: 25
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-sm font-medium text-gray-900",
                                                            children: attribute.name
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                            lineNumber: 94,
                                                            columnNumber: 25
                                                        }, this)
                                                    ]
                                                }, attribute.id, true, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 80,
                                                    columnNumber: 23
                                                }, this))
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 78,
                                            columnNumber: 19
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                    lineNumber: 64,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                lineNumber: 63,
                                columnNumber: 13
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                        lineNumber: 38,
                        columnNumber: 9
                    }, this),
                    selectedAttributesForVariants.size > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mt-4 pt-4 border-t border-gray-200",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex flex-wrap gap-2",
                            children: Array.from(selectedAttributesForVariants).map((attributeId)=>{
                                const attribute = attributes.find((a)=>a.id === attributeId);
                                if (!attribute) return null;
                                // Get selected values for this attribute to show preview
                                const selectedValueIds = selectedAttributeValueIds[attributeId] || [];
                                const selectedValues = selectedValueIds.map((id)=>attribute.values.find((v)=>v.id === id)).filter((v)=>v !== null);
                                // Get first selected value's image if available
                                const previewImage = selectedValues.find((v)=>v.imageUrl)?.imageUrl;
                                const isColor = attribute.key === 'color';
                                const previewColor = isColor && selectedValues.length > 0 ? selectedValues[0].colors?.[0] || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getColorHex"])(selectedValues[0].label) : null;
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg text-sm font-medium border border-blue-200",
                                    children: [
                                        previewImage ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                            src: previewImage,
                                            alt: attribute.name,
                                            className: "w-4 h-4 object-cover rounded border border-gray-300"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 129,
                                            columnNumber: 23
                                        }, this) : previewColor ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "inline-block w-4 h-4 rounded-full border border-gray-300",
                                            style: {
                                                backgroundColor: previewColor
                                            }
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 135,
                                            columnNumber: 23
                                        }, this) : null,
                                        attribute.name,
                                        selectedValues.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-xs text-blue-600",
                                            children: [
                                                "(",
                                                selectedValues.length,
                                                ")"
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 142,
                                            columnNumber: 23
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            type: "button",
                                            onClick: ()=>onAttributeRemove(attributeId),
                                            className: "ml-1 text-blue-600 hover:text-blue-800 focus:outline-none",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                className: "w-4 h-4",
                                                fill: "none",
                                                stroke: "currentColor",
                                                viewBox: "0 0 24 24",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                    strokeLinecap: "round",
                                                    strokeLinejoin: "round",
                                                    strokeWidth: 2,
                                                    d: "M6 18L18 6M6 6l12 12"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                    lineNumber: 152,
                                                    columnNumber: 25
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                                lineNumber: 151,
                                                columnNumber: 23
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                            lineNumber: 146,
                                            columnNumber: 21
                                        }, this)
                                    ]
                                }, attributeId, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                                    lineNumber: 124,
                                    columnNumber: 19
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                            lineNumber: 105,
                            columnNumber: 13
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                        lineNumber: 104,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
                lineNumber: 34,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx",
        lineNumber: 32,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "VariantBuilder",
    ()=>VariantBuilder
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/colorMap.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
function VariantBuilder({ generatedVariants, attributes, selectedAttributesForVariants, isEditMode, hasVariantsToLoad, defaultCurrency, imageUploadLoading, slug, title, variantImageInputRefs, onVariantUpdate, onVariantDelete, onVariantAdd, onApplyToAll, onVariantImageUpload, onOpenValueModal, generateSlug }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    // Get attributes to show in table header
    const getAttributesToShow = (variant)=>{
        if (selectedAttributesForVariants.size > 0) {
            return Array.from(selectedAttributesForVariants);
        }
        if (isEditMode && variant) {
            // Extract unique attribute IDs from this variant's values
            const attrIds = new Set();
            variant.selectedValueIds.forEach((valueId)=>{
                const attr = attributes.find((a)=>a.values.some((v)=>v.id === valueId));
                if (attr) attrIds.add(attr.id);
            });
            return Array.from(attrIds);
        }
        return [];
    };
    const attributesToShow = generatedVariants.length > 0 ? getAttributesToShow(generatedVariants[0]) : [];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                className: "text-xl font-semibold text-gray-900 mb-4",
                children: t('admin.products.add.variantBuilder')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                lineNumber: 72,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-white border border-gray-200 rounded-lg p-6 space-y-6",
                children: generatedVariants.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex items-center justify-between mb-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                    className: "text-lg font-semibold text-gray-900",
                                    children: [
                                        t('admin.products.add.generatedVariants'),
                                        " (",
                                        generatedVariants.length.toString(),
                                        ")"
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 78,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex gap-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                            type: "button",
                                            variant: "outline",
                                            size: "sm",
                                            onClick: ()=>{
                                                const price = prompt(t('admin.products.add.enterDefaultPrice'));
                                                if (price !== null) {
                                                    onApplyToAll('price', price);
                                                }
                                            },
                                            children: t('admin.products.add.applyPriceToAll')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 82,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                            type: "button",
                                            variant: "outline",
                                            size: "sm",
                                            onClick: ()=>{
                                                const stock = prompt(t('admin.products.add.enterDefaultStock'));
                                                if (stock !== null) {
                                                    onApplyToAll('stock', stock);
                                                }
                                            },
                                            children: t('admin.products.add.applyStockToAll')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 95,
                                            columnNumber: 17
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                            type: "button",
                                            variant: "outline",
                                            size: "sm",
                                            onClick: ()=>{
                                                const skuPrefix = prompt(t('admin.products.add.enterSkuPrefix'));
                                                if (skuPrefix !== null) {
                                                    const baseSlug = skuPrefix || slug || generateSlug(title) || 'PROD';
                                                    onVariantUpdate((prev)=>prev.map((variant)=>{
                                                            const valueParts = [];
                                                            Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                                                const attribute = attributes.find((a)=>a.id === attributeId);
                                                                if (!attribute) return;
                                                                const selectedIds = variant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                                                selectedIds.forEach((valueId)=>{
                                                                    const value = attribute.values.find((v)=>v.id === valueId);
                                                                    if (value) {
                                                                        valueParts.push(value.value.toUpperCase().replace(/\s+/g, '-'));
                                                                    }
                                                                });
                                                            });
                                                            const sku = valueParts.length > 0 ? `${baseSlug.toUpperCase()}-${valueParts.join('-')}` : `${baseSlug.toUpperCase()}`;
                                                            return {
                                                                ...variant,
                                                                sku
                                                            };
                                                        }));
                                                }
                                            },
                                            children: t('admin.products.add.applySkuToAll')
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 108,
                                            columnNumber: 17
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 81,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                            lineNumber: 77,
                            columnNumber: 13
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "border border-gray-300 rounded-lg",
                            style: {
                                overflowX: 'hidden',
                                overflowY: 'hidden'
                            },
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("table", {
                                className: "w-full divide-y divide-gray-200 bg-white",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("thead", {
                                        className: "bg-gray-50",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("tr", {
                                            children: [
                                                attributesToShow.map((attributeId)=>{
                                                    const attribute = attributes.find((a)=>a.id === attributeId);
                                                    return attribute ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                        className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                        children: attribute.name
                                                    }, attributeId, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 158,
                                                        columnNumber: 25
                                                    }, this) : null;
                                                }),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.price')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 166,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.compareAtPrice')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 169,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.stock')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 172,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.sku')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 175,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",
                                                    children: t('admin.products.add.image')
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 178,
                                                    columnNumber: 21
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("th", {
                                                    className: "px-2 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-20",
                                                    children: t('admin.products.add.actions') || 'Actions'
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                    lineNumber: 181,
                                                    columnNumber: 21
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                            lineNumber: 154,
                                            columnNumber: 19
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                        lineNumber: 153,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("tbody", {
                                        className: "bg-white divide-y divide-gray-200",
                                        children: generatedVariants.map((variant)=>{
                                            const variantAttributesToShow = getAttributesToShow(variant);
                                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("tr", {
                                                className: "hover:bg-gray-50",
                                                children: [
                                                    variantAttributesToShow.map((attributeId)=>{
                                                        const attribute = attributes.find((a)=>a.id === attributeId);
                                                        if (!attribute) return null;
                                                        const isColor = attribute.key === 'color';
                                                        const selectedValueIds = variant.selectedValueIds.filter((id)=>{
                                                            return attribute.values.some((v)=>v.id === id);
                                                        });
                                                        const selectedValues = selectedValueIds.map((valueId)=>{
                                                            const value = attribute.values.find((v)=>v.id === valueId);
                                                            return value ? {
                                                                id: value.id,
                                                                label: value.label,
                                                                value: value.value,
                                                                colorHex: isColor ? value.colors?.[0] || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getColorHex"])(value.label) : null,
                                                                imageUrl: value.imageUrl || null
                                                            } : null;
                                                        }).filter((v)=>v !== null);
                                                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                            className: "px-2 py-2 whitespace-nowrap",
                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "relative",
                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                    type: "button",
                                                                    onClick: ()=>{
                                                                        onOpenValueModal({
                                                                            variantId: variant.id,
                                                                            attributeId
                                                                        });
                                                                    },
                                                                    className: "w-full text-left flex items-center gap-1 p-1.5 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                            className: "flex-1 flex flex-wrap items-center gap-1 min-w-0",
                                                                            children: selectedValues.length > 0 ? selectedValues.map((val)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                    className: "inline-flex items-center gap-0.5 px-1.5 py-0.5 bg-blue-50 text-blue-700 rounded text-xs",
                                                                                    children: [
                                                                                        val.imageUrl ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                                                            src: val.imageUrl,
                                                                                            alt: val.label,
                                                                                            className: "w-3 h-3 object-cover rounded border border-gray-300"
                                                                                        }, void 0, false, {
                                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                            lineNumber: 233,
                                                                                            columnNumber: 45
                                                                                        }, this) : isColor && val.colorHex ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                            className: "inline-block w-3 h-3 rounded-full border border-gray-300",
                                                                                            style: {
                                                                                                backgroundColor: val.colorHex
                                                                                            }
                                                                                        }, void 0, false, {
                                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                            lineNumber: 239,
                                                                                            columnNumber: 45
                                                                                        }, this) : null,
                                                                                        val.label
                                                                                    ]
                                                                                }, val.id, true, {
                                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                    lineNumber: 228,
                                                                                    columnNumber: 41
                                                                                }, this)) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                                className: "text-xs text-gray-500",
                                                                                children: t('admin.products.add.valuesPlaceholder')
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 248,
                                                                                columnNumber: 39
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 225,
                                                                            columnNumber: 35
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                            className: "w-3 h-3 text-gray-400 transition-transform flex-shrink-0",
                                                                            fill: "none",
                                                                            stroke: "currentColor",
                                                                            viewBox: "0 0 24 24",
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                strokeLinecap: "round",
                                                                                strokeLinejoin: "round",
                                                                                strokeWidth: 2,
                                                                                d: "M19 9l-7 7-7-7"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 257,
                                                                                columnNumber: 37
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 251,
                                                                            columnNumber: 35
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 218,
                                                                    columnNumber: 33
                                                                }, this)
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                lineNumber: 217,
                                                                columnNumber: 31
                                                            }, this)
                                                        }, attributeId, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 216,
                                                            columnNumber: 29
                                                        }, this);
                                                    }),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center gap-1",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                                    type: "number",
                                                                    value: variant.price,
                                                                    onChange: (e)=>{
                                                                        onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                                    ...v,
                                                                                    price: e.target.value
                                                                                } : v));
                                                                    },
                                                                    placeholder: t('admin.products.add.pricePlaceholder'),
                                                                    className: "w-20 text-xs",
                                                                    min: "0",
                                                                    step: "0.01"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 266,
                                                                    columnNumber: 29
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: "text-xs text-gray-500",
                                                                    children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 279,
                                                                    columnNumber: 29
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 265,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 264,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center gap-1",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                                    type: "number",
                                                                    value: variant.compareAtPrice,
                                                                    onChange: (e)=>{
                                                                        onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                                    ...v,
                                                                                    compareAtPrice: e.target.value
                                                                                } : v));
                                                                    },
                                                                    placeholder: t('admin.products.add.pricePlaceholder'),
                                                                    className: "w-20 text-xs",
                                                                    min: "0",
                                                                    step: "0.01"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 284,
                                                                    columnNumber: 29
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: "text-xs text-gray-500",
                                                                    children: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"][defaultCurrency].symbol
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 297,
                                                                    columnNumber: 29
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 283,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 282,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                            type: "number",
                                                            value: variant.stock,
                                                            onChange: (e)=>{
                                                                onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                            ...v,
                                                                            stock: e.target.value
                                                                        } : v));
                                                            },
                                                            placeholder: t('admin.products.add.quantityPlaceholder'),
                                                            className: "w-16 text-xs",
                                                            min: "0"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 301,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 300,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                            type: "text",
                                                            value: variant.sku,
                                                            onChange: (e)=>{
                                                                onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                            ...v,
                                                                            sku: e.target.value
                                                                        } : v));
                                                            },
                                                            placeholder: t('admin.products.add.autoGenerated'),
                                                            className: "w-24 text-xs"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 315,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 314,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                variant.image ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "relative inline-block",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                                                            src: variant.image,
                                                                            alt: "Variant image",
                                                                            className: "w-12 h-12 object-cover border border-gray-300 rounded-md"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 331,
                                                                            columnNumber: 33
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                            type: "button",
                                                                            onClick: ()=>{
                                                                                onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                                                                                            ...v,
                                                                                            image: null
                                                                                        } : v));
                                                                                if (variantImageInputRefs.current?.[variant.id]) {
                                                                                    variantImageInputRefs.current[variant.id].value = '';
                                                                                }
                                                                            },
                                                                            className: "absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-0.5 hover:bg-red-600 transition-colors",
                                                                            title: t('admin.products.add.removeImage'),
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                                className: "w-2.5 h-2.5",
                                                                                fill: "none",
                                                                                stroke: "currentColor",
                                                                                viewBox: "0 0 24 24",
                                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                    strokeLinecap: "round",
                                                                                    strokeLinejoin: "round",
                                                                                    strokeWidth: 2,
                                                                                    d: "M6 18L18 6M6 6l12 12"
                                                                                }, void 0, false, {
                                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                    lineNumber: 350,
                                                                                    columnNumber: 37
                                                                                }, this)
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 349,
                                                                                columnNumber: 35
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 336,
                                                                            columnNumber: 33
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 330,
                                                                    columnNumber: 31
                                                                }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                    type: "button",
                                                                    onClick: ()=>variantImageInputRefs.current?.[variant.id]?.click(),
                                                                    disabled: imageUploadLoading,
                                                                    className: "px-2 py-1 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                            className: "w-3 h-3",
                                                                            fill: "none",
                                                                            stroke: "currentColor",
                                                                            viewBox: "0 0 24 24",
                                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                                strokeLinecap: "round",
                                                                                strokeLinejoin: "round",
                                                                                strokeWidth: 2,
                                                                                d: "M12 4v16m8-8H4"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                                lineNumber: 362,
                                                                                columnNumber: 35
                                                                            }, this)
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 361,
                                                                            columnNumber: 33
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                            className: "hidden sm:inline",
                                                                            children: imageUploadLoading ? t('admin.products.add.uploading') : t('admin.products.add.uploadImage')
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 364,
                                                                            columnNumber: 33
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                            className: "sm:hidden",
                                                                            children: "+"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                            lineNumber: 367,
                                                                            columnNumber: 33
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 355,
                                                                    columnNumber: 31
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                                                    ref: (el)=>{
                                                                        if (variantImageInputRefs.current) {
                                                                            variantImageInputRefs.current[variant.id] = el;
                                                                        }
                                                                    },
                                                                    type: "file",
                                                                    accept: "image/*",
                                                                    onChange: (e)=>onVariantImageUpload(variant.id, e),
                                                                    className: "hidden"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 370,
                                                                    columnNumber: 29
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 328,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 327,
                                                        columnNumber: 25
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("td", {
                                                        className: "px-2 py-2 whitespace-nowrap",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                            type: "button",
                                                            onClick: ()=>onVariantDelete(variant.id),
                                                            className: "px-2 py-1 text-xs font-medium text-red-700 bg-red-50 border border-red-300 rounded-md hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors flex items-center gap-1",
                                                            title: t('admin.products.add.deleteVariant') || 'Delete variant',
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                                                    className: "w-3 h-3",
                                                                    fill: "none",
                                                                    stroke: "currentColor",
                                                                    viewBox: "0 0 24 24",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                                                        strokeLinecap: "round",
                                                                        strokeLinejoin: "round",
                                                                        strokeWidth: 2,
                                                                        d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                        lineNumber: 391,
                                                                        columnNumber: 31
                                                                    }, this)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                                    lineNumber: 390,
                                                                    columnNumber: 29
                                                                }, this),
                                                                t('admin.products.add.delete') || 'Delete'
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                            lineNumber: 384,
                                                            columnNumber: 27
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                        lineNumber: 383,
                                                        columnNumber: 25
                                                    }, this)
                                                ]
                                            }, variant.id, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                                lineNumber: 191,
                                                columnNumber: 23
                                            }, this);
                                        })
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                        lineNumber: 186,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                lineNumber: 152,
                                columnNumber: 15
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                            lineNumber: 151,
                            columnNumber: 13
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "mt-4 flex justify-end gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                    type: "button",
                                    variant: "outline",
                                    onClick: onVariantAdd,
                                    children: t('admin.products.add.addVariant') || 'Add'
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 409,
                                    columnNumber: 15
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                    type: "button",
                                    onClick: ()=>{
                                        console.log(' [VARIANT BUILDER] Variants ready for submission:', generatedVariants);
                                    },
                                    children: t('admin.products.add.variantsReady') || 'Variants Ready'
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                                    lineNumber: 412,
                                    columnNumber: 15
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                            lineNumber: 408,
                            columnNumber: 13
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                    lineNumber: 76,
                    columnNumber: 11
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
                lineNumber: 73,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx",
        lineNumber: 71,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ProductLabels",
    ()=>ProductLabels
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Input.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
function ProductLabels({ labels, onAddLabel, onRemoveLabel, onUpdateLabel }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between mb-4",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                        className: "text-xl font-semibold text-gray-900",
                        children: t('admin.products.add.productLabels')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 20,
                        columnNumber: 9
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                        type: "button",
                        variant: "outline",
                        onClick: onAddLabel,
                        children: t('admin.products.add.addLabel')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 21,
                        columnNumber: 9
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                lineNumber: 19,
                columnNumber: 7
            }, this),
            labels.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center py-4 border-2 border-dashed border-gray-300 rounded-lg",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-gray-500 mb-2",
                        children: t('admin.products.add.noLabelsAdded')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 27,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-sm text-gray-400",
                        children: t('admin.products.add.addLabelsHint')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 28,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                lineNumber: 26,
                columnNumber: 9
            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "space-y-4",
                children: labels.map((label, index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border border-gray-200 rounded-lg p-4 bg-gray-50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center justify-between mb-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                        className: "text-lg font-medium text-gray-900",
                                        children: t('admin.products.add.label').replace('{index}', (index + 1).toString())
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 35,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                                        type: "button",
                                        variant: "ghost",
                                        onClick: ()=>onRemoveLabel(index),
                                        className: "text-red-600 hover:text-red-700",
                                        children: t('admin.products.add.remove')
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 38,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                lineNumber: 34,
                                columnNumber: 15
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: [
                                                    t('admin.products.add.type'),
                                                    " *"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 45,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                value: label.type,
                                                onChange: (e)=>onUpdateLabel(index, 'type', e.target.value),
                                                required: true,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "text",
                                                        children: t('admin.products.add.textType')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 54,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "percentage",
                                                        children: t('admin.products.add.percentageType')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 55,
                                                        columnNumber: 21
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 48,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 44,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: [
                                                    t('admin.products.add.value'),
                                                    " *"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 61,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                type: "text",
                                                value: label.value,
                                                onChange: (e)=>onUpdateLabel(index, 'value', e.target.value),
                                                placeholder: label.type === 'percentage' ? t('admin.products.add.percentagePlaceholder') : t('admin.products.add.newProductLabel'),
                                                required: true,
                                                className: "w-full"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 64,
                                                columnNumber: 19
                                            }, this),
                                            label.type === 'percentage' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "mt-1 text-xs text-blue-600 font-medium",
                                                children: t('admin.products.add.percentageAutoUpdateHint')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 75,
                                                columnNumber: 21
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 60,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: [
                                                    t('admin.products.add.position'),
                                                    " *"
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 81,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("select", {
                                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",
                                                value: label.position,
                                                onChange: (e)=>onUpdateLabel(index, 'position', e.target.value),
                                                required: true,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "top-left",
                                                        children: t('admin.products.add.topLeft')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 90,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "top-right",
                                                        children: t('admin.products.add.topRight')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 91,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "bottom-left",
                                                        children: t('admin.products.add.bottomLeft')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 92,
                                                        columnNumber: 21
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("option", {
                                                        value: "bottom-right",
                                                        children: t('admin.products.add.bottomRight')
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                        lineNumber: 93,
                                                        columnNumber: 21
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 84,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 80,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "block text-sm font-medium text-gray-700 mb-1",
                                                children: t('admin.products.add.colorOptional')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 99,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Input$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Input"], {
                                                type: "text",
                                                value: label.color || '',
                                                onChange: (e)=>onUpdateLabel(index, 'color', e.target.value || null),
                                                placeholder: t('admin.products.add.colorHexPlaceholder'),
                                                className: "w-full"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 102,
                                                columnNumber: 19
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "mt-1 text-xs text-gray-500",
                                                children: t('admin.products.add.hexColorHint')
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                                lineNumber: 109,
                                                columnNumber: 19
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                        lineNumber: 98,
                                        columnNumber: 17
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                                lineNumber: 42,
                                columnNumber: 15
                            }, this)
                        ]
                    }, index, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                        lineNumber: 33,
                        columnNumber: 13
                    }, this))
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
                lineNumber: 31,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx",
        lineNumber: 18,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ValueSelectionModal",
    ()=>ValueSelectionModal
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/colorMap.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
function ValueSelectionModal({ openValueModal, variant, attribute, onClose, onVariantUpdate, onAttributeValueIdsUpdate, selectedAttributeValueIds }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    if (!openValueModal || !variant || !attribute) return null;
    const isColor = attribute.key === 'color';
    const selectedValueIds = variant.selectedValueIds.filter((id)=>{
        return attribute.values.some((v)=>v.id === id);
    });
    const handleSelectAll = (checked)=>{
        const isAutoVariant = variant.id === 'variant-all';
        if (checked) {
            // Select all values
            const allValueIds = attribute.values.map((v)=>v.id);
            // Add to variant's selectedValueIds (merge with existing)
            const currentIds = variant.selectedValueIds;
            const newIds = [
                ...new Set([
                    ...currentIds,
                    ...allValueIds
                ])
            ];
            // Update variant - merge with existing selectedValueIds
            onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                        ...v,
                        selectedValueIds: newIds
                    } : v));
            // Only update selectedAttributeValueIds for auto-generated variant
            if (isAutoVariant) {
                onAttributeValueIdsUpdate((prev)=>({
                        ...prev,
                        [openValueModal.attributeId]: allValueIds
                    }));
            }
        } else {
            // Deselect all values for this attribute
            const valueIdsToRemove = attribute.values.map((v)=>v.id);
            const newIds = variant.selectedValueIds.filter((id)=>!valueIdsToRemove.includes(id));
            onVariantUpdate((prev)=>prev.map((v)=>v.id === variant.id ? {
                        ...v,
                        selectedValueIds: newIds
                    } : v));
            // Only update selectedAttributeValueIds for auto-generated variant
            if (isAutoVariant) {
                onAttributeValueIdsUpdate((prev)=>({
                        ...prev,
                        [openValueModal.attributeId]: []
                    }));
            }
        }
    };
    const handleValueToggle = (valueId, checked)=>{
        const isAutoVariant = variant.id === 'variant-all';
        const currentIds = variant.selectedValueIds;
        let newIds;
        if (checked) {
            // Add value if not already selected
            newIds = [
                ...currentIds,
                valueId
            ];
        } else {
            // Remove value
            newIds = currentIds.filter((id)=>id !== valueId);
        }
        // Update variant first (to preserve dropdown state)
        onVariantUpdate((prev)=>{
            const updated = prev.map((v)=>v.id === variant.id ? {
                    ...v,
                    selectedValueIds: newIds
                } : v);
            console.log(' [VARIANT BUILDER] Value selection updated:', {
                variantId: variant.id,
                isAutoVariant,
                valueId,
                action: checked ? 'added' : 'removed',
                newSelectedIds: newIds.length,
                totalVariants: updated.length
            });
            return updated;
        });
        // Only update selectedAttributeValueIds for auto-generated variant
        if (isAutoVariant) {
            const currentAttrIds = selectedAttributeValueIds[openValueModal.attributeId] || [];
            let newAttrIds;
            if (checked) {
                newAttrIds = [
                    ...currentAttrIds,
                    valueId
                ];
            } else {
                newAttrIds = currentAttrIds.filter((id)=>id !== valueId);
            }
            onAttributeValueIdsUpdate((prev)=>({
                    ...prev,
                    [openValueModal.attributeId]: newAttrIds
                }));
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",
        onClick: onClose,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",
            onClick: (e)=>e.stopPropagation(),
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-between p-6 border-b border-gray-200 sticky top-0 bg-white z-10",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                            className: "text-xl font-semibold text-gray-900",
                            children: [
                                t('admin.products.add.selectValues'),
                                " ",
                                attribute.name
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 128,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: onClose,
                            className: "text-gray-400 hover:text-gray-600 transition-colors",
                            "aria-label": "Close",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                                className: "w-6 h-6",
                                fill: "none",
                                stroke: "currentColor",
                                viewBox: "0 0 24 24",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                    strokeLinecap: "round",
                                    strokeLinejoin: "round",
                                    strokeWidth: 2,
                                    d: "M6 18L18 6M6 6l12 12"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 137,
                                    columnNumber: 15
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                lineNumber: 136,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 131,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                    lineNumber: 127,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "p-6",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                            className: "flex items-center gap-2 p-2 rounded-lg cursor-pointer hover:bg-gray-50 mb-3 border border-gray-200",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                    type: "checkbox",
                                    checked: attribute.values.length > 0 && selectedValueIds.length === attribute.values.length,
                                    onChange: (e)=>handleSelectAll(e.target.checked),
                                    className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 146,
                                    columnNumber: 13
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-sm font-medium text-gray-900",
                                    children: "All"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 152,
                                    columnNumber: 13
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 145,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "border-t border-gray-200 my-3"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 155,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2",
                            children: attribute.values.map((value)=>{
                                const isSelected = variant.selectedValueIds.includes(value.id);
                                const valueColorHex = isColor && value.colors && value.colors.length > 0 ? value.colors[0] : isColor ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$colorMap$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getColorHex"])(value.label) : null;
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                    className: `flex flex-col items-center gap-1.5 p-2 rounded-lg cursor-pointer transition-all border-2 ${isSelected ? 'bg-blue-50 border-blue-600' : 'bg-gray-50 border-transparent hover:bg-gray-100 hover:border-gray-300'}`,
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                                            type: "checkbox",
                                            checked: isSelected,
                                            onChange: (e)=>handleValueToggle(value.id, e.target.checked),
                                            className: "w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 177,
                                            columnNumber: 19
                                        }, this),
                                        value.imageUrl ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                                            src: value.imageUrl,
                                            alt: value.label,
                                            className: "w-8 h-8 object-cover rounded border border-gray-300 flex-shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 185,
                                            columnNumber: 21
                                        }, this) : isColor && valueColorHex ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "inline-block w-6 h-6 rounded-full border-2 border-gray-300 shadow-sm flex-shrink-0",
                                            style: {
                                                backgroundColor: valueColorHex
                                            }
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 191,
                                            columnNumber: 21
                                        }, this) : null,
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "text-xs font-medium text-gray-900 text-center",
                                            children: value.label
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                            lineNumber: 196,
                                            columnNumber: 19
                                        }, this)
                                    ]
                                }, value.id, true, {
                                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                                    lineNumber: 169,
                                    columnNumber: 17
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                            lineNumber: 158,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                    lineNumber: 143,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center justify-end gap-3 p-6 border-t border-gray-200 sticky bottom-0 bg-white",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                        type: "button",
                        variant: "outline",
                        onClick: onClose,
                        children: t('admin.common.close')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                        lineNumber: 205,
                        columnNumber: 11
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
                    lineNumber: 204,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
            lineNumber: 122,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx",
        lineNumber: 118,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/Publishing.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "Publishing",
    ()=>Publishing
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
'use client';
;
;
function Publishing({ featured, onFeaturedChange }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "space-y-2",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "flex items-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("input", {
                        type: "checkbox",
                        checked: featured,
                        onChange: (e)=>onFeaturedChange(e.target.checked),
                        className: "mr-2"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                        lineNumber: 17,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "text-sm font-medium text-gray-700 flex items-center gap-1",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                "aria-hidden": "true",
                                children: ""
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                                lineNumber: 24,
                                columnNumber: 13
                            }, this),
                            t('admin.products.add.markAsFeatured')
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                        lineNumber: 23,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
                lineNumber: 16,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
            lineNumber: 15,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/components/Publishing.tsx",
        lineNumber: 14,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/FormActions.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "FormActions",
    ()=>FormActions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Button.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
'use client';
;
;
;
;
function FormActions({ loading, isEditMode }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "sticky bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg -mx-6 -mb-6 px-6 py-4 mt-8 backdrop-blur-sm bg-white/95",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex flex-col sm:flex-row gap-3 sm:gap-4 max-w-full",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                    type: "submit",
                    variant: "primary",
                    disabled: loading,
                    className: "flex-1 w-full sm:w-auto order-2 sm:order-1",
                    children: loading ? isEditMode ? t('admin.products.add.updating') : t('admin.products.add.creating') : isEditMode ? t('admin.products.add.updateProduct') : t('admin.products.add.createProduct')
                }, void 0, false, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
                    lineNumber: 19,
                    columnNumber: 9
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Button$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Button"], {
                    type: "button",
                    variant: "outline",
                    onClick: ()=>router.push('/admin/products'),
                    className: "w-full sm:w-auto order-1 sm:order-2",
                    children: t('admin.common.cancel')
                }, void 0, false, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
                    lineNumber: 33,
                    columnNumber: 9
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
            lineNumber: 18,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/components/FormActions.tsx",
        lineNumber: 17,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/components/PageHeader.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PageHeader",
    ()=>PageHeader
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
function PageHeader({ isEditMode }) {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "mb-8",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-between mb-4",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    onClick: ()=>router.push('/admin'),
                    className: "text-gray-600 hover:text-gray-900 flex items-center",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("svg", {
                            className: "w-5 h-5 mr-2",
                            fill: "none",
                            stroke: "currentColor",
                            viewBox: "0 0 24 24",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("path", {
                                strokeLinecap: "round",
                                strokeLinejoin: "round",
                                strokeWidth: 2,
                                d: "M15 19l-7-7 7-7"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                                lineNumber: 22,
                                columnNumber: 13
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                            lineNumber: 21,
                            columnNumber: 11
                        }, this),
                        t('admin.products.add.backToAdmin')
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                    lineNumber: 17,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                lineNumber: 16,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                className: "text-3xl font-bold text-gray-900",
                children: isEditMode ? t('admin.products.add.editProduct') : t('admin.products.add.addNewProduct')
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
                lineNumber: 27,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/components/PageHeader.tsx",
        lineNumber: 15,
        columnNumber: 5
    }, this);
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useLabelManagement.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useLabelManagement",
    ()=>useLabelManagement
]);
'use client';
function useLabelManagement(labels, setLabels) {
    const addLabel = ()=>{
        const newLabel = {
            type: 'text',
            value: '',
            position: 'top-left',
            color: null
        };
        setLabels((prev)=>[
                ...prev,
                newLabel
            ]);
    };
    const removeLabel = (index)=>{
        setLabels((prev)=>prev.filter((_, i)=>i !== index));
    };
    const updateLabel = (index, field, value)=>{
        setLabels((prev)=>{
            const newLabels = [
                ...prev
            ];
            newLabels[index] = {
                ...newLabels[index],
                [field]: value
            };
            return newLabels;
        });
    };
    return {
        addLabel,
        removeLabel,
        updateLabel
    };
}
}),
"[project]/apps/web/app/admin/products/add/hooks/useImageHandling.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useImageHandling",
    ()=>useImageHandling
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/utils/image-utils.ts [app-ssr] (ecmascript)");
'use client';
;
function useImageHandling({ imageUrls, featuredImageIndex, variants, generatedVariants, colorImageTarget, setImageUrls, setFeaturedImageIndex, setMainProductImage, setVariants, setGeneratedVariants, setImageUploadLoading, setImageUploadError, setColorImageTarget, t }) {
    const addImageUrl = ()=>{
        setImageUrls((prev)=>[
                ...prev,
                ''
            ]);
    };
    const removeImageUrl = (index)=>{
        setImageUrls((prev)=>{
            const newUrls = prev.filter((_, i)=>i !== index);
            let newFeaturedIndex = featuredImageIndex;
            if (index === featuredImageIndex) {
                newFeaturedIndex = 0;
            } else if (index < featuredImageIndex) {
                newFeaturedIndex = Math.max(0, featuredImageIndex - 1);
            }
            const finalFeaturedIndex = newUrls.length === 0 ? 0 : Math.min(newFeaturedIndex, newUrls.length - 1);
            const mainImage = newUrls.length > 0 && newUrls[finalFeaturedIndex] ? newUrls[finalFeaturedIndex] : '';
            setFeaturedImageIndex(finalFeaturedIndex);
            setMainProductImage(mainImage);
            return newUrls;
        });
    };
    const updateImageUrl = (index, url)=>{
        setImageUrls((prev)=>{
            const newUrls = [
                ...prev
            ];
            newUrls[index] = url;
            return newUrls;
        });
    };
    const setFeaturedImage = (index)=>{
        if (index < 0 || index >= imageUrls.length) {
            return;
        }
        const mainImage = imageUrls[index] || '';
        setFeaturedImageIndex(index);
        setMainProductImage(mainImage);
    };
    const addColorImages = (variantId, colorValue, images)=>{
        console.log(' [ADMIN] Adding images to color:', {
            variantId,
            colorValue,
            imagesCount: images.length
        });
        setVariants((prev)=>prev.map((v)=>{
                if (v.id === variantId) {
                    const updatedColors = v.colors.map((c)=>{
                        if (c.colorValue === colorValue) {
                            const uniqueNewImages = images.filter((newImg)=>!c.images.includes(newImg));
                            const newImages = [
                                ...c.images,
                                ...uniqueNewImages
                            ];
                            return {
                                ...c,
                                images: newImages
                            };
                        }
                        return c;
                    });
                    return {
                        ...v,
                        colors: updatedColors
                    };
                }
                return v;
            }));
    };
    const handleUploadImages = async (event)=>{
        const files = Array.from(event.target.files || []);
        if (files.length === 0) {
            return;
        }
        console.log(' [UPLOAD] Starting upload of', files.length, 'image(s)');
        setImageUploadLoading(true);
        setImageUploadError(null);
        try {
            const uploadedImages = [];
            const errors = [];
            const filePromises = files.map(async (file, index)=>{
                try {
                    if (!file.type.startsWith('image/')) {
                        const errorMsg = `"${file.name}" is not an image file`;
                        console.warn(` [UPLOAD] Skipping non-image file ${index + 1}/${files.length}:`, file.name);
                        return {
                            success: false,
                            error: errorMsg,
                            index
                        };
                    }
                    console.log(` [UPLOAD] Processing file ${index + 1}/${files.length}:`, file.name, `(${Math.round(file.size / 1024)}KB)`);
                    const base64 = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["processImageFile"])(file, {
                        maxSizeMB: 2,
                        maxWidthOrHeight: 1920,
                        useWebWorker: true,
                        fileType: 'image/jpeg',
                        initialQuality: 0.8
                    });
                    if (base64 && base64.trim()) {
                        console.log(` [UPLOAD] Successfully processed file ${index + 1}/${files.length}:`, file.name);
                        return {
                            success: true,
                            base64,
                            index
                        };
                    } else {
                        const errorMsg = `Failed to convert "${file.name}" to base64`;
                        console.error(` [UPLOAD] Empty base64 result for file ${index + 1}/${files.length}:`, file.name);
                        return {
                            success: false,
                            error: errorMsg,
                            index
                        };
                    }
                } catch (error) {
                    const errorMsg = `Error processing "${file.name}": ${error?.message || 'Unknown error'}`;
                    console.error(` [UPLOAD] Error processing file ${index + 1}/${files.length}:`, file.name, error);
                    return {
                        success: false,
                        error: errorMsg,
                        index
                    };
                }
            });
            const results = await Promise.allSettled(filePromises);
            results.forEach((result)=>{
                if (result.status === 'fulfilled') {
                    const fileResult = result.value;
                    if (fileResult.success && fileResult.base64) {
                        uploadedImages.push(fileResult.base64);
                    } else if (!fileResult.success && fileResult.error) {
                        errors.push(fileResult.error);
                    }
                } else {
                    const errorMsg = `Failed to process file: ${result.reason?.message || 'Unknown error'}`;
                    errors.push(errorMsg);
                    console.error(` [UPLOAD] Promise rejected:`, result.reason);
                }
            });
            console.log(' [UPLOAD] Upload complete. Processed:', uploadedImages.length, 'of', files.length, 'files');
            if (errors.length > 0) {
                console.warn(' [UPLOAD] Errors during upload:', errors);
                setImageUploadError(errors.join('; '));
            }
            if (uploadedImages.length === 0) {
                setImageUploadError(t('admin.products.add.failedToProcessImages') || 'Failed to process images');
                return;
            }
            setImageUrls((prev)=>{
                const newImageUrls = [
                    ...prev,
                    ...uploadedImages
                ];
                const newFeaturedIdx = prev.length === 0 ? 0 : featuredImageIndex;
                if (prev.length === 0 && newImageUrls.length > 0) {
                    setFeaturedImageIndex(0);
                    setMainProductImage(newImageUrls[0]);
                }
                return newImageUrls;
            });
        } catch (error) {
            console.error(' [UPLOAD] Fatal error during upload:', error);
            setImageUploadError(error?.message || t('admin.products.add.failedToProcessImages'));
        } finally{
            setImageUploadLoading(false);
            if (event.target) {
                event.target.value = '';
            }
        }
    };
    const handleUploadVariantImage = async (variantId, event)=>{
        const files = Array.from(event.target.files || []);
        if (files.length === 0) {
            return;
        }
        const file = files[0];
        if (!file.type.startsWith('image/')) {
            setImageUploadError(`"${file.name}" is not an image file`);
            if (event.target) {
                event.target.value = '';
            }
            return;
        }
        setImageUploadLoading(true);
        setImageUploadError(null);
        try {
            console.log(' [VARIANT IMAGE] Processing variant image:', {
                variantId,
                fileName: file.name,
                originalSize: `${Math.round(file.size / 1024)}KB`
            });
            const base64 = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["processImageFile"])(file, {
                maxSizeMB: 2,
                maxWidthOrHeight: 1920,
                useWebWorker: true,
                fileType: 'image/jpeg',
                initialQuality: 0.8
            });
            setGeneratedVariants((prev)=>prev.map((v)=>v.id === variantId ? {
                        ...v,
                        image: base64
                    } : v));
            console.log(' [VARIANT BUILDER] Variant image uploaded and processed for variant:', variantId);
        } catch (error) {
            console.error(' [VARIANT IMAGE] Error processing variant image:', error);
            setImageUploadError(error?.message || t('admin.products.add.failedToProcessImage'));
        } finally{
            setImageUploadLoading(false);
            if (event.target) {
                event.target.value = '';
            }
        }
    };
    const handleUploadColorImages = async (event)=>{
        const files = Array.from(event.target.files || []);
        if (!files.length || !colorImageTarget) {
            console.log(' [ADMIN] No files or no color target:', {
                filesLength: files.length,
                colorImageTarget
            });
            if (event.target) {
                event.target.value = '';
            }
            return;
        }
        const imageFiles = files.filter((file)=>file.type.startsWith('image/'));
        if (imageFiles.length === 0) {
            if (event.target) {
                event.target.value = '';
            }
            return;
        }
        try {
            setImageUploadLoading(true);
            console.log(' [ADMIN] Starting upload for color:', colorImageTarget.colorValue, 'Files:', imageFiles.length);
            const uploadedImages = await Promise.all(imageFiles.map(async (file, index)=>{
                console.log(` [COLOR IMAGE] Processing image ${index + 1}/${imageFiles.length}:`, {
                    fileName: file.name,
                    originalSize: `${Math.round(file.size / 1024)}KB`
                });
                const base64 = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["processImageFile"])(file, {
                    maxSizeMB: 2,
                    maxWidthOrHeight: 1920,
                    useWebWorker: true,
                    fileType: 'image/jpeg',
                    initialQuality: 0.8
                });
                console.log(` [COLOR IMAGE] Image ${index + 1}/${imageFiles.length} processed, base64 length:`, base64.length);
                return base64;
            }));
            console.log(' [ADMIN] All images processed, adding to variant:', {
                variantId: colorImageTarget.variantId,
                colorValue: colorImageTarget.colorValue,
                imagesCount: uploadedImages.length
            });
            addColorImages(colorImageTarget.variantId, colorImageTarget.colorValue, uploadedImages);
            console.log(' [ADMIN] Color images added to state:', uploadedImages.length);
        } catch (error) {
            console.error(' [ADMIN] Error uploading color images:', error);
            setImageUploadError(error?.message || t('admin.products.add.failedToProcessImages'));
        } finally{
            setImageUploadLoading(false);
            if (event.target) {
                event.target.value = '';
            }
            setColorImageTarget(null);
        }
    };
    return {
        addImageUrl,
        removeImageUrl,
        updateImageUrl,
        setFeaturedImage,
        handleUploadImages,
        handleUploadVariantImage,
        handleUploadColorImages,
        addColorImages
    };
}
}),
"[project]/apps/web/app/admin/products/add/utils/productUtils.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Utility functions for product management
 */ __turbopack_context__.s([
    "generateAttributeCombinations",
    ()=>generateAttributeCombinations,
    "generateSlug",
    ()=>generateSlug,
    "isClothingCategory",
    ()=>isClothingCategory
]);
const generateSlug = (title)=>{
    return title.toLowerCase().trim().replace(/[^\w\s-|]/g, '') // Allow pipe character (|) in slug
    .replace(/[\s_-]+/g, '-').replace(/^-+|-+$/g, '');
};
const generateAttributeCombinations = (attributeValueGroups)=>{
    if (attributeValueGroups.length === 0) {
        return [
            []
        ];
    }
    if (attributeValueGroups.length === 1) {
        return attributeValueGroups[0].map((value)=>[
                value
            ]);
    }
    const [firstGroup, ...restGroups] = attributeValueGroups;
    const restCombinations = generateAttributeCombinations(restGroups);
    const result = [];
    for (const value of firstGroup){
        for (const combination of restCombinations){
            result.push([
                value,
                ...combination
            ]);
        }
    }
    return result;
};
const isClothingCategory = (primaryCategoryId, categories)=>{
    if (!primaryCategoryId) {
        return false;
    }
    const selectedCategory = categories.find((cat)=>cat.id === primaryCategoryId);
    if (!selectedCategory) {
        return false;
    }
    return selectedCategory.requiresSizes === true;
};
}),
"[project]/apps/web/app/admin/products/add/hooks/useVariantGeneration.ts [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useVariantGeneration",
    ()=>useVariantGeneration
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/utils/productUtils.ts [app-ssr] (ecmascript)");
'use client';
;
;
function useVariantGeneration({ selectedAttributesForVariants, selectedAttributeValueIds, attributes, generatedVariants, formDataSlug, formDataTitle, isEditMode, productId, setGeneratedVariants }) {
    const generateVariantsFromAttributes = ()=>{
        console.log(' [VARIANT BUILDER] Generating single variant with all attributes...');
        const selectedAttrs = Array.from(selectedAttributesForVariants);
        if (selectedAttrs.length === 0) {
            console.log(' [VARIANT BUILDER] No attributes selected');
            setGeneratedVariants([]);
            return;
        }
        setGeneratedVariants((prev)=>{
            const manuallyAddedVariants = prev.filter((v)=>v.id !== 'variant-all');
            const existingAutoVariant = prev.find((v)=>v.id === 'variant-all');
            if (manuallyAddedVariants.length > 0) {
                console.log(' [VARIANT BUILDER] Manual variants exist, skipping auto-generated variant');
                return manuallyAddedVariants;
            }
            const variantId = 'variant-all';
            const allSelectedValueIds = [];
            selectedAttrs.forEach((attributeId)=>{
                const selectedIds = selectedAttributeValueIds[attributeId] || [];
                allSelectedValueIds.push(...selectedIds);
            });
            const baseSlug = formDataSlug || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["generateSlug"])(formDataTitle) || 'PROD';
            let sku = `${baseSlug}`;
            if (allSelectedValueIds.length > 0) {
                const valueParts = [];
                selectedAttrs.forEach((attributeId)=>{
                    const attribute = attributes.find((a)=>a.id === attributeId);
                    if (!attribute) return;
                    const selectedIds = selectedAttributeValueIds[attributeId] || [];
                    selectedIds.forEach((valueId)=>{
                        const value = attribute.values.find((v)=>v.id === valueId);
                        if (value) {
                            valueParts.push(value.value.toUpperCase().replace(/\s+/g, '-'));
                        }
                    });
                });
                if (valueParts.length > 0) {
                    sku = `${baseSlug}-${valueParts.join('-')}`;
                }
            }
            const autoVariant = {
                id: variantId,
                selectedValueIds: allSelectedValueIds,
                price: existingAutoVariant?.price || '',
                compareAtPrice: existingAutoVariant?.compareAtPrice || '',
                stock: existingAutoVariant?.stock || '',
                sku: existingAutoVariant?.sku || sku,
                image: existingAutoVariant?.image || null
            };
            const result = [
                autoVariant
            ];
            console.log(' [VARIANT BUILDER] Variants updated:', {
                manuallyAdded: 0,
                autoGenerated: 1,
                total: result.length
            });
            return result;
        });
        console.log(' [VARIANT BUILDER] Single variant generated with', selectedAttrs.length, 'attributes');
    };
    const applyToAllVariants = (field, value)=>{
        setGeneratedVariants((prev)=>prev.map((variant)=>({
                    ...variant,
                    [field]: value
                })));
    };
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (isEditMode && productId && window.__productVariantsToConvert) {
            return;
        }
        if (selectedAttributesForVariants.size > 0) {
            generateVariantsFromAttributes();
        } else {
            if (!isEditMode) {
                setGeneratedVariants([]);
            }
        }
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [
        selectedAttributesForVariants,
        selectedAttributeValueIds,
        attributes,
        formDataSlug,
        formDataTitle,
        isEditMode,
        productId
    ]);
    return {
        generateVariantsFromAttributes,
        applyToAllVariants
    };
}
}),
"[project]/apps/web/app/admin/products/add/page.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>AddProductPage
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$auth$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/auth/AuthContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$index$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/index.ts [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/Card.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/api-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/i18n-client.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/currency.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/lib/utils/image-utils.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$BasicInformation$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/BasicInformation.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductImages$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/ProductImages.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$CategoriesBrands$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/CategoriesBrands.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$SimpleProductFields$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/SimpleProductFields.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$AttributesSelection$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/AttributesSelection.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$VariantBuilder$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/VariantBuilder.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductLabels$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/ProductLabels.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ValueSelectionModal$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/ValueSelectionModal.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$Publishing$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/Publishing.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$FormActions$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/FormActions.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$PageHeader$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/components/PageHeader.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useLabelManagement$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useLabelManagement.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useImageHandling$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useImageHandling.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantGeneration$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/hooks/useVariantGeneration.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/app/admin/products/add/utils/productUtils.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
function AddProductPageContent() {
    const { t } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$i18n$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useTranslation"])();
    const { isLoggedIn, isAdmin, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$auth$2f$AuthContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useAuth"])();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    const searchParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSearchParams"])();
    const productId = searchParams.get('id');
    const isEditMode = !!productId;
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [loadingProduct, setLoadingProduct] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [brands, setBrands] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [categories, setCategories] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [attributes, setAttributes] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [formData, setFormData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        title: '',
        slug: '',
        descriptionHtml: '',
        brandIds: [],
        primaryCategoryId: '',
        categoryIds: [],
        published: false,
        featured: false,
        imageUrls: [],
        featuredImageIndex: 0,
        mainProductImage: '',
        variants: [],
        labels: []
    });
    const [categoriesExpanded, setCategoriesExpanded] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [brandsExpanded, setBrandsExpanded] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const fileInputRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const variantImageInputRefs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])({});
    const attributesDropdownRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRef"])(null);
    const [attributesDropdownOpen, setAttributesDropdownOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [colorImageTarget, setColorImageTarget] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [imageUploadLoading, setImageUploadLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [imageUploadError, setImageUploadError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [newBrandName, setNewBrandName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [newCategoryName, setNewCategoryName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [useNewBrand, setUseNewBrand] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [useNewCategory, setUseNewCategory] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [newColorName, setNewColorName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [newSizeName, setNewSizeName] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('');
    const [addingColor, setAddingColor] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [addingSize, setAddingSize] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [colorMessage, setColorMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [sizeMessage, setSizeMessage] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // Default currency from settings
    const [defaultCurrency, setDefaultCurrency] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('AMD');
    // Product Type: 'simple' or 'variable' (default: 'variable')
    const [productType, setProductType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])('variable');
    // Simple product fields (only used when productType === 'simple')
    const [simpleProductData, setSimpleProductData] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({
        price: '',
        compareAtPrice: '',
        sku: '',
        quantity: ''
    });
    // New Multi-Attribute Variant Builder state
    const [selectedAttributesForVariants, setSelectedAttributesForVariants] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(new Set()); // Selected attribute IDs
    const [selectedAttributeValueIds, setSelectedAttributeValueIds] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({}); // Key: attributeId, Value: array of selected value IDs
    // State for managing value selection modal
    const [openValueModal, setOpenValueModal] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [generatedVariants, setGeneratedVariants] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    // Track if we're loading variants in edit mode (to show table immediately)
    const [hasVariantsToLoad, setHasVariantsToLoad] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!isLoading) {
            if (!isLoggedIn || !isAdmin) {
                router.push('/admin');
                return;
            }
        }
    }, [
        isLoggedIn,
        isAdmin,
        isLoading,
        router
    ]);
    // Close attributes dropdown when clicking outside
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const handleClickOutside = (event)=>{
            if (attributesDropdownRef.current && !attributesDropdownRef.current.contains(event.target)) {
                setAttributesDropdownOpen(false);
            }
        };
        if (attributesDropdownOpen) {
            document.addEventListener('mousedown', handleClickOutside);
        }
        return ()=>{
            document.removeEventListener('mousedown', handleClickOutside);
        };
    }, [
        attributesDropdownOpen
    ]);
    // Load default currency from settings
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const loadDefaultCurrency = async ()=>{
            try {
                const settingsRes = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/settings');
                const currency = settingsRes.defaultCurrency || 'AMD';
                if (currency in __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CURRENCIES"]) {
                    setDefaultCurrency(currency);
                    console.log(' [ADMIN] Default currency loaded:', currency);
                }
            } catch (err) {
                console.error(' [ADMIN] Error loading default currency:', err);
                // Use AMD as default
                setDefaultCurrency('AMD');
            }
        };
        if (isLoggedIn && isAdmin) {
            loadDefaultCurrency();
        }
    }, [
        isLoggedIn,
        isAdmin
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const fetchData = async ()=>{
            try {
                console.log(' [ADMIN] Fetching brands, categories, and attributes...');
                const [brandsRes, categoriesRes, attributesRes] = await Promise.all([
                    __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/brands'),
                    __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/categories'),
                    __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get('/api/v1/admin/attributes')
                ]);
                setBrands(brandsRes.data || []);
                setCategories(categoriesRes.data || []);
                setAttributes(attributesRes.data || []);
                console.log(' [ADMIN] Data fetched:', {
                    brands: brandsRes.data?.length || 0,
                    categories: categoriesRes.data?.length || 0,
                    attributes: attributesRes.data?.length || 0
                });
                // Debug: Log attributes details
                if (attributesRes.data && attributesRes.data.length > 0) {
                    console.log(' [ADMIN] Attributes loaded:', attributesRes.data.map((attr)=>({
                            id: attr.id,
                            key: attr.key,
                            name: attr.name,
                            valuesCount: attr.values?.length || 0,
                            values: attr.values?.map((v)=>({
                                    value: v.value,
                                    label: v.label,
                                    colors: v.colors,
                                    colorsType: typeof v.colors,
                                    colorsIsArray: Array.isArray(v.colors),
                                    colorsLength: v.colors?.length,
                                    imageUrl: v.imageUrl
                                })) || []
                        })));
                    const colorAttr = attributesRes.data.find((a)=>a.key === 'color');
                    const sizeAttr = attributesRes.data.find((a)=>a.key === 'size');
                    if (!colorAttr) {
                        console.warn(' [ADMIN] Color attribute not found in loaded attributes!');
                    } else {
                        console.log(' [ADMIN] Color attribute found:', {
                            id: colorAttr.id,
                            valuesCount: colorAttr.values?.length || 0
                        });
                    }
                    if (!sizeAttr) {
                        console.warn(' [ADMIN] Size attribute not found in loaded attributes!');
                    } else {
                        console.log(' [ADMIN] Size attribute found:', {
                            id: sizeAttr.id,
                            valuesCount: sizeAttr.values?.length || 0
                        });
                    }
                } else {
                    console.warn(' [ADMIN] No attributes loaded! This may cause issues with variant builder.');
                }
                // Debug: Log categories with requiresSizes
                if (categoriesRes.data) {
                    console.log(' [ADMIN] Categories with requiresSizes:', categoriesRes.data.map((cat)=>({
                            id: cat.id,
                            title: cat.title,
                            requiresSizes: cat.requiresSizes
                        })));
                }
            } catch (err) {
                console.error(' [ADMIN] Error fetching data:', err);
            }
        };
        fetchData();
    }, []);
    // Close category dropdown when clicking outside
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const handleClickOutside = (event)=>{
            const target = event.target;
            if (categoriesExpanded && !target.closest('[data-category-dropdown]')) {
                setCategoriesExpanded(false);
            }
        };
        if (categoriesExpanded) {
            document.addEventListener('mousedown', handleClickOutside);
            return ()=>{
                document.removeEventListener('mousedown', handleClickOutside);
            };
        }
    }, [
        categoriesExpanded
    ]);
    // Close brand dropdown when clicking outside
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const handleClickOutside = (event)=>{
            const target = event.target;
            if (brandsExpanded && !target.closest('[data-brand-dropdown]')) {
                setBrandsExpanded(false);
            }
        };
        if (brandsExpanded) {
            document.addEventListener('mousedown', handleClickOutside);
            return ()=>{
                document.removeEventListener('mousedown', handleClickOutside);
            };
        }
    }, [
        brandsExpanded
    ]);
    // Load product data if in edit mode
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (productId && isLoggedIn && isAdmin) {
            const loadProduct = async ()=>{
                try {
                    setLoadingProduct(true);
                    console.log(' [ADMIN] Loading product for edit:', productId);
                    const product = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].get(`/api/v1/admin/products/${productId}`);
                    // Transform product data to form format
                    // Note: colorAttribute and sizeAttribute are available in attributes array if needed
                    // Merge all variants into a single variant with colors and their sizes
                    //        ColorData,  sizes    color-
                    const colorDataMap = new Map(); // colorValue -> ColorData
                    let firstPrice = '';
                    let firstCompareAtPrice = '';
                    let firstSku = '';
                    (product.variants || []).forEach((variant, index)=>{
                        console.log(` [ADMIN] Processing variant ${index}:`, {
                            id: variant.id,
                            sku: variant.sku,
                            price: variant.price,
                            stock: variant.stock,
                            color: variant.color,
                            size: variant.size,
                            options: variant.options,
                            imageUrl: variant.imageUrl
                        });
                        // Try to get color from variant.options
                        let color = variant.color || '';
                        let size = variant.size || '';
                        // If color is empty, try to get from options
                        if (!color && variant.options && Array.isArray(variant.options)) {
                            console.log(` [ADMIN] Searching for color in options:`, variant.options);
                            const colorOption = variant.options.find((opt)=>{
                                const matches = opt.attributeKey === 'color' || opt.key === 'color' || opt.attribute === 'color';
                                if (matches) {
                                    console.log(` [ADMIN] Found color option:`, opt);
                                }
                                return matches;
                            });
                            if (colorOption) {
                                color = colorOption.value || '';
                                console.log(` [ADMIN] Found color from options:`, color);
                            } else {
                                // Try to find by attributeValue relation
                                const colorOptionByValue = variant.options.find((opt)=>{
                                    // Check if option has attributeValue with color attribute
                                    if (opt.attributeValue) {
                                        const attrValue = opt.attributeValue;
                                        // Check if this attributeValue belongs to color attribute
                                        return attrValue.attribute?.key === 'color' || attrValue.attributeKey === 'color';
                                    }
                                    return false;
                                });
                                if (colorOptionByValue && colorOptionByValue.attributeValue) {
                                    color = colorOptionByValue.attributeValue.value || '';
                                    console.log(` [ADMIN] Found color from attributeValue:`, color);
                                }
                            }
                        }
                        // If size is empty, try to get from options
                        if (!size && variant.options && Array.isArray(variant.options)) {
                            console.log(` [ADMIN] Searching for size in options:`, variant.options);
                            const sizeOption = variant.options.find((opt)=>{
                                const matches = opt.attributeKey === 'size' || opt.key === 'size' || opt.attribute === 'size';
                                if (matches) {
                                    console.log(` [ADMIN] Found size option:`, opt);
                                }
                                return matches;
                            });
                            if (sizeOption) {
                                size = sizeOption.value || '';
                                console.log(` [ADMIN] Found size from options:`, size);
                            } else {
                                // Try to find by attributeValue relation
                                const sizeOptionByValue = variant.options.find((opt)=>{
                                    // Check if option has attributeValue with size attribute
                                    if (opt.attributeValue) {
                                        const attrValue = opt.attributeValue;
                                        // Check if this attributeValue belongs to size attribute
                                        return attrValue.attribute?.key === 'size' || attrValue.attributeKey === 'size';
                                    }
                                    return false;
                                });
                                if (sizeOptionByValue && sizeOptionByValue.attributeValue) {
                                    size = sizeOptionByValue.attributeValue.value || '';
                                    console.log(` [ADMIN] Found size from attributeValue:`, size);
                                }
                            }
                        }
                        // If still no color/size, try to extract from SKU as fallback
                        if (!color && variant.sku) {
                            const skuParts = variant.sku.split('-');
                            // Common patterns: "15-blue-17.2", "15-red-18"
                            if (skuParts.length >= 2) {
                                const possibleColor = skuParts[1]; // "blue", "red"
                                // Check if this looks like a color
                                if (possibleColor && possibleColor.length > 0 && !/^\d+$/.test(possibleColor)) {
                                    color = possibleColor;
                                    console.log(` [ADMIN] Extracted color from SKU:`, color);
                                }
                            }
                        }
                        if (!size && variant.sku) {
                            const skuParts = variant.sku.split('-');
                            // Common patterns: "15-blue-17.2", "15-red-18"
                            if (skuParts.length >= 3) {
                                const possibleSize = skuParts[2]; // "17.2", "18", "19"
                                if (possibleSize) {
                                    size = possibleSize;
                                    console.log(` [ADMIN] Extracted size from SKU:`, size);
                                }
                            }
                        }
                        console.log(` [ADMIN] Extracted from variant ${index}:`, {
                            color,
                            size
                        });
                        // Convert stock to string, handling 0 correctly
                        const stockValue = variant.stock !== undefined && variant.stock !== null ? String(variant.stock) : '';
                        // Collect colors with their images, sizes, and stocks
                        // If no color, create a default color entry for variants without colors
                        if (!color) {
                            // Create a default color entry for variants without colors
                            const defaultColor = 'default';
                            const defaultColorLabel = t('admin.products.add.defaultColor');
                            if (!colorDataMap.has(defaultColor)) {
                                // Convert prices from USD (database) to defaultCurrency (display)
                                const priceInDefaultCurrency = variant.price !== undefined && variant.price !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.price, 'USD', defaultCurrency) : 0;
                                const compareAtPriceInDefaultCurrency = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.compareAtPrice, 'USD', defaultCurrency) : 0;
                                const colorData = {
                                    colorValue: defaultColor,
                                    colorLabel: defaultColorLabel,
                                    images: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl),
                                    stock: size ? '' : stockValue,
                                    price: variant.price !== undefined && variant.price !== null ? String(priceInDefaultCurrency) : '',
                                    compareAtPrice: variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? String(compareAtPriceInDefaultCurrency) : '',
                                    sizes: [],
                                    sizeStocks: {},
                                    sizePrices: {},
                                    sizeCompareAtPrices: {},
                                    sizeLabels: {},
                                    isFeatured: !!variant.isFeatured
                                };
                                if (size) {
                                    colorData.sizes = [
                                        size
                                    ];
                                    colorData.sizeStocks = {
                                        [size]: stockValue
                                    };
                                    if (variant.price !== undefined && variant.price !== null) {
                                        colorData.sizePrices[size] = String(priceInDefaultCurrency);
                                    }
                                    if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                        colorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                    }
                                }
                                colorDataMap.set(defaultColor, colorData);
                            } else {
                                const existingColorData = colorDataMap.get(defaultColor);
                                if (variant.imageUrl) {
                                    const imageUrls = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl);
                                    imageUrls.forEach((url)=>{
                                        const exists = existingColorData.images.some((existingUrl)=>{
                                            if (url.startsWith('data:') || existingUrl.startsWith('data:')) {
                                                return url === existingUrl;
                                            }
                                            const n1 = existingUrl.startsWith('/') ? existingUrl : `/${existingUrl}`;
                                            const n2 = url.startsWith('/') ? url : `/${url}`;
                                            return n1 === n2 || existingUrl === url;
                                        });
                                        if (url && !exists) {
                                            existingColorData.images.push(url);
                                        }
                                    });
                                }
                                if (size) {
                                    if (!existingColorData.sizes.includes(size)) {
                                        existingColorData.sizes.push(size);
                                    }
                                    existingColorData.sizeStocks[size] = stockValue;
                                    if (!existingColorData.sizePrices) existingColorData.sizePrices = {};
                                    if (variant.price !== undefined && variant.price !== null) {
                                        const priceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.price, 'USD', defaultCurrency);
                                        existingColorData.sizePrices[size] = String(priceInDefaultCurrency);
                                    }
                                    if (!existingColorData.sizeCompareAtPrices) existingColorData.sizeCompareAtPrices = {};
                                    if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                        const compareAtPriceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.compareAtPrice, 'USD', defaultCurrency);
                                        existingColorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                    }
                                } else {
                                    const currentStockNum = parseInt(existingColorData.stock) || 0;
                                    const variantStockNum = parseInt(stockValue) || 0;
                                    existingColorData.stock = String(currentStockNum + variantStockNum);
                                }
                            }
                        } else if (color) {
                            if (!colorDataMap.has(color)) {
                                // Get color label from attributes or use color value
                                const colorAttribute = attributes.find((attr)=>attr.key === 'color');
                                const colorValueObj = colorAttribute?.values.find((v)=>v.value === color);
                                const colorLabel = colorValueObj?.label || color.charAt(0).toUpperCase() + color.slice(1).replace(/-/g, ' ');
                                // Initialize color data with empty sizes
                                // Convert prices from USD (database) to defaultCurrency (display)
                                const priceInDefaultCurrency = variant.price !== undefined && variant.price !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.price, 'USD', defaultCurrency) : 0;
                                const compareAtPriceInDefaultCurrency = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.compareAtPrice, 'USD', defaultCurrency) : 0;
                                const colorData = {
                                    colorValue: color,
                                    colorLabel: colorLabel,
                                    images: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl),
                                    stock: size ? '' : stockValue,
                                    price: variant.price !== undefined && variant.price !== null ? String(priceInDefaultCurrency) : '',
                                    compareAtPrice: variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? String(compareAtPriceInDefaultCurrency) : '',
                                    sizes: [],
                                    sizeStocks: {},
                                    sizePrices: {},
                                    sizeCompareAtPrices: {},
                                    sizeLabels: {},
                                    isFeatured: !!variant.isFeatured
                                };
                                // If variant has size, add it to color's sizes
                                if (size) {
                                    colorData.sizes = [
                                        size
                                    ];
                                    colorData.sizeStocks = {
                                        [size]: stockValue
                                    };
                                    // Store size-specific price (converted to defaultCurrency)
                                    if (variant.price !== undefined && variant.price !== null) {
                                        colorData.sizePrices[size] = String(priceInDefaultCurrency);
                                    }
                                    // Store size-specific compareAtPrice (converted to defaultCurrency)
                                    if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                        colorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                    }
                                    // Get size label if it's a custom size (not from attributes)
                                    if (variant.sizeLabel) {
                                        colorData.sizeLabels = {
                                            [size]: variant.sizeLabel
                                        };
                                    }
                                }
                                colorDataMap.set(color, colorData);
                            } else {
                                // If color already exists, merge data
                                const existingColorData = colorDataMap.get(color);
                                // Add images if not already present
                                if (variant.imageUrl) {
                                    const imageUrls = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["smartSplitUrls"])(variant.imageUrl);
                                    imageUrls.forEach((url)=>{
                                        // Check for existence with normalization to prevent duplicates
                                        const exists = existingColorData.images.some((existingUrl)=>{
                                            if (url.startsWith('data:') || existingUrl.startsWith('data:')) {
                                                return url === existingUrl;
                                            }
                                            const n1 = existingUrl.startsWith('/') ? existingUrl : `/${existingUrl}`;
                                            const n2 = url.startsWith('/') ? url : `/${url}`;
                                            return n1 === n2 || existingUrl === url;
                                        });
                                        if (url && !exists) {
                                            existingColorData.images.push(url);
                                        }
                                    });
                                }
                                // If variant has size, add it to color's sizes if not already present
                                if (size) {
                                    if (!existingColorData.sizes.includes(size)) {
                                        existingColorData.sizes.push(size);
                                    }
                                    // Update stock for this size
                                    existingColorData.sizeStocks[size] = stockValue;
                                    // Store size-specific price (converted to defaultCurrency)
                                    if (!existingColorData.sizePrices) existingColorData.sizePrices = {};
                                    if (variant.price !== undefined && variant.price !== null) {
                                        const priceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.price, 'USD', defaultCurrency);
                                        existingColorData.sizePrices[size] = String(priceInDefaultCurrency);
                                    }
                                    // Store size-specific compareAtPrice (converted to defaultCurrency)
                                    if (!existingColorData.sizeCompareAtPrices) existingColorData.sizeCompareAtPrices = {};
                                    if (variant.compareAtPrice !== undefined && variant.compareAtPrice !== null) {
                                        const compareAtPriceInDefaultCurrency = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.compareAtPrice, 'USD', defaultCurrency);
                                        existingColorData.sizeCompareAtPrices[size] = String(compareAtPriceInDefaultCurrency);
                                    }
                                    // Update size label if available
                                    if (variant.sizeLabel) {
                                        if (!existingColorData.sizeLabels) existingColorData.sizeLabels = {};
                                        existingColorData.sizeLabels[size] = variant.sizeLabel;
                                    }
                                } else {
                                    // If no size, update base stock (sum if multiple variants without sizes)
                                    const currentStockNum = parseInt(existingColorData.stock) || 0;
                                    const variantStockNum = parseInt(stockValue) || 0;
                                    existingColorData.stock = String(currentStockNum + variantStockNum);
                                }
                                // Update featured status if this variant is marked as featured
                                if (variant.isFeatured) {
                                    existingColorData.isFeatured = true;
                                }
                            }
                        }
                        // Use first variant's price, compareAtPrice, sku as defaults (converted to defaultCurrency)
                        if (index === 0) {
                            const firstPriceUSD = variant.price !== undefined && variant.price !== null ? variant.price : 0;
                            const firstCompareAtPriceUSD = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? variant.compareAtPrice : 0;
                            firstPrice = firstPriceUSD > 0 ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(firstPriceUSD, 'USD', defaultCurrency)) : '';
                            firstCompareAtPrice = firstCompareAtPriceUSD > 0 ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(firstCompareAtPriceUSD, 'USD', defaultCurrency)) : '';
                            firstSku = variant.sku || '';
                        }
                    });
                    // Create a single merged variant with all colors (sizes are now in each color)
                    const mergedVariant = {
                        id: `variant-${Date.now()}-${Math.random()}`,
                        price: firstPrice,
                        compareAtPrice: firstCompareAtPrice,
                        sku: firstSku,
                        colors: Array.from(colorDataMap.values())
                    };
                    // Collect all images assigned to variants to filter them out from general media
                    // IMPORTANT: Also collect variant images directly from variant.imageUrl (new format)
                    const variantImages = new Set();
                    // Collect images from mergedVariant.colors
                    mergedVariant.colors.forEach((c)=>{
                        c.images.forEach((img)=>{
                            if (img) {
                                variantImages.add(img);
                                // Also add normalized version for comparison
                                const normalized = img.startsWith('/') ? img : `/${img}`;
                                variantImages.add(normalized);
                            }
                        });
                    });
                    // Also collect images directly from variant.imageUrl (new format - for generatedVariants)
                    console.log(' [ADMIN] Collecting variant images from product.variants...');
                    (product.variants || []).forEach((variant, idx)=>{
                        if (variant.imageUrl) {
                            // For base64 images, don't split by comma (base64 strings can contain commas)
                            // Only split if it's not a base64 string
                            if (typeof variant.imageUrl === 'string' && variant.imageUrl.startsWith('data:')) {
                                // Base64 image - use full string, don't split
                                variantImages.add(variant.imageUrl);
                                console.log(`   Added variant base64 image (length: ${variant.imageUrl.length})`);
                            } else {
                                // Regular URL - can be comma-separated
                                const imageUrls = typeof variant.imageUrl === 'string' ? variant.imageUrl.split(',').map((url)=>url.trim()).filter(Boolean) : [];
                                imageUrls.forEach((url)=>{
                                    if (url) {
                                        // Regular URL - normalize
                                        variantImages.add(url);
                                        const normalizedWithSlash = url.startsWith('/') ? url : `/${url}`;
                                        const normalizedWithoutSlash = url.startsWith('/') ? url.substring(1) : url;
                                        variantImages.add(normalizedWithSlash);
                                        variantImages.add(normalizedWithoutSlash);
                                        const urlWithoutQuery = url.split('?')[0];
                                        if (urlWithoutQuery !== url) {
                                            variantImages.add(urlWithoutQuery);
                                            const normalizedWithoutQuery = urlWithoutQuery.startsWith('/') ? urlWithoutQuery : `/${urlWithoutQuery}`;
                                            variantImages.add(normalizedWithoutQuery);
                                        }
                                        console.log(`   Added variant URL: ${url.substring(0, 50)}...`);
                                    }
                                });
                            }
                        } else {
                            console.log(` [ADMIN] Variant ${idx} has no imageUrl`);
                        }
                    });
                    console.log(` [ADMIN] Total variant images collected: ${variantImages.size}`);
                    // Helper function to normalize URL for comparison
                    const normalizeUrlForComparison = (url)=>{
                        if (!url) return [];
                        // For base64 images, use the full string for comparison
                        if (url.startsWith('data:')) {
                            return [
                                url
                            ];
                        }
                        // For regular URLs, normalize them
                        const normalized = url.trim();
                        const withSlash = normalized.startsWith('/') ? normalized : `/${normalized}`;
                        const withoutSlash = normalized.startsWith('/') ? normalized.substring(1) : normalized;
                        const withoutQuery = normalized.split('?')[0];
                        const withoutQueryWithSlash = withoutQuery.startsWith('/') ? withoutQuery : `/${withoutQuery}`;
                        return [
                            normalized,
                            withSlash,
                            withoutSlash,
                            withoutQuery,
                            withoutQueryWithSlash
                        ];
                    };
                    const mediaList = product.media || [];
                    console.log(' [ADMIN] Loading main media images. Total media:', mediaList.length);
                    // Use unified utilities to properly separate and clean images
                    // In edit mode, we show main images separately from variant images
                    // product.media is already cleaned in findBySlug, but we ensure proper separation here
                    const { main } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["separateMainAndVariantImages"])(Array.isArray(mediaList) ? mediaList : [], variantImages.size > 0 ? Array.from(variantImages) : []);
                    const normalizedMedia = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$utils$2f$image$2d$utils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["cleanImageUrls"])(main);
                    console.log(` [ADMIN] Main media loaded: ${normalizedMedia.length} images (after separation from ${variantImages.size} variant images)`);
                    // Find featured image index from original mediaList (before filtering)
                    const featuredIndexFromApi = Array.isArray(mediaList) ? mediaList.findIndex((item)=>{
                        const url = typeof item === 'string' ? item : item?.url || '';
                        if (!url) return false;
                        // Check if this item is marked as featured
                        return typeof item === 'object' && item?.isFeatured === true;
                    }) : -1;
                    // Extract main product image (first image in media that's not in variants, or from mainProductImage field)
                    const mainProductImage = product.mainProductImage || (normalizedMedia.length > 0 ? normalizedMedia[0] : '');
                    // Extract brandIds - convert single brandId to array for multi-select UI
                    // Note: Database currently supports single brandId, but UI allows multi-select
                    // We use the first brand for now, but UI is ready for future multi-brand support
                    const brandIds = product.brandId ? [
                        product.brandId
                    ] : [];
                    setFormData({
                        title: product.title || '',
                        slug: product.slug || '',
                        descriptionHtml: product.descriptionHtml || '',
                        brandIds: brandIds,
                        primaryCategoryId: product.primaryCategoryId || '',
                        categoryIds: product.categoryIds || [],
                        published: product.published || false,
                        featured: product.featured || false,
                        imageUrls: normalizedMedia,
                        featuredImageIndex: featuredIndexFromApi >= 0 && featuredIndexFromApi < normalizedMedia.length ? featuredIndexFromApi : 0,
                        // Sync mainProductImage with featured image from imageUrls
                        mainProductImage: normalizedMedia.length > 0 && normalizedMedia[featuredIndexFromApi >= 0 && featuredIndexFromApi < normalizedMedia.length ? featuredIndexFromApi : 0] ? normalizedMedia[featuredIndexFromApi >= 0 && featuredIndexFromApi < normalizedMedia.length ? featuredIndexFromApi : 0] : mainProductImage || '',
                        variants: [
                            mergedVariant
                        ],
                        labels: (product.labels || []).map((label)=>({
                                id: label.id || '',
                                type: label.type || 'text',
                                value: label.value || '',
                                position: label.position || 'top-left',
                                color: label.color || null
                            }))
                    });
                    // Reset new brand/category fields when loading existing product
                    setUseNewBrand(false);
                    setUseNewCategory(false);
                    setNewBrandName('');
                    setNewCategoryName('');
                    // Store product variants temporarily to convert after attributes are loaded
                    // We'll convert them in a separate useEffect that waits for attributes
                    if (product.variants && product.variants.length > 0) {
                        // Store product data for later conversion
                        window.__productVariantsToConvert = product.variants;
                        // Set flag to show variants table immediately
                        setHasVariantsToLoad(true);
                    }
                    // Store product's attributeIds to show all attributes, not just ones used in variants
                    if (product.attributeIds && product.attributeIds.length > 0) {
                        window.__productAttributeIds = product.attributeIds;
                        console.log(' [ADMIN] Product attributeIds loaded:', product.attributeIds);
                    }
                    // Check if product has variants with attributes
                    // IMPORTANT: A product is "simple" if variants don't have attributes (color, size, etc.)
                    // Even if product has attributeIds, if variants don't use them, it's still simple
                    const variants = product.variants || [];
                    const hasVariants = variants.length > 0;
                    const hasVariantsWithAttributes = hasVariants && variants.some((variant)=>{
                        // Check if variant has attributes in JSONB column
                        if (variant.attributes && typeof variant.attributes === 'object' && Object.keys(variant.attributes).length > 0) {
                            return true;
                        }
                        // Check if variant has options
                        if (variant.options && Array.isArray(variant.options) && variant.options.length > 0) {
                            return true;
                        }
                        return false;
                    });
                    // Log for debugging
                    console.log(' [ADMIN] Product type check:', {
                        hasVariants,
                        variantsCount: variants.length,
                        hasVariantsWithAttributes,
                        firstVariant: hasVariants && variants.length > 0 ? {
                            hasAttributes: !!(variants[0] && variants[0].attributes && typeof variants[0].attributes === 'object' && Object.keys(variants[0].attributes).length > 0),
                            hasOptions: !!(variants[0].options && Array.isArray(variants[0].options) && variants[0].options.length > 0),
                            attributes: variants[0].attributes,
                            optionsCount: variants[0].options?.length || 0
                        } : null
                    });
                    // If variants don't have attributes, set to simple (even if product has attributeIds)
                    if (!hasVariantsWithAttributes) {
                        console.log(' [ADMIN] Product variants have no attributes, setting productType to "simple"');
                        setProductType('simple');
                        // Also set simple product data from first variant if available
                        if (hasVariants && variants.length > 0) {
                            const firstVariant = variants[0];
                            setSimpleProductData({
                                price: firstVariant.price ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(typeof firstVariant.price === 'number' ? firstVariant.price : parseFloat(String(firstVariant.price || '0')), 'USD', defaultCurrency)) : '',
                                compareAtPrice: firstVariant.compareAtPrice ? String((0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(typeof firstVariant.compareAtPrice === 'number' ? firstVariant.compareAtPrice : parseFloat(String(firstVariant.compareAtPrice || '0')), 'USD', defaultCurrency)) : '',
                                sku: firstVariant.sku || '',
                                quantity: String(firstVariant.stock || 0)
                            });
                        } else {
                            // No variants at all, set empty simple product data
                            setSimpleProductData({
                                price: '',
                                compareAtPrice: '',
                                sku: '',
                                quantity: '0'
                            });
                        }
                    } else {
                        // Variants have attributes, keep it as variable
                        console.log(' [ADMIN] Product variants have attributes, keeping productType as "variable"');
                        setProductType('variable');
                    }
                    console.log(' [ADMIN] Product loaded for edit');
                } catch (err) {
                    console.error(' [ADMIN] Error loading product:', err);
                    router.push('/admin/products');
                } finally{
                    setLoadingProduct(false);
                }
            };
            loadProduct();
        }
    }, [
        productId,
        isLoggedIn,
        isAdmin,
        router,
        attributes
    ]);
    // Convert product variants to generatedVariants format after attributes are loaded
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (productId && attributes.length > 0 && window.__productVariantsToConvert) {
            const productVariants = window.__productVariantsToConvert;
            console.log(' [ADMIN] Converting product variants to generatedVariants format:', {
                variantsCount: productVariants.length,
                attributesCount: attributes.length,
                firstVariant: productVariants[0]
            });
            // Collect all unique attribute IDs and value IDs from all variants
            const attributeIdsSet = new Set();
            const attributeValueIdsMap = {};
            // First pass: collect all attributes and their values from all variants
            productVariants.forEach((variant)=>{
                if (variant.options && Array.isArray(variant.options)) {
                    variant.options.forEach((opt)=>{
                        // Try to get attributeId and valueId directly or from attributeValue relation
                        let attributeId = opt.attributeId;
                        let valueId = opt.valueId;
                        // If not directly available, try to get from attributeValue relation
                        if (!attributeId && opt.attributeValue) {
                            attributeId = opt.attributeValue.attributeId || opt.attributeValue.attribute?.id;
                        }
                        if (!valueId && opt.attributeValue) {
                            valueId = opt.attributeValue.id;
                        }
                        if (attributeId && valueId) {
                            attributeIdsSet.add(attributeId);
                            if (!attributeValueIdsMap[attributeId]) {
                                attributeValueIdsMap[attributeId] = [];
                            }
                            if (!attributeValueIdsMap[attributeId].includes(valueId)) {
                                attributeValueIdsMap[attributeId].push(valueId);
                            }
                        }
                    });
                }
            });
            // Also include product's attributeIds (all attributes that the product has, not just ones used in variants)
            const productAttributeIds = window.__productAttributeIds || [];
            if (productAttributeIds.length > 0) {
                console.log(' [ADMIN] Adding product attributeIds to selected attributes:', productAttributeIds);
                productAttributeIds.forEach((attrId)=>{
                    attributeIdsSet.add(attrId);
                });
            }
            // Set selected attributes for variants (includes both variant attributes and product attributes)
            if (attributeIdsSet.size > 0) {
                console.log(' [ADMIN] Setting selectedAttributesForVariants with all attributes:', Array.from(attributeIdsSet));
                setSelectedAttributesForVariants(attributeIdsSet);
            }
            // Set selected attribute value IDs (all unique values from all variants)
            // This ensures all values are available for selection in the UI
            if (Object.keys(attributeValueIdsMap).length > 0) {
                setSelectedAttributeValueIds(attributeValueIdsMap);
            }
            const variantDataList = [];
            productVariants.forEach((variant, variantIndex)=>{
                const selectedValueIds = [];
                // First, try to get attribute values from JSONB attributes column
                if (variant.attributes && typeof variant.attributes === 'object') {
                    console.log(` [ADMIN] Variant ${variantIndex} has attributes JSONB:`, variant.attributes);
                    // Iterate through all attributes in JSONB
                    Object.keys(variant.attributes).forEach((attributeKey)=>{
                        const attribute = attributes.find((a)=>a.key === attributeKey);
                        if (!attribute) {
                            console.warn(` [ADMIN] Attribute not found for key: ${attributeKey}`);
                            return;
                        }
                        const attributeValues = variant.attributes[attributeKey];
                        if (Array.isArray(attributeValues)) {
                            attributeValues.forEach((attrValue)=>{
                                // Support both formats: {valueId, value, attributeKey} or just value string
                                const valueId = attrValue.valueId || attrValue.id;
                                const value = attrValue.value || attrValue;
                                if (valueId) {
                                    // If we have valueId, use it directly
                                    if (!selectedValueIds.includes(valueId)) {
                                        selectedValueIds.push(valueId);
                                    }
                                } else if (value) {
                                    // If we only have value string, find the corresponding valueId
                                    const foundValue = attribute.values.find((v)=>v.value === value || v.label === value);
                                    if (foundValue && !selectedValueIds.includes(foundValue.id)) {
                                        selectedValueIds.push(foundValue.id);
                                    }
                                }
                            });
                        }
                    });
                }
                // Fallback: collect valueIds from variant options if JSONB is empty
                if (selectedValueIds.length === 0 && variant.options && Array.isArray(variant.options)) {
                    console.log(` [ADMIN] Variant ${variantIndex} using options fallback:`, variant.options);
                    // Group options by attribute to collect all values for each attribute
                    const attributeValueMap = {};
                    variant.options.forEach((opt)=>{
                        // Try to get attributeId and valueId directly or from attributeValue relation
                        let attributeId = opt.attributeId;
                        let valueId = opt.valueId;
                        let attributeKey = opt.attributeKey;
                        // If not directly available, try to get from attributeValue relation
                        if (!attributeId && opt.attributeValue) {
                            attributeId = opt.attributeValue.attributeId || opt.attributeValue.attribute?.id || opt.attributeValue.attributeId;
                            attributeKey = opt.attributeValue.attribute?.key || opt.attributeValue.attributeKey;
                        }
                        if (!valueId && opt.attributeValue) {
                            valueId = opt.attributeValue.id || opt.attributeValue.valueId;
                        }
                        // Additional fallback: try to find attribute by key in attributes array
                        if (!attributeId && opt.attributeKey) {
                            const foundAttr = attributes.find((a)=>a.key === opt.attributeKey);
                            if (foundAttr) {
                                attributeId = foundAttr.id;
                                attributeKey = foundAttr.key;
                            }
                        }
                        // Additional fallback: try to find value by value string in attributes
                        if (attributeId && !valueId && opt.value) {
                            const foundAttr = attributes.find((a)=>a.id === attributeId);
                            if (foundAttr) {
                                const foundValue = foundAttr.values.find((v)=>v.value === opt.value || v.label === opt.value);
                                if (foundValue) {
                                    valueId = foundValue.id;
                                }
                            }
                        }
                        // Group by attribute key to collect all values for this variant
                        if (attributeKey && valueId) {
                            if (!attributeValueMap[attributeKey]) {
                                attributeValueMap[attributeKey] = new Set();
                            }
                            attributeValueMap[attributeKey].add(valueId);
                        }
                    });
                    // Collect all valueIds from all attributes for this variant
                    Object.values(attributeValueMap).forEach((valueIdSet)=>{
                        valueIdSet.forEach((valueId)=>{
                            if (!selectedValueIds.includes(valueId)) {
                                selectedValueIds.push(valueId);
                            }
                        });
                    });
                }
                // Extract image URL from variant.imageUrl (can be comma-separated)
                let variantImage = null;
                if (variant.imageUrl) {
                    // For base64 images, don't split by comma (base64 strings can contain commas)
                    // Only split if it's not a base64 string
                    if (typeof variant.imageUrl === 'string' && variant.imageUrl.startsWith('data:')) {
                        // Base64 image - use full string, don't split
                        variantImage = variant.imageUrl;
                        console.log(` [ADMIN] Variant ${variantIndex} base64 image length:`, variantImage?.length || 0);
                    } else {
                        // Regular URL - can be comma-separated
                        const imageUrls = typeof variant.imageUrl === 'string' ? variant.imageUrl.split(',').map((url)=>url.trim()).filter(Boolean) : [];
                        variantImage = imageUrls.length > 0 ? imageUrls[0] : null;
                        console.log(` [ADMIN] Variant ${variantIndex} imageUrl length:`, variant.imageUrl?.length || 0, ' extracted image length:', variantImage?.length || 0);
                    }
                } else {
                    console.log(` [ADMIN] Variant ${variantIndex} has no imageUrl`);
                }
                // Convert prices from USD to defaultCurrency for display
                const priceInDefaultCurrency = variant.price !== undefined && variant.price !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.price, 'USD', defaultCurrency) : 0;
                const compareAtPriceInDefaultCurrency = variant.compareAtPrice !== undefined && variant.compareAtPrice !== null ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(variant.compareAtPrice, 'USD', defaultCurrency) : null;
                variantDataList.push({
                    id: variant.id || `variant-${Date.now()}-${variantIndex}-${Math.random()}`,
                    selectedValueIds: selectedValueIds.sort(),
                    price: priceInDefaultCurrency,
                    compareAtPrice: compareAtPriceInDefaultCurrency,
                    stock: variant.stock !== undefined && variant.stock !== null ? variant.stock : 0,
                    sku: variant.sku || '',
                    image: variantImage,
                    originalVariantIds: [
                        variant.id || `variant-${variantIndex}`
                    ]
                });
            });
            // Group variants by their attribute values, price, compareAtPrice, and stock
            // Variants with the same combination of these should be grouped together
            const variantGroups = new Map();
            variantDataList.forEach((variantData)=>{
                // Create a unique key for grouping based on:
                // 1. Sorted attribute value IDs (same values = same group)
                // 2. Price
                // 3. CompareAtPrice
                // 4. Stock (if all variants have the same stock, they can be grouped)
                const valueIdsKey = variantData.selectedValueIds.join(',');
                const priceKey = variantData.price.toString();
                const compareAtPriceKey = variantData.compareAtPrice !== null ? variantData.compareAtPrice.toString() : 'null';
                const stockKey = variantData.stock.toString();
                // Group key: combine all factors
                // Note: We group by valueIds, price, and compareAtPrice
                // Stock can vary per combination, so we don't include it in the group key
                // Instead, we'll use the first variant's stock as the default
                const groupKey = `${valueIdsKey}|${priceKey}|${compareAtPriceKey}`;
                if (!variantGroups.has(groupKey)) {
                    variantGroups.set(groupKey, []);
                }
                variantGroups.get(groupKey).push(variantData);
            });
            // Convert grouped variants to generatedVariants format
            // Each group becomes one variant row with all value IDs combined
            const convertedVariants = [];
            variantGroups.forEach((group, groupKey)=>{
                // Combine all value IDs from all variants in this group
                const allValueIds = new Set();
                group.forEach((variantData)=>{
                    variantData.selectedValueIds.forEach((valueId)=>{
                        allValueIds.add(valueId);
                    });
                });
                // Use the first variant's data as the base (price, compareAtPrice, stock, sku, image)
                const firstVariant = group[0];
                // For stock, if all variants in the group have the same stock, use that
                // Otherwise, use the first variant's stock (or sum if needed)
                const allStocksSame = group.every((v)=>v.stock === firstVariant.stock);
                const stockValue = allStocksSame ? firstVariant.stock : firstVariant.stock;
                // Combine SKUs if multiple variants (for reference)
                const combinedSku = group.length === 1 ? firstVariant.sku : group.map((v)=>v.sku).filter(Boolean).join(', ');
                // Use first variant's image, or combine if multiple
                const combinedImage = firstVariant.image;
                convertedVariants.push({
                    id: `variant-group-${Date.now()}-${Math.random()}`,
                    selectedValueIds: Array.from(allValueIds).sort(),
                    price: firstVariant.price.toString(),
                    compareAtPrice: firstVariant.compareAtPrice !== null ? firstVariant.compareAtPrice.toString() : '',
                    stock: stockValue.toString(),
                    sku: combinedSku,
                    image: combinedImage
                });
                console.log(` [ADMIN] Grouped ${group.length} variants into 1 row:`, {
                    groupKey,
                    valueIds: Array.from(allValueIds),
                    price: firstVariant.price,
                    stock: stockValue,
                    originalVariantIds: group.flatMap((v)=>v.originalVariantIds)
                });
            });
            if (convertedVariants.length > 0) {
                setGeneratedVariants(convertedVariants);
                console.log(' [ADMIN] Converted product variants to generatedVariants:', {
                    totalVariants: convertedVariants.length,
                    totalOriginalVariants: productVariants.length,
                    attributeValueIdsMap,
                    convertedVariants: convertedVariants.map((v)=>({
                            id: v.id,
                            valueIdsCount: v.selectedValueIds.length,
                            price: v.price,
                            stock: v.stock,
                            sku: v.sku
                        }))
                });
                // Clear the temporary storage and loading flag
                delete window.__productVariantsToConvert;
                setHasVariantsToLoad(false);
            } else {
                console.warn(' [ADMIN] No variants converted. Check variant options structure:', {
                    variantsCount: productVariants.length,
                    firstVariantOptions: productVariants[0]?.options
                });
                // Reset flag if no variants were converted
                setHasVariantsToLoad(false);
            }
        } else if (productId && attributes.length > 0) {
            console.log(' [ADMIN] Waiting for variants to convert. Attributes loaded:', attributes.length);
        }
    }, [
        productId,
        attributes
    ]);
    // Variant generation using hook
    const { applyToAllVariants } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useVariantGeneration$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useVariantGeneration"])({
        selectedAttributesForVariants,
        selectedAttributeValueIds,
        attributes,
        generatedVariants,
        formDataSlug: formData.slug,
        formDataTitle: formData.title,
        isEditMode,
        productId,
        setGeneratedVariants
    });
    const handleTitleChange = (e)=>{
        const title = e.target.value;
        setFormData((prev)=>({
                ...prev,
                title,
                slug: prev.slug || (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["generateSlug"])(title)
            }));
    };
    // Check if selected category requires sizes
    const isClothingCategory = ()=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isClothingCategory"])(formData.primaryCategoryId, categories);
    // Image handling using hook
    const { addImageUrl, removeImageUrl, updateImageUrl, setFeaturedImage, handleUploadImages, handleUploadVariantImage, handleUploadColorImages, addColorImages } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useImageHandling$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useImageHandling"])({
        imageUrls: formData.imageUrls,
        featuredImageIndex: formData.featuredImageIndex,
        variants: formData.variants,
        generatedVariants,
        colorImageTarget,
        setImageUrls: (updater)=>setFormData((prev)=>({
                    ...prev,
                    imageUrls: updater(prev.imageUrls)
                })),
        setFeaturedImageIndex: (index)=>setFormData((prev)=>({
                    ...prev,
                    featuredImageIndex: index
                })),
        setMainProductImage: (image)=>setFormData((prev)=>({
                    ...prev,
                    mainProductImage: image
                })),
        setVariants: (updater)=>setFormData((prev)=>({
                    ...prev,
                    variants: updater(prev.variants)
                })),
        setGeneratedVariants,
        setImageUploadLoading,
        setImageUploadError,
        setColorImageTarget,
        t
    });
    // Label management using hook
    const { addLabel, removeLabel, updateLabel } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$hooks$2f$useLabelManagement$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useLabelManagement"])(formData.labels, (updater)=>setFormData((prev)=>({
                ...prev,
                labels: updater(prev.labels)
            })));
    // Memoize color and size attributes to avoid unnecessary recalculations
    const colorAttribute = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if (!attributes || attributes.length === 0) {
            return undefined;
        }
        const colorAttr = attributes.find((attr)=>attr.key === 'color');
        if (!colorAttr) {
            console.log(' [ADMIN] Color attribute not found. Available attributes:', attributes.map((a)=>({
                    key: a.key,
                    name: a.name
                })));
        } else {
            console.log(' [ADMIN] Color attribute found:', {
                id: colorAttr.id,
                key: colorAttr.key,
                valuesCount: colorAttr.values?.length || 0
            });
        }
        return colorAttr;
    }, [
        attributes
    ]);
    const sizeAttribute = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        if (!attributes || attributes.length === 0) {
            return undefined;
        }
        const sizeAttr = attributes.find((attr)=>attr.key === 'size');
        if (!sizeAttr) {
            console.log(' [ADMIN] Size attribute not found. Available attributes:', attributes.map((a)=>({
                    key: a.key,
                    name: a.name
                })));
        } else {
            console.log(' [ADMIN] Size attribute found:', {
                id: sizeAttr.id,
                key: sizeAttr.key,
                valuesCount: sizeAttr.values?.length || 0
            });
        }
        return sizeAttr;
    }, [
        attributes
    ]);
    // Keep getColorAttribute and getSizeAttribute for backward compatibility
    const getColorAttribute = ()=>colorAttribute;
    const getSizeAttribute = ()=>sizeAttribute;
    // Add new color to color attribute
    const handleAddColor = async ()=>{
        setColorMessage(null);
        const colorAttribute = getColorAttribute();
        if (!colorAttribute) {
            setColorMessage({
                type: 'error',
                text: t('admin.products.add.colorAttributeNotFound')
            });
            return;
        }
        if (!newColorName.trim()) {
            setColorMessage({
                type: 'error',
                text: t('admin.products.add.colorNameRequired')
            });
            return;
        }
        try {
            setAddingColor(true);
            const response = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post(`/api/v1/admin/attributes/${colorAttribute.id}/values`, {
                label: newColorName.trim(),
                locale: 'en'
            });
            if (response.data) {
                // Update attributes list
                setAttributes((prev)=>prev.map((attr)=>attr.id === colorAttribute.id ? response.data : attr));
                setColorMessage({
                    type: 'success',
                    text: t('admin.products.add.colorAddedSuccess').replace('{name}', newColorName.trim())
                });
                setNewColorName('');
                // Clear message after 3 seconds
                setTimeout(()=>setColorMessage(null), 3000);
            }
        } catch (err) {
            setColorMessage({
                type: 'error',
                text: err.message || t('admin.products.add.failedToAddColor')
            });
        } finally{
            setAddingColor(false);
        }
    };
    // Add new size to size attribute
    const handleAddSize = async ()=>{
        setSizeMessage(null);
        const sizeAttribute = getSizeAttribute();
        if (!sizeAttribute) {
            setSizeMessage({
                type: 'error',
                text: t('admin.products.add.sizeAttributeNotFound')
            });
            return;
        }
        if (!newSizeName.trim()) {
            setSizeMessage({
                type: 'error',
                text: t('admin.products.add.sizeNameRequired')
            });
            return;
        }
        try {
            setAddingSize(true);
            const response = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post(`/api/v1/admin/attributes/${sizeAttribute.id}/values`, {
                label: newSizeName.trim(),
                locale: 'en'
            });
            if (response.data) {
                // Update attributes list
                setAttributes((prev)=>prev.map((attr)=>attr.id === sizeAttribute.id ? response.data : attr));
                setSizeMessage({
                    type: 'success',
                    text: t('admin.products.add.sizeAddedSuccess').replace('{name}', newSizeName.trim())
                });
                setNewSizeName('');
                // Clear message after 3 seconds
                setTimeout(()=>setSizeMessage(null), 3000);
            }
        } catch (err) {
            setSizeMessage({
                type: 'error',
                text: err.message || t('admin.products.add.failedToAddSize')
            });
        } finally{
            setAddingSize(false);
        }
    };
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setLoading(true);
        try {
            console.log(' [ADMIN] Submitting product form:', formData);
            // Collect success messages for newly created entities (brand/category)
            const creationMessages = [];
            // Create new brand if provided and add to brandIds
            let finalBrandIds = [
                ...formData.brandIds
            ];
            if (useNewBrand && newBrandName.trim()) {
                try {
                    console.log(' [ADMIN] Creating new brand:', newBrandName);
                    const brandResponse = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post('/api/v1/admin/brands', {
                        name: newBrandName.trim(),
                        locale: 'en'
                    });
                    if (brandResponse.data) {
                        // Add new brand to brandIds if not already present
                        if (!finalBrandIds.includes(brandResponse.data.id)) {
                            finalBrandIds.push(brandResponse.data.id);
                        }
                        // Add to brands list for future use
                        setBrands((prev)=>[
                                ...prev,
                                brandResponse.data
                            ]);
                        console.log(' [ADMIN] Brand created:', brandResponse.data.id);
                        creationMessages.push(t('admin.products.add.brandCreatedSuccess').replace('{name}', newBrandName.trim()));
                    }
                } catch (err) {
                    console.error(' [ADMIN] Error creating brand:', err);
                    setLoading(false);
                    return;
                }
            }
            // Create new category if provided
            let finalPrimaryCategoryId = formData.primaryCategoryId;
            if (useNewCategory && newCategoryName.trim()) {
                try {
                    console.log(' [ADMIN] Creating new category:', newCategoryName);
                    const categoryResponse = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post('/api/v1/admin/categories', {
                        title: newCategoryName.trim(),
                        locale: 'en',
                        requiresSizes: false
                    });
                    if (categoryResponse.data) {
                        finalPrimaryCategoryId = categoryResponse.data.id;
                        // Add to categories list for future use
                        setCategories((prev)=>[
                                ...prev,
                                categoryResponse.data
                            ]);
                        console.log(' [ADMIN] Category created:', categoryResponse.data.id);
                        creationMessages.push(t('admin.products.add.categoryCreatedSuccess').replace('{name}', newCategoryName.trim()));
                    }
                } catch (err) {
                    console.error(' [ADMIN] Error creating category:', err);
                    setLoading(false);
                    return;
                }
            }
            // Convert new variant builder variants to formData.variants if attributes are selected
            // NEW LOGIC: Process all variants (both auto-generated and manually added)
            // Skip this for simple products
            if (productType === 'variable' && selectedAttributesForVariants.size > 0 && generatedVariants.length > 0) {
                console.log(' [ADMIN] Converting new variant builder variants to formData format...');
                console.log(' [ADMIN] Total generated variants to convert:', generatedVariants.length);
                // Process all variants, not just the first one
                const allNewVariants = [];
                const skuSetForConversion = new Set();
                generatedVariants.forEach((variant, variantIndex)=>{
                    const colorAttribute = attributes.find((a)=>a.key === 'color');
                    const sizeAttribute = attributes.find((a)=>a.key === 'size');
                    // Get selected color and size values from variant
                    const selectedColorValueIds = colorAttribute ? variant.selectedValueIds.filter((id)=>colorAttribute.values.some((v)=>v.id === id)) : [];
                    const selectedSizeValueIds = sizeAttribute ? variant.selectedValueIds.filter((id)=>sizeAttribute.values.some((v)=>v.id === id)) : [];
                    // Create colors from selected color values
                    const colors = [];
                    if (colorAttribute && selectedColorValueIds.length > 0) {
                        // Create one ColorData per selected color value
                        selectedColorValueIds.forEach((valueId)=>{
                            const value = colorAttribute.values.find((v)=>v.id === valueId);
                            if (value) {
                                const colorData = {
                                    colorValue: value.value,
                                    colorLabel: value.label,
                                    images: [],
                                    stock: variant.stock || '0',
                                    sizes: [],
                                    sizeStocks: {}
                                };
                                // Add attribute value's imageUrl to color images if it exists
                                if (value.imageUrl) {
                                    colorData.images.push(value.imageUrl);
                                    console.log(' [ADMIN] Added attribute value imageUrl to color:', value.imageUrl);
                                }
                                // Add price if set
                                if (variant.price) {
                                    colorData.price = variant.price;
                                }
                                if (variant.compareAtPrice) {
                                    colorData.compareAtPrice = variant.compareAtPrice;
                                }
                                // Add sizes from selected size values
                                if (sizeAttribute && selectedSizeValueIds.length > 0) {
                                    selectedSizeValueIds.forEach((sizeValueId)=>{
                                        const sizeValue = sizeAttribute.values.find((v)=>v.id === sizeValueId);
                                        if (sizeValue) {
                                            colorData.sizes.push(sizeValue.value);
                                            colorData.sizeStocks[sizeValue.value] = variant.stock || '0';
                                            if (!colorData.sizePrices) colorData.sizePrices = {};
                                            colorData.sizePrices[sizeValue.value] = variant.price || '0';
                                        }
                                    });
                                }
                                colors.push(colorData);
                            }
                        });
                    } else if (sizeAttribute && selectedSizeValueIds.length > 0) {
                        // No color, but has size - create variant with empty colors but sizes
                        const colorData = {
                            colorValue: '',
                            colorLabel: '',
                            images: [],
                            stock: variant.stock || '0',
                            sizes: [],
                            sizeStocks: {}
                        };
                        selectedSizeValueIds.forEach((sizeValueId)=>{
                            const sizeValue = sizeAttribute.values.find((v)=>v.id === sizeValueId);
                            if (sizeValue) {
                                colorData.sizes.push(sizeValue.value);
                                colorData.sizeStocks[sizeValue.value] = variant.stock || '0';
                                if (!colorData.sizePrices) colorData.sizePrices = {};
                                colorData.sizePrices[sizeValue.value] = variant.price || '0';
                                // Add size attribute value's imageUrl if it exists
                                if (sizeValue.imageUrl) {
                                    colorData.images.push(sizeValue.imageUrl);
                                    console.log(' [ADMIN] Added size attribute value imageUrl:', sizeValue.imageUrl);
                                }
                            }
                        });
                        // Add variant image if exists
                        if (variant.image) {
                            colorData.images.push(variant.image);
                        }
                        colors.push(colorData);
                    } else {
                        // Handle non-color, non-size attributes (e.g., material)
                        // Collect all selected attribute values from other attributes
                        const otherAttributeIds = Array.from(selectedAttributesForVariants).filter((attrId)=>attrId !== colorAttribute?.id && attrId !== sizeAttribute?.id);
                        if (otherAttributeIds.length > 0) {
                            const colorData = {
                                colorValue: '',
                                colorLabel: '',
                                images: [],
                                stock: variant.stock || '0',
                                sizes: [],
                                sizeStocks: {}
                            };
                            // Collect images from all selected attribute values
                            otherAttributeIds.forEach((attributeId)=>{
                                const attribute = attributes.find((a)=>a.id === attributeId);
                                if (!attribute) return;
                                const selectedValueIds = variant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                selectedValueIds.forEach((valueId)=>{
                                    const value = attribute.values.find((v)=>v.id === valueId);
                                    if (value && value.imageUrl) {
                                        colorData.images.push(value.imageUrl);
                                        console.log(' [ADMIN] Added attribute value imageUrl from', attribute.key, ':', value.imageUrl);
                                    }
                                });
                            });
                            // Add variant image if exists
                            if (variant.image) {
                                colorData.images.push(variant.image);
                            }
                            if (colorData.images.length > 0 || variant.stock) {
                                colors.push(colorData);
                            }
                        }
                    }
                    // Add variant image to first color's images if variant has image and not already added
                    if (variant.image && colors.length > 0) {
                        const firstColor = colors[0];
                        if (!firstColor.images.includes(variant.image)) {
                            firstColor.images.push(variant.image);
                        }
                    }
                    // Generate unique SKU for this variant
                    let variantSku = variant.sku ? variant.sku.trim() : '';
                    if (!variantSku || variantSku === '') {
                        const baseSlug = formData.slug || 'PROD';
                        variantSku = `${baseSlug.toUpperCase()}-${Date.now()}-${variantIndex + 1}`;
                    }
                    // Ensure SKU is unique
                    let finalSku = variantSku;
                    let skuCounter = 1;
                    while(skuSetForConversion.has(finalSku)){
                        finalSku = `${variantSku}-${skuCounter}`;
                        skuCounter++;
                    }
                    skuSetForConversion.add(finalSku);
                    // Create variant - preserve original ID if it exists (for edit mode)
                    allNewVariants.push({
                        id: variant.id || `variant-${Date.now()}-${variantIndex}-${Math.random()}`,
                        price: variant.price || '0',
                        compareAtPrice: variant.compareAtPrice || '',
                        sku: finalSku,
                        colors: colors.length > 0 ? colors : []
                    });
                });
                formData.variants = allNewVariants;
                console.log(' [ADMIN] Converted variants:', formData.variants.length, 'with unique SKUs');
            }
            // Validate that at least one variant exists
            console.log(' [ADMIN] Validating variants before submit:', {
                variantsCount: formData.variants.length,
                variants: formData.variants,
                selectedAttributesCount: selectedAttributesForVariants.size,
                productType: productType
            });
            // Skip variant validation for Simple products - they create variants later in the process
            if (productType === 'variable' && formData.variants.length === 0) {
                setLoading(false);
                return;
            }
            // Validate all variants (skip for simple products - validation is done in variant creation)
            if (productType === 'variable') {
                const skuSet = new Set();
                for (const variant of formData.variants){
                    const variantIndex = formData.variants.indexOf(variant) + 1;
                    // Skip base price validation as we now use color-specific prices
                    // Validate SKU - must be unique within product
                    const variantSku = variant.sku ? variant.sku.trim() : '';
                    if (!variantSku || variantSku === '') {
                        setLoading(false);
                        return;
                    }
                    if (skuSet.has(variantSku)) {
                        setLoading(false);
                        return;
                    }
                    skuSet.add(variantSku);
                    // Validate colors, sizes, and stocks
                    const categoryRequiresSizes = isClothingCategory();
                    const colorData = variant.colors && variant.colors.length > 0 ? variant.colors : [];
                    if (colorData.length > 0) {
                        for (const colorDataItem of colorData){
                            const colorSizes = colorDataItem.sizes || [];
                            const colorSizeStocks = colorDataItem.sizeStocks || {};
                            // Skip price validation for empty colors (non-color attributes)
                            // If colorValue is empty, use variant base price instead
                            const hasColor = colorDataItem.colorValue && colorDataItem.colorValue.trim() !== '';
                            // Validate price for this color only if it has a color value
                            // For non-color attributes, use variant base price
                            if (hasColor) {
                                const colorPriceValue = parseFloat(colorDataItem.price || '0');
                                if (!colorDataItem.price || isNaN(colorPriceValue) || colorPriceValue <= 0) {
                                    setLoading(false);
                                    return;
                                }
                            } else {
                                // For non-color attributes, validate variant base price
                                // But only if this is the first colorDataItem (to avoid duplicate validation)
                                if (colorData.indexOf(colorDataItem) === 0) {
                                    const variantPriceValue = parseFloat(variant.price || '0');
                                    if (!variant.price || isNaN(variantPriceValue) || variantPriceValue <= 0) {
                                        setLoading(false);
                                        return;
                                    }
                                }
                            }
                            // Size validation removed - attributes can work independently
                            // Validate stock for each size of this color (if sizes exist)
                            if (colorSizes.length > 0) {
                                for (const size of colorSizes){
                                    const stock = colorSizeStocks[size];
                                    if (!stock || stock.trim() === '' || parseInt(stock) < 0) {
                                        setLoading(false);
                                        return;
                                    }
                                }
                            } else {
                                // If no sizes, validate base stock for color
                                if (!colorDataItem.stock || colorDataItem.stock.trim() === '' || parseInt(colorDataItem.stock) < 0) {
                                    setLoading(false);
                                    return;
                                }
                            }
                        }
                    }
                // No validation for variants without colors - attributes can work independently
                }
            } // End of variable products validation
            // Prepare media array
            // STRICT: Main media should ONLY contain formData.imageUrls (main product images)
            // Color images should NOT be added to main media - they belong only in variant.imageUrl
            const media = formData.imageUrls.map((url, index)=>({
                    url: url.trim(),
                    type: 'image',
                    position: index,
                    isFeatured: index === 0
                })).filter((m)=>m.url);
            console.log(' [ADMIN] Main media images count:', media.length);
            console.log(' [ADMIN] Main media (first 3):', media.slice(0, 3).map((m)=>m.url.substring(0, 50)));
            console.log(' [ADMIN] Color images will be stored ONLY in variant.imageUrl, NOT in main media');
            // Prepare variants array
            // Use generatedVariants if available (new format with attributes JSONB)
            // Otherwise fallback to formData.variants (legacy support)
            const variants = [];
            const variantSkuSet = new Set(); // Track SKUs during variant creation
            // Handle Simple Products - create a single variant without attributes
            if (productType === 'simple') {
                console.log(' [ADMIN] Processing Simple Product');
                // Validate simple product fields
                if (!simpleProductData.price || simpleProductData.price.trim() === '') {
                    setLoading(false);
                    return;
                }
                if (!simpleProductData.sku || simpleProductData.sku.trim() === '') {
                    setLoading(false);
                    return;
                }
                if (!simpleProductData.quantity || simpleProductData.quantity.trim() === '') {
                    setLoading(false);
                    return;
                }
                // Convert prices from defaultCurrency to USD
                const priceUSD = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(simpleProductData.price), defaultCurrency, 'USD');
                const compareAtPriceUSD = simpleProductData.compareAtPrice && simpleProductData.compareAtPrice.trim() !== '' ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(simpleProductData.compareAtPrice), defaultCurrency, 'USD') : undefined;
                // Create a single variant without attributes
                const simpleVariant = {
                    price: priceUSD,
                    stock: parseInt(simpleProductData.quantity) || 0,
                    sku: simpleProductData.sku.trim(),
                    published: true
                };
                if (compareAtPriceUSD) {
                    simpleVariant.compareAtPrice = compareAtPriceUSD;
                }
                // No attributes for simple products - options array is empty/undefined
                variants.push(simpleVariant);
                variantSkuSet.add(simpleProductData.sku.trim());
                console.log(' [ADMIN] Simple product variant created:', simpleVariant);
            } else {
                // Variable products - process variants normally
                // Check if we should use generatedVariants (new format)
                const useGeneratedVariants = generatedVariants.length > 0 && selectedAttributesForVariants.size > 0;
                if (useGeneratedVariants) {
                    // NEW FORMAT: Create variants from generatedVariants (each variant has all attribute values)
                    console.log(' [ADMIN] Using generatedVariants format:', generatedVariants.length, 'variants');
                    console.log(' [ADMIN] Selected attributes for variants:', Array.from(selectedAttributesForVariants));
                    const sizeAttribute = getSizeAttribute();
                    console.log(' [ADMIN] Size attribute:', sizeAttribute ? {
                        id: sizeAttribute.id,
                        key: sizeAttribute.key
                    } : 'not found');
                    generatedVariants.forEach((genVariant, variantIndex)=>{
                        // Convert prices from defaultCurrency to USD (database stores prices in USD)
                        const variantPriceUSD = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(genVariant.price || '0'), defaultCurrency, 'USD');
                        const variantCompareAtPriceUSD = genVariant.compareAtPrice ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(genVariant.compareAtPrice), defaultCurrency, 'USD') : undefined;
                        // Group valueIds by attribute
                        const attributeValueMap = {};
                        console.log(` [ADMIN] Variant ${variantIndex + 1} selectedValueIds:`, genVariant.selectedValueIds);
                        genVariant.selectedValueIds.forEach((valueId)=>{
                            // Find which attribute this valueId belongs to
                            const attribute = attributes.find((a)=>a.values.some((v)=>v.id === valueId));
                            if (attribute) {
                                const value = attribute.values.find((v)=>v.id === valueId);
                                if (value) {
                                    console.log(`   Found attribute: ${attribute.key}, value: ${value.value}`);
                                    if (!attributeValueMap[attribute.key]) {
                                        attributeValueMap[attribute.key] = [];
                                    }
                                    attributeValueMap[attribute.key].push({
                                        valueId: value.id,
                                        value: value.value
                                    });
                                }
                            } else {
                                console.warn(`   ValueId ${valueId} not found in any attribute`);
                            }
                        });
                        // Generate all combinations of attribute values
                        // Example: If we have color: [Red, Green] and size: [S, M]
                        // We need to create: Red+S, Red+M, Green+S, Green+M
                        const attributeKeys = Object.keys(attributeValueMap);
                        if (attributeKeys.length === 0) {
                            // No attributes, create single variant
                            const finalSku = genVariant.sku || `${formData.slug || 'PROD'}-${Date.now()}-${variantIndex + 1}`;
                            let uniqueSku = finalSku;
                            let skuCounter = 1;
                            while(variantSkuSet.has(uniqueSku)){
                                uniqueSku = `${finalSku}-${skuCounter}`;
                                skuCounter++;
                            }
                            variantSkuSet.add(uniqueSku);
                            variants.push({
                                price: variantPriceUSD,
                                compareAtPrice: variantCompareAtPriceUSD,
                                stock: parseInt(genVariant.stock || '0') || 0,
                                sku: uniqueSku,
                                imageUrl: genVariant.image || undefined,
                                published: true
                            });
                        } else {
                            // Generate all combinations
                            const attributeValueGroups = attributeKeys.map((key)=>attributeValueMap[key].map((v)=>v.valueId));
                            // Generate combinations using the same logic as generateAttributeCombinations
                            const generateCombinations = (groups)=>{
                                if (groups.length === 0) return [
                                    []
                                ];
                                if (groups.length === 1) return groups[0].map((v)=>[
                                        v
                                    ]);
                                const [firstGroup, ...restGroups] = groups;
                                const restCombinations = generateCombinations(restGroups);
                                const result = [];
                                for (const value of firstGroup){
                                    for (const combination of restCombinations){
                                        result.push([
                                            value,
                                            ...combination
                                        ]);
                                    }
                                }
                                return result;
                            };
                            const combinations = generateCombinations(attributeValueGroups);
                            console.log(` [ADMIN] Variant ${variantIndex + 1} will expand to ${combinations.length} combinations:`, combinations);
                            // Create a variant for each combination
                            combinations.forEach((combination, comboIndex)=>{
                                // Build options for this combination
                                const variantOptions = [];
                                combination.forEach((valueId)=>{
                                    // Find which attribute this valueId belongs to
                                    const attribute = attributes.find((a)=>a.values.some((v)=>v.id === valueId));
                                    if (attribute) {
                                        const value = attribute.values.find((v)=>v.id === valueId);
                                        if (value) {
                                            variantOptions.push({
                                                attributeKey: attribute.key,
                                                value: value.value,
                                                valueId: value.id
                                            });
                                        }
                                    }
                                });
                                // Generate SKU for this combination
                                const baseSlug = formData.slug || 'PROD';
                                const valueParts = variantOptions.map((opt)=>opt.value.toUpperCase().replace(/\s+/g, '-'));
                                const skuSuffix = valueParts.length > 0 ? `-${valueParts.join('-')}` : '';
                                const finalSku = genVariant.sku ? `${genVariant.sku}${skuSuffix}` : `${baseSlug.toUpperCase()}-${Date.now()}-${variantIndex + 1}-${comboIndex + 1}${skuSuffix}`;
                                // Ensure SKU is unique
                                let uniqueSku = finalSku;
                                let skuCounter = 1;
                                while(variantSkuSet.has(uniqueSku)){
                                    uniqueSku = `${finalSku}-${skuCounter}`;
                                    skuCounter++;
                                }
                                variantSkuSet.add(uniqueSku);
                                console.log(`   Creating variant combination ${comboIndex + 1}/${combinations.length}:`, {
                                    options: variantOptions.map((o)=>`${o.attributeKey}=${o.value}`).join(', '),
                                    sku: uniqueSku,
                                    price: variantPriceUSD,
                                    stock: genVariant.stock
                                });
                                variants.push({
                                    price: variantPriceUSD,
                                    compareAtPrice: variantCompareAtPriceUSD,
                                    stock: parseInt(genVariant.stock || '0') || 0,
                                    sku: uniqueSku,
                                    imageUrl: genVariant.image || undefined,
                                    published: true,
                                    options: variantOptions.length > 0 ? variantOptions : undefined
                                });
                            });
                        }
                    });
                } else {
                    // Create variants from formData.variants (legacy support)
                    console.log(' [ADMIN] Using formData.variants format (legacy)');
                    console.log(' [ADMIN] formData.variants count:', formData.variants.length);
                    const sizeAttribute = getSizeAttribute();
                    console.log(' [ADMIN] Size attribute:', sizeAttribute ? {
                        id: sizeAttribute.id,
                        key: sizeAttribute.key
                    } : 'not found');
                    formData.variants.forEach((variant, variantIndex)=>{
                        // Convert prices from defaultCurrency to USD (database stores prices in USD)
                        const variantPriceUSD = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(variant.price || '0'), defaultCurrency, 'USD');
                        const baseVariantData = {
                            price: variantPriceUSD,
                            published: true
                        };
                        if (variant.compareAtPrice) {
                            baseVariantData.compareAtPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(parseFloat(variant.compareAtPrice), defaultCurrency, 'USD');
                        }
                        //      ColorData
                        const colorDataArray = variant.colors || [];
                        // Process each color (colors are optional now)
                        if (colorDataArray.length > 0) {
                            colorDataArray.forEach((colorData, colorIndex)=>{
                                const colorSizes = colorData.sizes || [];
                                const colorSizeStocks = colorData.sizeStocks || {};
                                // If color has sizes - create variants for each color-size combination
                                if (colorSizes.length > 0) {
                                    colorSizes.forEach((size, sizeIndex)=>{
                                        // Use stock from sizeStocks for this color-size combination
                                        const stockForVariant = colorSizeStocks[size] || colorData.stock || '0';
                                        const skuSuffix = colorDataArray.length > 1 || colorSizes.length > 1 ? `-${colorIndex + 1}-${sizeIndex + 1}` : '';
                                        // Generate SKU if not provided
                                        // First check if there's a specific SKU for this size in sizeLabels
                                        let finalSku = colorData.sizeLabels?.[size] || undefined;
                                        // If no specific SKU, use variant base SKU with suffix
                                        if (!finalSku || finalSku === '') {
                                            finalSku = variant.sku ? `${variant.sku.trim()}${skuSuffix}` : undefined;
                                        }
                                        // If still no SKU, generate one
                                        if (!finalSku || finalSku === '') {
                                            const baseSlug = formData.slug || 'PROD';
                                            finalSku = `${baseSlug.toUpperCase()}-${Date.now()}-${variantIndex + 1}-${colorIndex + 1}-${sizeIndex + 1}`;
                                        }
                                        // Ensure SKU is unique during creation
                                        let uniqueSku = finalSku;
                                        let skuCounter = 1;
                                        while(variantSkuSet.has(uniqueSku)){
                                            uniqueSku = `${finalSku}-${skuCounter}`;
                                            skuCounter++;
                                        }
                                        variantSkuSet.add(uniqueSku);
                                        finalSku = uniqueSku;
                                        //        imageUrl
                                        const variantImageUrl = colorData.images && colorData.images.length > 0 ? colorData.images.join(',') : undefined;
                                        //   ,  ,   ,   
                                        // Convert from defaultCurrency to USD
                                        const sizePrice = colorData.sizePrices?.[size];
                                        const finalPriceRaw = sizePrice && sizePrice.trim() !== '' ? parseFloat(sizePrice) : colorData.price && colorData.price.trim() !== '' ? parseFloat(colorData.price) : baseVariantData.price;
                                        const finalPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(finalPriceRaw, defaultCurrency, 'USD');
                                        //  compareAtPrice ,  ,  compareAtPrice ,  compareAtPrice 
                                        // Convert from defaultCurrency to USD
                                        const sizeCompareAtPrice = colorData.sizeCompareAtPrices?.[size];
                                        const finalCompareAtPriceRaw = sizeCompareAtPrice && sizeCompareAtPrice.trim() !== '' ? parseFloat(sizeCompareAtPrice) : colorData.compareAtPrice && colorData.compareAtPrice.trim() !== '' ? parseFloat(colorData.compareAtPrice) : baseVariantData.compareAtPrice;
                                        const finalCompareAtPrice = finalCompareAtPriceRaw ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(finalCompareAtPriceRaw, defaultCurrency, 'USD') : undefined;
                                        // Collect all attribute options for this variant
                                        const variantOptions = [];
                                        // Add color option if exists
                                        if (colorData.colorValue && colorData.colorValue.trim() !== '') {
                                            const colorAttr = attributes.find((a)=>a.key === 'color');
                                            const colorValue = colorAttr?.values.find((v)=>v.value === colorData.colorValue);
                                            if (colorValue) {
                                                variantOptions.push({
                                                    attributeKey: 'color',
                                                    value: colorData.colorValue,
                                                    valueId: colorValue.id
                                                });
                                            } else {
                                                variantOptions.push({
                                                    attributeKey: 'color',
                                                    value: colorData.colorValue
                                                });
                                            }
                                        }
                                        // Add size option if exists
                                        if (size && size.trim() !== '') {
                                            const sizeAttr = attributes.find((a)=>a.key === 'size');
                                            const sizeValue = sizeAttr?.values.find((v)=>v.value === size);
                                            if (sizeValue) {
                                                variantOptions.push({
                                                    attributeKey: 'size',
                                                    value: size,
                                                    valueId: sizeValue.id
                                                });
                                            } else {
                                                variantOptions.push({
                                                    attributeKey: 'size',
                                                    value: size
                                                });
                                            }
                                        }
                                        // Add other attribute options from selectedAttributesForVariants (excluding color and size as they're already added)
                                        if (selectedAttributesForVariants.size > 0 && generatedVariants.length > 0) {
                                            const variant = generatedVariants[0];
                                            Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                                const attribute = attributes.find((a)=>a.id === attributeId);
                                                if (!attribute || attribute.key === 'color' || attribute.key === 'size') return;
                                                const selectedValueIds = variant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                                selectedValueIds.forEach((valueId)=>{
                                                    const value = attribute.values.find((v)=>v.id === valueId);
                                                    if (value) {
                                                        variantOptions.push({
                                                            attributeKey: attribute.key,
                                                            value: value.value,
                                                            valueId: value.id
                                                        });
                                                    }
                                                });
                                            });
                                        }
                                        variants.push({
                                            ...baseVariantData,
                                            price: finalPrice,
                                            compareAtPrice: finalCompareAtPrice,
                                            color: colorData.colorValue,
                                            size: size,
                                            stock: parseInt(stockForVariant) || 0,
                                            sku: finalSku,
                                            imageUrl: variantImageUrl,
                                            isFeatured: !!colorData.isFeatured,
                                            options: variantOptions.length > 0 ? variantOptions : undefined
                                        });
                                    });
                                } else {
                                    const skuSuffix = colorDataArray.length > 1 ? `-${colorIndex + 1}` : '';
                                    // Use base color stock
                                    const stockForVariant = colorData.stock || '0';
                                    // Generate SKU if not provided
                                    let finalSku = variant.sku ? `${variant.sku.trim()}${skuSuffix}` : undefined;
                                    if (!finalSku || finalSku === '') {
                                        const baseSlug = formData.slug || 'PROD';
                                        finalSku = `${baseSlug.toUpperCase()}-${Date.now()}-${variantIndex + 1}-${colorIndex + 1}`;
                                    }
                                    // Ensure SKU is unique during creation
                                    let uniqueSku = finalSku;
                                    let skuCounter = 1;
                                    while(variantSkuSet.has(uniqueSku)){
                                        uniqueSku = `${finalSku}-${skuCounter}`;
                                        skuCounter++;
                                    }
                                    variantSkuSet.add(uniqueSku);
                                    finalSku = uniqueSku;
                                    //        imageUrl
                                    const variantImageUrl = colorData.images && colorData.images.length > 0 ? colorData.images.join(',') : undefined;
                                    //   ,  ,   
                                    // For empty colors (non-color attributes), always use variant base price
                                    // Convert from defaultCurrency to USD
                                    const hasColor = colorData.colorValue && colorData.colorValue.trim() !== '';
                                    const finalPriceRaw = hasColor && colorData.price && colorData.price.trim() !== '' ? parseFloat(colorData.price) : baseVariantData.price;
                                    const finalPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(finalPriceRaw, defaultCurrency, 'USD');
                                    const finalCompareAtPriceRaw = hasColor && colorData.compareAtPrice && colorData.compareAtPrice.trim() !== '' ? parseFloat(colorData.compareAtPrice) : baseVariantData.compareAtPrice;
                                    const finalCompareAtPrice = finalCompareAtPriceRaw ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(finalCompareAtPriceRaw, defaultCurrency, 'USD') : undefined;
                                    // Collect all attribute options for this variant
                                    const variantOptions = [];
                                    // Add color option if exists
                                    if (colorData.colorValue && colorData.colorValue.trim() !== '') {
                                        const colorAttr = attributes.find((a)=>a.key === 'color');
                                        const colorValue = colorAttr?.values.find((v)=>v.value === colorData.colorValue);
                                        if (colorValue) {
                                            variantOptions.push({
                                                attributeKey: 'color',
                                                value: colorData.colorValue,
                                                valueId: colorValue.id
                                            });
                                        } else {
                                            variantOptions.push({
                                                attributeKey: 'color',
                                                value: colorData.colorValue
                                            });
                                        }
                                    }
                                    // Add other attribute options from selectedAttributesForVariants
                                    if (selectedAttributesForVariants.size > 0 && generatedVariants.length > 0) {
                                        const variant = generatedVariants[0];
                                        Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                            const attribute = attributes.find((a)=>a.id === attributeId);
                                            if (!attribute || attribute.key === 'color' || attribute.key === 'size') return;
                                            const selectedValueIds = variant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                            selectedValueIds.forEach((valueId)=>{
                                                const value = attribute.values.find((v)=>v.id === valueId);
                                                if (value) {
                                                    variantOptions.push({
                                                        attributeKey: attribute.key,
                                                        value: value.value,
                                                        valueId: value.id
                                                    });
                                                }
                                            });
                                        });
                                    }
                                    variants.push({
                                        ...baseVariantData,
                                        price: finalPrice,
                                        compareAtPrice: finalCompareAtPrice,
                                        color: colorData.colorValue && colorData.colorValue.trim() !== '' ? colorData.colorValue : undefined,
                                        stock: parseInt(stockForVariant) || 0,
                                        sku: finalSku,
                                        imageUrl: variantImageUrl,
                                        isFeatured: !!colorData.isFeatured,
                                        options: variantOptions.length > 0 ? variantOptions : undefined
                                    });
                                }
                            });
                        } else {
                            // No colors - create variant without color
                            // Check if we have sizes in variant.sizes or need to handle sizes separately
                            const variantSizes = variant.sizes || [];
                            const variantSizeStocks = variant.sizeStocks || {};
                            // If variant has sizes, create variants for each size
                            if (variantSizes.length > 0) {
                                variantSizes.forEach((size, sizeIndex)=>{
                                    const stockForVariant = variantSizeStocks[size] || '0';
                                    const skuSuffix = variantSizes.length > 1 ? `-${sizeIndex + 1}` : '';
                                    // Generate SKU if not provided
                                    let finalSku = variant.sku ? `${variant.sku.trim()}${skuSuffix}` : undefined;
                                    if (!finalSku || finalSku === '') {
                                        finalSku = formData.slug ? `${formData.slug.toUpperCase()}-${Date.now()}-${variantIndex + 1}-${sizeIndex + 1}` : undefined;
                                    }
                                    // Ensure SKU is unique during creation
                                    let uniqueSku = finalSku;
                                    if (uniqueSku) {
                                        let skuCounter = 1;
                                        while(variantSkuSet.has(uniqueSku)){
                                            uniqueSku = `${finalSku}-${skuCounter}`;
                                            skuCounter++;
                                        }
                                        variantSkuSet.add(uniqueSku);
                                        finalSku = uniqueSku;
                                    }
                                    // Convert prices from defaultCurrency to USD
                                    const finalPrice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(baseVariantData.price, defaultCurrency, 'USD');
                                    const finalCompareAtPrice = baseVariantData.compareAtPrice ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$currency$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["convertPrice"])(baseVariantData.compareAtPrice, defaultCurrency, 'USD') : undefined;
                                    // Collect all attribute options for this variant
                                    const variantOptions = [];
                                    // Add size option
                                    if (size && size.trim() !== '') {
                                        const sizeAttr = attributes.find((a)=>a.key === 'size');
                                        const sizeValue = sizeAttr?.values.find((v)=>v.value === size);
                                        if (sizeValue) {
                                            variantOptions.push({
                                                attributeKey: 'size',
                                                value: size,
                                                valueId: sizeValue.id
                                            });
                                        } else {
                                            variantOptions.push({
                                                attributeKey: 'size',
                                                value: size
                                            });
                                        }
                                    }
                                    // Add other attribute options from selectedAttributesForVariants (excluding color and size)
                                    if (selectedAttributesForVariants.size > 0 && generatedVariants.length > 0) {
                                        const genVariant = generatedVariants[0];
                                        Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                            const attribute = attributes.find((a)=>a.id === attributeId);
                                            if (!attribute || attribute.key === 'color' || attribute.key === 'size') return;
                                            const selectedValueIds = genVariant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                            selectedValueIds.forEach((valueId)=>{
                                                const value = attribute.values.find((v)=>v.id === valueId);
                                                if (value) {
                                                    variantOptions.push({
                                                        attributeKey: attribute.key,
                                                        value: value.value,
                                                        valueId: value.id
                                                    });
                                                }
                                            });
                                        });
                                    }
                                    variants.push({
                                        ...baseVariantData,
                                        price: finalPrice,
                                        compareAtPrice: finalCompareAtPrice,
                                        size: size,
                                        stock: parseInt(stockForVariant) || 0,
                                        sku: finalSku,
                                        options: variantOptions.length > 0 ? variantOptions : undefined
                                    });
                                });
                            } else {
                                // No colors and no sizes - create single variant without color and size
                                // But check if we have images from non-color attributes
                                let finalSku = variant.sku ? variant.sku.trim() : undefined;
                                if (!finalSku || finalSku === '') {
                                    finalSku = formData.slug ? `${formData.slug.toUpperCase()}-${Date.now()}-${variantIndex + 1}` : undefined;
                                }
                                // Ensure SKU is unique during creation
                                let uniqueSku = finalSku;
                                if (uniqueSku) {
                                    let skuCounter = 1;
                                    while(variantSkuSet.has(uniqueSku)){
                                        uniqueSku = `${finalSku}-${skuCounter}`;
                                        skuCounter++;
                                    }
                                    variantSkuSet.add(uniqueSku);
                                    finalSku = uniqueSku;
                                }
                                const generatedSku = finalSku;
                                // Check if we have any images from attribute values (for non-color, non-size attributes)
                                let variantImageUrl = undefined;
                                if (selectedAttributesForVariants.size > 0) {
                                    const allAttributeImages = [];
                                    Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                        const attribute = attributes.find((a)=>a.id === attributeId);
                                        if (!attribute || attribute.key === 'color' || attribute.key === 'size') return;
                                        // Get selected value IDs for this attribute from generatedVariants
                                        // Collect images from all values of this attribute if it's selected
                                        attribute.values.forEach((value)=>{
                                            if (value.imageUrl) {
                                                allAttributeImages.push(value.imageUrl);
                                            }
                                        });
                                    });
                                    if (allAttributeImages.length > 0) {
                                        variantImageUrl = allAttributeImages.join(',');
                                        console.log(' [ADMIN] Added images from non-color attributes to variant:', variantImageUrl);
                                    }
                                }
                                // Collect all attribute options for this variant
                                const variantOptions = [];
                                // Add all attribute options from selectedAttributesForVariants
                                if (selectedAttributesForVariants.size > 0 && generatedVariants.length > 0) {
                                    const genVariant = generatedVariants[0];
                                    Array.from(selectedAttributesForVariants).forEach((attributeId)=>{
                                        const attribute = attributes.find((a)=>a.id === attributeId);
                                        if (!attribute) return;
                                        const selectedValueIds = genVariant.selectedValueIds.filter((id)=>attribute.values.some((v)=>v.id === id));
                                        selectedValueIds.forEach((valueId)=>{
                                            const value = attribute.values.find((v)=>v.id === valueId);
                                            if (value) {
                                                variantOptions.push({
                                                    attributeKey: attribute.key,
                                                    value: value.value,
                                                    valueId: value.id
                                                });
                                            }
                                        });
                                    });
                                }
                                variants.push({
                                    ...baseVariantData,
                                    color: undefined,
                                    stock: 0,
                                    sku: generatedSku,
                                    imageUrl: variantImageUrl,
                                    options: variantOptions.length > 0 ? variantOptions : undefined
                                });
                            }
                        }
                    });
                }
            } // End of variable products variant processing
            // Final validation - ensure all SKUs are unique
            const finalSkuSet = new Set();
            for(let i = 0; i < variants.length; i++){
                const variant = variants[i];
                if (!variant.sku || variant.sku.trim() === '') {
                    // Generate SKU if still missing
                    const baseSlug = formData.slug || 'PROD';
                    variant.sku = `${baseSlug.toUpperCase()}-${Date.now()}-${i + 1}`;
                } else {
                    variant.sku = variant.sku.trim();
                }
                // Ensure SKU is unique - keep generating until we find a unique one
                let finalSku = variant.sku;
                let skuCounter = 1;
                while(finalSkuSet.has(finalSku)){
                    const baseSlug = formData.slug || 'PROD';
                    finalSku = `${baseSlug.toUpperCase()}-${Date.now()}-${i + 1}-${skuCounter}-${Math.random().toString(36).substr(2, 4)}`;
                    skuCounter++;
                    console.log(` [ADMIN] Duplicate SKU found, generating new one: ${finalSku}`);
                }
                variant.sku = finalSku;
                finalSkuSet.add(finalSku);
            }
            console.log(' [ADMIN] Final SKU validation complete. All SKUs are unique:', Array.from(finalSkuSet));
            // Final validation - check size requirement for categories that require sizes
            // Skip this validation for Simple products - they don't have size attributes
            const categoryRequiresSizesFinal = isClothingCategory();
            if (productType === 'variable' && categoryRequiresSizesFinal && finalPrimaryCategoryId) {
                console.log(' [VALIDATION] Checking size requirement for category:', finalPrimaryCategoryId);
                console.log(' [VALIDATION] Total variants to check:', variants.length);
                // Check if any variant has size in options array or size field
                const variantsWithSize = [];
                const variantsWithoutSize = [];
                variants.forEach((variant, index)=>{
                    let hasSize = false;
                    let sizeSource = '';
                    // Check variant.size field (legacy support)
                    if (variant.size && variant.size.trim() !== "") {
                        hasSize = true;
                        sizeSource = 'variant.size';
                    }
                    // New format: check variant.options array for size attribute
                    if (!hasSize && variant.options && Array.isArray(variant.options)) {
                        const sizeOption = variant.options.find((opt)=>{
                            return (opt.attributeKey === 'size' || opt.key === 'size' || opt.attribute === 'size') && opt.value && opt.value.trim() !== "";
                        });
                        if (sizeOption) {
                            hasSize = true;
                            sizeSource = 'variant.options';
                        }
                    }
                    if (hasSize) {
                        variantsWithSize.push({
                            index,
                            variant,
                            sizeSource
                        });
                    } else {
                        variantsWithoutSize.push({
                            index,
                            variant
                        });
                    }
                });
                console.log(' [VALIDATION] Variants with size:', variantsWithSize.length, variantsWithSize.map((v)=>({
                        index: v.index,
                        size: v.variant.size,
                        options: v.variant.options,
                        source: v.sizeSource
                    })));
                console.log(' [VALIDATION] Variants without size:', variantsWithoutSize.length, variantsWithoutSize.map((v)=>({
                        index: v.index,
                        hasSizeField: !!v.variant.size,
                        hasOptions: !!v.variant.options,
                        options: v.variant.options
                    })));
                if (variantsWithSize.length === 0) {
                    console.error(' [VALIDATION] Final size validation failed. No variants have size.');
                    console.error(' [VALIDATION] All variants:', JSON.stringify(variants, null, 2));
                    console.error(' [VALIDATION] Debug info:', {
                        totalVariants: variants.length,
                        useGeneratedVariants: productType === 'variable' && generatedVariants.length > 0 && selectedAttributesForVariants.size > 0,
                        selectedAttributesForVariants: Array.from(selectedAttributesForVariants),
                        sizeAttribute: getSizeAttribute()?.id,
                        generatedVariantsCount: generatedVariants.length,
                        formDataVariantsCount: formData.variants.length
                    });
                }
                console.log(' [VALIDATION] Final size validation passed. Found', variantsWithSize.length, 'variant(s) with size.');
            } else {
                console.log(' [VALIDATION] Size validation skipped (category does not require sizes)');
            }
            // Colors are now optional - no validation needed
            // Collect attribute IDs from variants (color and size attributes)
            const attributeIdsSet = new Set();
            const colorAttribute = getColorAttribute();
            const sizeAttribute = getSizeAttribute();
            if (colorAttribute) {
                attributeIdsSet.add(colorAttribute.id);
            }
            if (sizeAttribute) {
                attributeIdsSet.add(sizeAttribute.id);
            }
            const attributeIds = Array.from(attributeIdsSet);
            // Prepare payload
            // Note: Database supports single brandId, so we use the first selected brand
            // For multiple brands, we would need to update the schema to support brandIds array
            const payload = {
                title: formData.title,
                slug: formData.slug,
                descriptionHtml: formData.descriptionHtml || undefined,
                brandId: finalBrandIds.length > 0 ? finalBrandIds[0] : undefined,
                primaryCategoryId: finalPrimaryCategoryId || undefined,
                categoryIds: formData.categoryIds.length > 0 ? formData.categoryIds : undefined,
                //       
                //      
                published: isEditMode ? formData.published : true,
                featured: formData.featured,
                locale: 'en',
                variants: variants,
                attributeIds: attributeIds.length > 0 ? attributeIds : undefined
            };
            // Helper function to check if image is base64
            const isBase64Image = (url)=>{
                return url.startsWith('data:image/');
            };
            // Helper function to check if image is already a URL
            const isUrl = (url)=>{
                return url.startsWith('http://') || url.startsWith('https://');
            };
            // Helper function to get base64 size in bytes (approximate)
            const getBase64Size = (base64)=>{
                // Remove data:image/...;base64, prefix
                const base64Data = base64.includes(',') ? base64.split(',')[1] : base64;
                // Base64 is ~33% larger than binary, so we calculate approximate size
                return Math.ceil(base64Data.length * 0.75);
            };
            // Helper function to process images - keep URLs as is, filter out large base64
            const processImages = (images)=>{
                const MAX_BASE64_SIZE = 5 * 1024 * 1024; // 5MB per image max
                let skippedCount = 0;
                const processed = images.filter((img)=>{
                    // If already a URL, keep as is
                    if (isUrl(img)) {
                        return true;
                    }
                    // If base64, check size
                    if (isBase64Image(img)) {
                        const size = getBase64Size(img);
                        if (size > MAX_BASE64_SIZE) {
                            console.warn(` [ADMIN] Image too large (${Math.round(size / 1024)}KB), skipping to avoid 413 error.`);
                            skippedCount++;
                            return false; // Skip large base64 images
                        }
                        // Small base64, keep as is (will be in payload)
                        return true;
                    }
                    // Unknown format, keep as is
                    return true;
                });
                return {
                    processed,
                    skipped: skippedCount
                };
            };
            // Process main product images separately to maintain exact mapping
            const mainImages = [];
            if (formData.imageUrls.length > 0) {
                mainImages.push(...formData.imageUrls.filter(Boolean));
            } else if (formData.mainProductImage) {
                mainImages.push(formData.mainProductImage);
            }
            // Process main images with position preservation
            // This function processes each image individually and preserves original positions
            const processMainImagesWithPositions = (images)=>{
                const MAX_BASE64_SIZE = 5 * 1024 * 1024; // 5MB per image max
                const mapping = [];
                let skippedCount = 0;
                images.forEach((img)=>{
                    // If already a URL, keep as is
                    if (isUrl(img)) {
                        mapping.push(img);
                        return;
                    }
                    // If base64, check size
                    if (isBase64Image(img)) {
                        const size = getBase64Size(img);
                        if (size > MAX_BASE64_SIZE) {
                            console.warn(` [ADMIN] Main image too large (${Math.round(size / 1024)}KB), skipping to avoid 413 error.`);
                            skippedCount++;
                            mapping.push(null); // Mark as skipped
                            return;
                        }
                        // Small base64, keep as is
                        mapping.push(img);
                        return;
                    }
                    // Unknown format, keep as is
                    mapping.push(img);
                });
                return {
                    mapping,
                    skipped: skippedCount
                };
            };
            const mainImagesProcessed = mainImages.length > 0 ? processMainImagesWithPositions(mainImages) : {
                mapping: [],
                skipped: 0
            };
            const mainImageMapping = mainImagesProcessed.mapping; // Keep nulls to preserve positions
            // Collect variant images
            const variantImages = [];
            variants.forEach((variant)=>{
                if (variant.imageUrl) {
                    // imageUrl can be comma-separated string
                    const imageUrls = variant.imageUrl.split(',').map((url)=>url.trim()).filter(Boolean);
                    variantImages.push(...imageUrls);
                }
            });
            // Process variant images
            const variantImagesProcessed = variantImages.length > 0 ? processImages(variantImages) : {
                processed: [],
                skipped: 0
            };
            const processedVariantImages = variantImagesProcessed.processed;
            const skippedImagesCount = mainImagesProcessed.skipped + variantImagesProcessed.skipped;
            // Warn user if images were skipped
            if (skippedImagesCount > 0) {
                console.warn(` [ADMIN] ${skippedImagesCount} large image(s) were skipped to avoid 413 error.`);
            }
            // Update variants with processed images
            let variantImageIndex = 0;
            variants.forEach((variant)=>{
                if (variant.imageUrl) {
                    const imageUrls = variant.imageUrl.split(',').map((url)=>url.trim()).filter(Boolean);
                    const processedUrls = processedVariantImages.slice(variantImageIndex, variantImageIndex + imageUrls.length);
                    variant.imageUrl = processedUrls.join(',');
                    variantImageIndex += imageUrls.length;
                }
            });
            // Build final media array with proper order
            const finalMedia = [];
            if (formData.imageUrls.length > 0) {
                // Use mainImageMapping which preserves positions
                // Map it back to formData.imageUrls indices
                const processedImageUrls = [];
                formData.imageUrls.forEach((originalUrl, index)=>{
                    if (!originalUrl || !originalUrl.trim()) {
                        return; // Skip empty URLs
                    }
                    // Find corresponding processed image in mainImageMapping
                    // mainImageMapping is in the same order as mainImages (which is formData.imageUrls)
                    const mainImagesIndex = mainImages.indexOf(originalUrl);
                    if (mainImagesIndex >= 0 && mainImagesIndex < mainImageMapping.length) {
                        const processedImg = mainImageMapping[mainImagesIndex];
                        if (processedImg) {
                            processedImageUrls[index] = processedImg;
                        }
                    // If null, image was skipped - don't add it to finalMedia
                    }
                });
                // Add featured image first (main image)
                if (processedImageUrls[formData.featuredImageIndex]) {
                    finalMedia.push(processedImageUrls[formData.featuredImageIndex]);
                }
                // Add other images in order (skip null/undefined)
                processedImageUrls.forEach((url, index)=>{
                    if (index !== formData.featuredImageIndex && url) {
                        finalMedia.push(url);
                    }
                });
            } else if (formData.mainProductImage) {
                // Fallback to legacy mainProductImage
                const mainImgProcessed = mainImageMapping[0];
                if (mainImgProcessed) {
                    finalMedia.push(mainImgProcessed);
                }
            }
            if (finalMedia.length > 0) {
                payload.media = finalMedia;
            }
            // Also add mainProductImage as separate field for easier access
            // Use featured image from imageUrls if available
            const mainImage = formData.imageUrls.length > 0 && mainImageMapping.length > formData.featuredImageIndex ? mainImageMapping[formData.featuredImageIndex] : mainImageMapping.length > 0 ? mainImageMapping[0] : formData.mainProductImage;
            if (mainImage) {
                payload.mainProductImage = mainImage;
            }
            // Add labels
            payload.labels = (formData.labels || []).filter((label)=>label.value && label.value.trim() !== '').map((label)=>({
                    type: label.type,
                    value: label.value.trim(),
                    position: label.position,
                    color: label.color || null
                }));
            console.log(' [ADMIN] Sending payload:', JSON.stringify(payload, null, 2));
            if (isEditMode && productId) {
                // Update existing product
                const product = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].put(`/api/v1/admin/products/${productId}`, payload);
                console.log(' [ADMIN] Product updated:', product);
                const baseMessage = '  !';
                const extra = creationMessages.length ? `\n\n${creationMessages.join('\n')}` : '';
                alert(`${baseMessage}${extra}`);
            } else {
                // Create new product
                const product = await __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$lib$2f$api$2d$client$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["apiClient"].post('/api/v1/admin/products', payload);
                console.log(' [ADMIN] Product created:', product);
                const baseMessage = '  !';
                const extra = creationMessages.length ? `\n\n${creationMessages.join('\n')}` : '';
                alert(`${baseMessage}${extra}`);
            }
            router.push('/admin/products');
        } catch (err) {
            console.error(' [ADMIN] Error saving product:', err);
            // Extract error message from API response
            let errorMessage = isEditMode ? '  ' : '  ';
            // Try different error response formats
            if (err?.data?.detail) {
                errorMessage = err.data.detail;
            } else if (err?.response?.data?.detail) {
                errorMessage = err.response.data.detail;
            } else if (err?.message) {
                // If error message contains HTML, try to extract meaningful text
                if (err.message.includes('<!DOCTYPE') || err.message.includes('<html')) {
                    // Try to extract MongoDB error from HTML
                    const mongoErrorMatch = err.message.match(/MongoServerError[^<]+/);
                    if (mongoErrorMatch) {
                        errorMessage = `  : ${mongoErrorMatch[0]}`;
                    } else {
                        errorMessage = '  : SKU-      :';
                    }
                } else {
                    errorMessage = err.message;
                }
            }
        // Error logged to console
        } finally{
            setLoading(false);
        }
    };
    if (isLoading || loadingProduct) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "min-h-screen flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 2669,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-gray-600",
                        children: loadingProduct ? t('admin.products.add.loadingProduct') : t('admin.products.add.loading')
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 2670,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 2668,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
            lineNumber: 2667,
            columnNumber: 7
        }, this);
    }
    if (!isLoggedIn || !isAdmin) {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "min-h-screen bg-gray-50 py-8",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$PageHeader$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PageHeader"], {
                            isEditMode: isEditMode
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                            lineNumber: 2686,
                            columnNumber: 11
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$Card$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Card"], {
                            className: "p-6 pb-24 sm:pb-24",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
                                onSubmit: handleSubmit,
                                className: "space-y-14",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$BasicInformation$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BasicInformation"], {
                                        productType: productType,
                                        setProductType: setProductType,
                                        title: formData.title,
                                        slug: formData.slug,
                                        descriptionHtml: formData.descriptionHtml,
                                        onTitleChange: handleTitleChange,
                                        onSlugChange: (e)=>setFormData((prev)=>({
                                                    ...prev,
                                                    slug: e.target.value
                                                })),
                                        onDescriptionChange: (e)=>setFormData((prev)=>({
                                                    ...prev,
                                                    descriptionHtml: e.target.value
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2691,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductImages$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ProductImages"], {
                                        imageUrls: formData.imageUrls,
                                        featuredImageIndex: formData.featuredImageIndex,
                                        imageUploadLoading: imageUploadLoading,
                                        imageUploadError: imageUploadError,
                                        fileInputRef: fileInputRef,
                                        onUploadImages: handleUploadImages,
                                        onRemoveImage: removeImageUrl,
                                        onSetFeaturedImage: setFeaturedImage
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2703,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$CategoriesBrands$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CategoriesBrands"], {
                                        categories: categories,
                                        brands: brands,
                                        categoryIds: formData.categoryIds,
                                        brandIds: formData.brandIds,
                                        categoriesExpanded: categoriesExpanded,
                                        brandsExpanded: brandsExpanded,
                                        useNewCategory: useNewCategory,
                                        useNewBrand: useNewBrand,
                                        newCategoryName: newCategoryName,
                                        newBrandName: newBrandName,
                                        onCategoriesExpandedChange: setCategoriesExpanded,
                                        onBrandsExpandedChange: setBrandsExpanded,
                                        onUseNewCategoryChange: setUseNewCategory,
                                        onUseNewBrandChange: setUseNewBrand,
                                        onNewCategoryNameChange: setNewCategoryName,
                                        onNewBrandNameChange: setNewBrandName,
                                        onCategoryIdsChange: (ids)=>setFormData((prev)=>({
                                                    ...prev,
                                                    categoryIds: ids
                                                })),
                                        onBrandIdsChange: (ids)=>setFormData((prev)=>({
                                                    ...prev,
                                                    brandIds: ids
                                                })),
                                        onPrimaryCategoryIdChange: (id)=>setFormData((prev)=>({
                                                    ...prev,
                                                    primaryCategoryId: id
                                                })),
                                        isClothingCategory: isClothingCategory,
                                        onVariantsUpdate: (updater)=>setFormData((prev)=>({
                                                    ...prev,
                                                    variants: updater(prev.variants)
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2715,
                                        columnNumber: 13
                                    }, this),
                                    productType === 'simple' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$SimpleProductFields$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["SimpleProductFields"], {
                                        price: simpleProductData.price,
                                        compareAtPrice: simpleProductData.compareAtPrice,
                                        sku: simpleProductData.sku,
                                        quantity: simpleProductData.quantity,
                                        defaultCurrency: defaultCurrency,
                                        onPriceChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    price: value
                                                })),
                                        onCompareAtPriceChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    compareAtPrice: value
                                                })),
                                        onSkuChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    sku: value
                                                })),
                                        onQuantityChange: (value)=>setSimpleProductData((prev)=>({
                                                    ...prev,
                                                    quantity: value
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2741,
                                        columnNumber: 15
                                    }, this),
                                    productType === 'variable' && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$AttributesSelection$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AttributesSelection"], {
                                        attributes: attributes,
                                        selectedAttributesForVariants: selectedAttributesForVariants,
                                        selectedAttributeValueIds: selectedAttributeValueIds,
                                        attributesDropdownOpen: attributesDropdownOpen,
                                        attributesDropdownRef: attributesDropdownRef,
                                        onAttributesDropdownToggle: ()=>setAttributesDropdownOpen(!attributesDropdownOpen),
                                        onAttributeToggle: (attributeId, checked)=>{
                                            const newSet = new Set(selectedAttributesForVariants);
                                            if (checked) {
                                                newSet.add(attributeId);
                                            } else {
                                                newSet.delete(attributeId);
                                                const newValueIds = {
                                                    ...selectedAttributeValueIds
                                                };
                                                delete newValueIds[attributeId];
                                                setSelectedAttributeValueIds(newValueIds);
                                            }
                                            setSelectedAttributesForVariants(newSet);
                                        },
                                        onAttributeRemove: (attributeId)=>{
                                            const newSet = new Set(selectedAttributesForVariants);
                                            newSet.delete(attributeId);
                                            const newValueIds = {
                                                ...selectedAttributeValueIds
                                            };
                                            delete newValueIds[attributeId];
                                            setSelectedAttributeValueIds(newValueIds);
                                            setSelectedAttributesForVariants(newSet);
                                        }
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2756,
                                        columnNumber: 15
                                    }, this),
                                    productType === 'variable' && (isEditMode && (generatedVariants.length > 0 || hasVariantsToLoad) || selectedAttributesForVariants.size > 0) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$VariantBuilder$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["VariantBuilder"], {
                                        generatedVariants: generatedVariants,
                                        attributes: attributes,
                                        selectedAttributesForVariants: selectedAttributesForVariants,
                                        isEditMode: isEditMode,
                                        hasVariantsToLoad: hasVariantsToLoad,
                                        defaultCurrency: defaultCurrency,
                                        imageUploadLoading: imageUploadLoading,
                                        slug: formData.slug,
                                        title: formData.title,
                                        variantImageInputRefs: variantImageInputRefs,
                                        onVariantUpdate: setGeneratedVariants,
                                        onVariantDelete: (variantId)=>{
                                            setGeneratedVariants((prev)=>prev.filter((v)=>v.id !== variantId));
                                        },
                                        onVariantAdd: ()=>{
                                            const newVariant = {
                                                id: `variant-${Date.now()}-${Math.random()}`,
                                                selectedValueIds: [],
                                                price: '0.00',
                                                compareAtPrice: '0.00',
                                                stock: '0',
                                                sku: 'PROD',
                                                image: null
                                            };
                                            setGeneratedVariants((prev)=>{
                                                const updated = [
                                                    ...prev,
                                                    newVariant
                                                ];
                                                console.log(' [VARIANT BUILDER] New manual variant added:', {
                                                    newVariantId: newVariant.id,
                                                    totalVariants: updated.length,
                                                    manualVariants: updated.filter((v)=>v.id !== 'variant-all').length,
                                                    autoVariants: updated.filter((v)=>v.id === 'variant-all').length
                                                });
                                                return updated;
                                            });
                                        },
                                        onApplyToAll: applyToAllVariants,
                                        onVariantImageUpload: handleUploadVariantImage,
                                        onOpenValueModal: setOpenValueModal,
                                        generateSlug: __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$utils$2f$productUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["generateSlug"]
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2790,
                                        columnNumber: 17
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ProductLabels$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ProductLabels"], {
                                        labels: formData.labels,
                                        onAddLabel: addLabel,
                                        onRemoveLabel: removeLabel,
                                        onUpdateLabel: updateLabel
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2834,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$Publishing$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Publishing"], {
                                        featured: formData.featured,
                                        onFeaturedChange: (featured)=>setFormData((prev)=>({
                                                    ...prev,
                                                    featured
                                                }))
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2842,
                                        columnNumber: 13
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$FormActions$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["FormActions"], {
                                        loading: loading,
                                        isEditMode: isEditMode
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                        lineNumber: 2848,
                                        columnNumber: 13
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                                lineNumber: 2689,
                                columnNumber: 11
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                            lineNumber: 2688,
                            columnNumber: 11
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                    lineNumber: 2685,
                    columnNumber: 9
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 2683,
                columnNumber: 7
            }, this),
            openValueModal && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$app$2f$admin$2f$products$2f$add$2f$components$2f$ValueSelectionModal$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ValueSelectionModal"], {
                openValueModal: openValueModal,
                variant: generatedVariants.find((v)=>v.id === openValueModal.variantId),
                attribute: attributes.find((a)=>a.id === openValueModal.attributeId),
                selectedAttributeValueIds: selectedAttributeValueIds,
                onClose: ()=>setOpenValueModal(null),
                onVariantUpdate: setGeneratedVariants,
                onAttributeValueIdsUpdate: setSelectedAttributeValueIds
            }, void 0, false, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 2856,
                columnNumber: 9
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
        lineNumber: 2682,
        columnNumber: 5
    }, this);
}
function AddProductPage() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Suspense"], {
        fallback: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "min-h-screen bg-gray-50 flex items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 2875,
                        columnNumber: 11
                    }, void 0),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "text-sm text-gray-600",
                        children: "Loading..."
                    }, void 0, false, {
                        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                        lineNumber: 2876,
                        columnNumber: 11
                    }, void 0)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
                lineNumber: 2874,
                columnNumber: 9
            }, void 0)
        }, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
            lineNumber: 2873,
            columnNumber: 7
        }, void 0),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(AddProductPageContent, {}, void 0, false, {
            fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
            lineNumber: 2880,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/app/admin/products/add/page.tsx",
        lineNumber: 2872,
        columnNumber: 5
    }, this);
}
}),
];

//# sourceMappingURL=_4e253eff._.js.map