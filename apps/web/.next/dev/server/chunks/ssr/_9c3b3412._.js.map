{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Button.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { ButtonHTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n  function Button(\r\n    { variant = 'primary', size = 'md', className = '', children, ...props },\r\n    ref\r\n  ): ReactElement {\r\n    const baseStyles = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n    \r\n    const variantStyles = {\r\n      primary: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-900',\r\n      secondary: 'bg-white text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      outline: 'bg-transparent text-gray-900 border border-gray-300 hover:bg-gray-50 focus:ring-gray-500',\r\n      ghost: 'bg-transparent text-gray-900 hover:bg-gray-100 focus:ring-gray-500',\r\n    };\r\n    \r\n    const sizeStyles = {\r\n      sm: 'px-3 py-1.5 text-sm',\r\n      md: 'px-4 py-2 text-base',\r\n      lg: 'px-6 py-3 text-lg',\r\n    };\r\n    \r\n    return (\r\n      <button\r\n        ref={ref}\r\n        className={`${baseStyles} ${variantStyles[variant]} ${sizeStyles[size]} ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </button>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAUO,MAAM,uBAAS,IAAA,mNAAU,EAC9B,SAAS,OACP,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EACxE,GAAG;IAEH,MAAM,aAAa;IAEnB,MAAM,gBAAgB;QACpB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,aAAa;QACjB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,GAAG,WAAW,CAAC,EAAE,aAAa,CAAC,QAAQ,CAAC,CAAC,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC,EAAE,WAAW;QACpF,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Card.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { HTMLAttributes, forwardRef, ReactElement } from 'react';\r\n\r\ninterface CardProps extends HTMLAttributes<HTMLDivElement> {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Card = forwardRef<HTMLDivElement, CardProps>(\r\n  function Card({ className = '', children, ...props }, ref): ReactElement {\r\n    return (\r\n      <div\r\n        ref={ref}\r\n        className={`bg-white border border-gray-200 rounded-lg shadow-sm ${className}`}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAQO,MAAM,qBAAO,IAAA,mNAAU,EAC5B,SAAS,KAAK,EAAE,YAAY,EAAE,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,GAAG;IACvD,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,CAAC,qDAAqD,EAAE,WAAW;QAC7E,GAAG,KAAK;kBAER;;;;;;AAGP"}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/Input.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { InputHTMLAttributes, forwardRef } from 'react';\r\n\r\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\r\n  label?: string;\r\n  error?: string;\r\n}\r\n\r\nexport const Input = forwardRef<HTMLInputElement, InputProps>(\r\n  function Input({ label, error, className = '', onKeyDown, ...props }, ref) {\r\n    // Ensure pipe character (|) works in all input fields\r\n    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n      // Allow pipe character (|) - key code 220 or Shift+Backslash\r\n      if (e.key === '|' || e.keyCode === 220 || (e.shiftKey && e.key === '\\\\')) {\r\n        // Allow the default behavior for pipe character\r\n        return;\r\n      }\r\n      \r\n      // Call original onKeyDown if provided\r\n      if (onKeyDown) {\r\n        onKeyDown(e);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"w-full\">\r\n        {label && (\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            {label}\r\n          </label>\r\n        )}\r\n        <input\r\n          ref={ref}\r\n          className={`w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent disabled:bg-gray-50 disabled:cursor-not-allowed ${\r\n            error ? 'border-error focus:ring-error' : 'border-gray-300'\r\n          } ${className}`}\r\n          onKeyDown={handleKeyDown}\r\n          {...props}\r\n        />\r\n        {error && (\r\n          <p className=\"mt-1 text-sm text-error\">{error}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AASO,MAAM,sBAAQ,IAAA,mNAAU,EAC7B,SAAS,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,YAAY,EAAE,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,GAAG;IACvE,sDAAsD;IACtD,MAAM,gBAAgB,CAAC;QACrB,6DAA6D;QAC7D,IAAI,EAAE,GAAG,KAAK,OAAO,EAAE,OAAO,KAAK,OAAQ,EAAE,QAAQ,IAAI,EAAE,GAAG,KAAK,MAAO;YACxE,gDAAgD;YAChD;QACF;QAEA,sCAAsC;QACtC,IAAI,WAAW;YACb,UAAU;QACZ;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBACC,8OAAC;gBAAM,WAAU;0BACd;;;;;;0BAGL,8OAAC;gBACC,KAAK;gBACL,WAAW,CAAC,gKAAgK,EAC1K,QAAQ,kCAAkC,kBAC3C,CAAC,EAAE,WAAW;gBACf,WAAW;gBACV,GAAG,KAAK;;;;;;YAEV,uBACC,8OAAC;gBAAE,WAAU;0BAA2B;;;;;;;;;;;;AAIhD"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/packages/ui/index.ts"],"sourcesContent":["export { Button } from './Button';\r\nexport { Card } from './Card';\r\nexport { Input } from './Input';\r\n\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/PriceFilter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Card } from '@shop/ui';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage } from '../lib/language';\r\nimport { getStoredCurrency, formatPrice as formatCurrencyPrice, type CurrencyCode } from '../lib/currency';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface PriceFilterProps {\r\n  currentMinPrice?: string;\r\n  currentMaxPrice?: string;\r\n  category?: string;\r\n  search?: string;\r\n}\r\n\r\ninterface PriceRange {\r\n  min: number;\r\n  max: number;\r\n  stepSize?: number | null;\r\n  stepSizePerCurrency?: Partial<Record<CurrencyCode, number>> | null;\r\n}\r\n\r\nexport function PriceFilter({ currentMinPrice, currentMaxPrice, category }: PriceFilterProps) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { t } = useTranslation();\r\n  const [priceRange, setPriceRange] = useState<PriceRange>({\r\n    min: 0,\r\n    max: 100000,\r\n    stepSize: null,\r\n    stepSizePerCurrency: null,\r\n  });\r\n  const [minPrice, setMinPrice] = useState(currentMinPrice ? parseFloat(currentMinPrice) : 0);\r\n  const [maxPrice, setMaxPrice] = useState(currentMaxPrice ? parseFloat(currentMaxPrice) : 100000);\r\n  const [isDragging, setIsDragging] = useState<'min' | 'max' | null>(null);\r\n  const [currency, setCurrency] = useState<CurrencyCode>('USD'); // Default –¥–ª—è SSR\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Helper function to round value to step size\r\n  const roundToStep = (value: number, step: number | null | undefined): number => {\r\n    if (!step || step <= 0) return Math.round(value);\r\n    return Math.round(value / step) * step;\r\n  };\r\n\r\n  // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞–ª—é—Ç—É —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–µ–π\r\n  useEffect(() => {\r\n    const updateCurrency = () => {\r\n      setCurrency(getStoredCurrency());\r\n    };\r\n    \r\n    // –ó–∞–≥—Ä—É–∂–∞–µ–º –≤–∞–ª—é—Ç—É –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\r\n    updateCurrency();\r\n    \r\n    // –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∞–ª—é—Ç—ã\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener('currency-updated', updateCurrency);\r\n      return () => {\r\n        window.removeEventListener('currency-updated', updateCurrency);\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchPriceRange();\r\n  }, [category]);\r\n\r\n  useEffect(() => {\r\n    if (currentMinPrice) {\r\n      setMinPrice(parseFloat(currentMinPrice));\r\n    } else {\r\n      setMinPrice(priceRange.min);\r\n    }\r\n    if (currentMaxPrice) {\r\n      setMaxPrice(parseFloat(currentMaxPrice));\r\n    } else {\r\n      setMaxPrice(priceRange.max);\r\n    }\r\n  }, [currentMinPrice, currentMaxPrice, priceRange]);\r\n\r\n  const fetchPriceRange = async () => {\r\n    try {\r\n      const language = getStoredLanguage();\r\n      const params: Record<string, string> = { lang: language };\r\n      if (category) params.category = category;\r\n\r\n      const response = await apiClient.get<PriceRange>('/api/v1/products/price-range', { params });\r\n      setPriceRange(response);\r\n      if (!currentMinPrice) setMinPrice(response.min);\r\n      if (!currentMaxPrice) setMaxPrice(response.max);\r\n    } catch (error) {\r\n      console.error('Error fetching price range:', error);\r\n    }\r\n  };\r\n\r\n  const resolveStepSize = (): number => {\r\n    const perCurrency = priceRange.stepSizePerCurrency || {};\r\n    const currencyStep = perCurrency[currency];\r\n    if (currencyStep && currencyStep > 0) {\r\n      return currencyStep;\r\n    }\r\n    if (priceRange.stepSize && priceRange.stepSize > 0) {\r\n      return priceRange.stepSize;\r\n    }\r\n    return 1;\r\n  };\r\n\r\n  const getPercentage = (value: number) => {\r\n    return ((value - priceRange.min) / (priceRange.max - priceRange.min)) * 100;\r\n  };\r\n\r\n  const handleMouseDown = (type: 'min' | 'max') => {\r\n    setIsDragging(type);\r\n  };\r\n\r\n  const updatePrice = (clientX: number) => {\r\n    if (!sliderRef.current) return;\r\n\r\n    const rect = sliderRef.current.getBoundingClientRect();\r\n    const percentage = Math.max(0, Math.min(100, ((clientX - rect.left) / rect.width) * 100));\r\n    const value = priceRange.min + (percentage / 100) * (priceRange.max - priceRange.min);\r\n    const step = resolveStepSize();\r\n    const roundedValue = roundToStep(value, step);\r\n\r\n    if (isDragging === 'min') {\r\n      const currentMax = typeof maxPrice === 'number' && !isNaN(maxPrice) ? maxPrice : priceRange.max;\r\n      const newMin = Math.max(priceRange.min, Math.min(roundedValue, currentMax - step));\r\n      setMinPrice(newMin);\r\n    } else if (isDragging === 'max') {\r\n      const currentMin = typeof minPrice === 'number' && !isNaN(minPrice) ? minPrice : priceRange.min;\r\n      const newMax = Math.min(priceRange.max, Math.max(roundedValue, currentMin + step));\r\n      setMaxPrice(newMax);\r\n    }\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => {\r\n    if (!isDragging) return;\r\n    updatePrice(e.clientX);\r\n  };\r\n\r\n  const handleTouchMove = (e: TouchEvent) => {\r\n    if (!isDragging || e.touches.length === 0) return;\r\n    updatePrice(e.touches[0].clientX);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(null);\r\n  };\r\n\r\n  const handleTouchEnd = () => {\r\n    setIsDragging(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isDragging) {\r\n      document.addEventListener('mousemove', handleMouseMove);\r\n      document.addEventListener('mouseup', handleMouseUp);\r\n      document.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n      document.addEventListener('touchend', handleTouchEnd);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleMouseMove);\r\n        document.removeEventListener('mouseup', handleMouseUp);\r\n        document.removeEventListener('touchmove', handleTouchMove);\r\n        document.removeEventListener('touchend', handleTouchEnd);\r\n      };\r\n    }\r\n  }, [isDragging, minPrice, maxPrice, priceRange]);\r\n\r\n  // Auto-apply filter when dragging ends\r\n  useEffect(() => {\r\n    if (!isDragging) {\r\n      // Only apply if values have changed from initial/default\r\n      const shouldApplyMin = minPrice !== priceRange.min;\r\n      const shouldApplyMax = maxPrice !== priceRange.max;\r\n      \r\n      if (shouldApplyMin || shouldApplyMax) {\r\n        // ’ç’ø’•’≤’Æ’∏÷Ç’¥ ’•’∂÷Ñ ’∂’∏÷Ä URLSearchParams URL-’´ ’∞’´’¥’°’∂ ’æ÷Ä’°, ’∏÷Ä’∫’•’Ω’¶’´ ’∫’°’∞’∫’°’∂’•’∂÷Ñ ’¢’∏’¨’∏÷Ä params-’∂’•÷Ä’®\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        \r\n        if (shouldApplyMin) {\r\n          params.set('minPrice', minPrice.toString());\r\n        } else {\r\n          params.delete('minPrice');\r\n        }\r\n        \r\n        if (shouldApplyMax) {\r\n          params.set('maxPrice', maxPrice.toString());\r\n        } else {\r\n          params.delete('maxPrice');\r\n        }\r\n        \r\n        // Reset page to 1 when filters change\r\n        params.delete('page');\r\n        \r\n        // Use a small delay to debounce rapid changes\r\n        const timeoutId = setTimeout(() => {\r\n          router.push(`/products?${params.toString()}`);\r\n        }, 300);\r\n        \r\n        return () => clearTimeout(timeoutId);\r\n      }\r\n    }\r\n  }, [isDragging, minPrice, maxPrice, priceRange, searchParams, router]);\r\n\r\n  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ currency.ts –¥–ª—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏\r\n  const formatPrice = (price: number) => {\r\n    if (typeof price !== 'number' || isNaN(price) || !isFinite(price)) {\r\n      return formatCurrencyPrice(0, currency);\r\n    }\r\n    return formatCurrencyPrice(price, currency);\r\n  };\r\n\r\n  const safeMinPrice: number = typeof minPrice === 'number' && !isNaN(minPrice) && isFinite(minPrice) ? minPrice : 0;\r\n  const safeMaxPrice: number = typeof maxPrice === 'number' && !isNaN(maxPrice) && isFinite(maxPrice) ? maxPrice : 100000;\r\n  \r\n  const minPercentage = getPercentage(safeMinPrice);\r\n  const maxPercentage = getPercentage(safeMaxPrice);\r\n\r\n  return (\r\n    <Card className=\"p-4 mb-6\">\r\n      <h3 className=\"text-base font-bold text-gray-800 mb-4 text-center uppercase tracking-wide\">{t('products.filters.price.title')}</h3>\r\n      \r\n      {/* Range Slider */}\r\n      <div className=\"mb-4\">\r\n        <div\r\n          ref={sliderRef}\r\n          className=\"relative h-1 bg-gray-200 cursor-pointer\"\r\n          onMouseDown={(e) => {\r\n            const rect = sliderRef.current?.getBoundingClientRect();\r\n            if (!rect) return;\r\n            const percentage = ((e.clientX - rect.left) / rect.width) * 100;\r\n    const value = priceRange.min + (percentage / 100) * (priceRange.max - priceRange.min);\r\n    const step = resolveStepSize();\r\n            const roundedValue = roundToStep(value, step);\r\n            \r\n            const currentMin = typeof minPrice === 'number' && !isNaN(minPrice) ? minPrice : priceRange.min;\r\n            const currentMax = typeof maxPrice === 'number' && !isNaN(maxPrice) ? maxPrice : priceRange.max;\r\n            \r\n            if (Math.abs(roundedValue - currentMin) < Math.abs(roundedValue - currentMax)) {\r\n              const newMin = Math.max(priceRange.min, Math.min(roundedValue, currentMax - step));\r\n              setMinPrice(newMin);\r\n              handleMouseDown('min');\r\n            } else {\r\n              const newMax = Math.min(priceRange.max, Math.max(roundedValue, currentMin + step));\r\n              setMaxPrice(newMax);\r\n              handleMouseDown('max');\r\n            }\r\n          }}\r\n        >\r\n          {/* Active range - light blue */}\r\n          <div\r\n            className=\"absolute h-1 bg-sky-400\"\r\n            style={{\r\n              left: `${minPercentage}%`,\r\n              width: `${maxPercentage - minPercentage}%`,\r\n            }}\r\n          />\r\n          \r\n          {/* Min handle - T-shaped marker */}\r\n          <div\r\n            className=\"absolute cursor-grab active:cursor-grabbing z-10\"\r\n            style={{ left: `${minPercentage}%`, top: '50%', transform: 'translate(-50%, -50%)' }}\r\n            onMouseDown={(e) => {\r\n              e.stopPropagation();\r\n              handleMouseDown('min');\r\n            }}\r\n            onTouchStart={(e) => {\r\n              e.stopPropagation();\r\n              handleMouseDown('min');\r\n            }}\r\n          >\r\n            {/* T-shaped marker - vertical line extending above and below the horizontal line */}\r\n            <div className=\"w-1 h-5 bg-sky-400\" />\r\n          </div>\r\n          \r\n          {/* Max handle - T-shaped marker */}\r\n          <div\r\n            className=\"absolute cursor-grab active:cursor-grabbing z-10\"\r\n            style={{ left: `${maxPercentage}%`, top: '50%', transform: 'translate(-50%, -50%)' }}\r\n            onMouseDown={(e) => {\r\n              e.stopPropagation();\r\n              handleMouseDown('max');\r\n            }}\r\n            onTouchStart={(e) => {\r\n              e.stopPropagation();\r\n              handleMouseDown('max');\r\n            }}\r\n          >\r\n            {/* T-shaped marker - vertical line extending above and below the horizontal line */}\r\n            <div className=\"w-1 h-5 bg-sky-400\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Price Display */}\r\n      <div className=\"text-gray-700 text-center\">\r\n        <span className=\"text-sm text-gray-500\">{t('products.filters.price.priceLabel')} </span>\r\n        <span className=\"text-sm font-semibold text-gray-900\">\r\n          {formatPrice(Number(safeMinPrice) || 0)} - {formatPrice(Number(safeMaxPrice) || 100000)}\r\n        </span>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 501, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/lib/colorMap.ts"],"sourcesContent":["// Shared color map for common color names used in filters and admin UI\r\n// This helps render consistent color circles/palette based on color labels.\r\n\r\nconst COLOR_MAP: Record<string, string> = {\r\n  beige: '#F5F5DC',\r\n  black: '#000000',\r\n  blue: '#0000FF',\r\n  brown: '#A52A2A',\r\n  gray: '#808080',\r\n  grey: '#808080',\r\n  green: '#008000',\r\n  red: '#FF0000',\r\n  white: '#FFFFFF',\r\n  yellow: '#FFFF00',\r\n  orange: '#FFA500',\r\n  pink: '#FFC0CB',\r\n  purple: '#800080',\r\n  navy: '#000080',\r\n  maroon: '#800000',\r\n  teal: '#008080',\r\n  cyan: '#00FFFF',\r\n  magenta: '#FF00FF',\r\n  lime: '#00FF00',\r\n  olive: '#808000',\r\n  silver: '#C0C0C0',\r\n  gold: '#FFD700',\r\n  tan: '#D2B48C',\r\n  khaki: '#F0E68C',\r\n  coral: '#FF7F50',\r\n  salmon: '#FA8072',\r\n  turquoise: '#40E0D0',\r\n  violet: '#EE82EE',\r\n  indigo: '#4B0082',\r\n  crimson: '#DC143C',\r\n  lavender: '#E6E6FA',\r\n  peach: '#FFE5B4',\r\n  mint: '#98FB98',\r\n  ivory: '#FFFFF0',\r\n  cream: '#FFFDD0',\r\n};\r\n\r\nexport function getColorHex(colorName: string): string {\r\n  const normalized = colorName.toLowerCase().trim();\r\n  return COLOR_MAP[normalized] || '#CCCCCC';\r\n}\r\n\r\nexport { COLOR_MAP };\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,uEAAuE;AACvE,4EAA4E;;;;;;;AAE5E,MAAM,YAAoC;IACxC,OAAO;IACP,OAAO;IACP,MAAM;IACN,OAAO;IACP,MAAM;IACN,MAAM;IACN,OAAO;IACP,KAAK;IACL,OAAO;IACP,QAAQ;IACR,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,MAAM;IACN,QAAQ;IACR,MAAM;IACN,MAAM;IACN,SAAS;IACT,MAAM;IACN,OAAO;IACP,QAAQ;IACR,MAAM;IACN,KAAK;IACL,OAAO;IACP,OAAO;IACP,QAAQ;IACR,WAAW;IACX,QAAQ;IACR,QAAQ;IACR,SAAS;IACT,UAAU;IACV,OAAO;IACP,MAAM;IACN,OAAO;IACP,OAAO;AACT;AAEO,SAAS,YAAY,SAAiB;IAC3C,MAAM,aAAa,UAAU,WAAW,GAAG,IAAI;IAC/C,OAAO,SAAS,CAAC,WAAW,IAAI;AAClC"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ColorFilter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Card } from '@shop/ui';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage } from '../lib/language';\r\nimport { getColorHex } from '../lib/colorMap';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface ColorFilterProps {\r\n  category?: string;\r\n  search?: string;\r\n  minPrice?: string;\r\n  maxPrice?: string;\r\n  selectedColors?: string[];\r\n}\r\n\r\ninterface ColorOption {\r\n  value: string;\r\n  label: string;\r\n  count: number;\r\n  imageUrl?: string | null;\r\n  colors?: string[] | null;\r\n}\r\n\r\nexport function ColorFilter({ category, search, minPrice, maxPrice, selectedColors = [] }: ColorFilterProps) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { t } = useTranslation();\r\n  const [colors, setColors] = useState<ColorOption[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selected, setSelected] = useState<string[]>(selectedColors);\r\n\r\n  useEffect(() => {\r\n    fetchColors();\r\n  }, [category, search, minPrice, maxPrice]);\r\n\r\n  useEffect(() => {\r\n    setSelected(selectedColors);\r\n  }, [selectedColors]);\r\n\r\n  const fetchColors = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const language = getStoredLanguage();\r\n      const params: Record<string, string> = {\r\n        lang: language,\r\n      };\r\n      \r\n      if (category) params.category = category;\r\n      if (search) params.search = search;\r\n      if (minPrice) params.minPrice = minPrice;\r\n      if (maxPrice) params.maxPrice = maxPrice;\r\n\r\n      // Fetch filters from API\r\n      const response = await apiClient.get<{ colors: ColorOption[]; sizes: any[] }>('/api/v1/products/filters', { params });\r\n      \r\n      setColors(response.colors || []);\r\n    } catch (error) {\r\n      setColors([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleColorToggle = (colorValue: string) => {\r\n    const newSelected = selected.includes(colorValue)\r\n      ? selected.filter((c) => c !== colorValue)\r\n      : [...selected, colorValue];\r\n\r\n    setSelected(newSelected);\r\n    applyFilters(newSelected);\r\n  };\r\n\r\n  const applyFilters = (colorsToApply: string[]) => {\r\n    // ’ç’ø’•’≤’Æ’∏÷Ç’¥ ’•’∂÷Ñ ’∂’∏÷Ä URLSearchParams URL-’´ ’∞’´’¥’°’∂ ’æ÷Ä’°, ’∏÷Ä’∫’•’Ω’¶’´ ’∫’°’∞’∫’°’∂’•’∂÷Ñ ’¢’∏’¨’∏÷Ä params-’∂’•÷Ä’®\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    \r\n    // ‘π’°÷Ä’¥’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ colors ’∫’°÷Ä’°’¥’•’ø÷Ä’®\r\n    if (colorsToApply.length > 0) {\r\n      params.set('colors', colorsToApply.join(','));\r\n    } else {\r\n      params.delete('colors');\r\n    }\r\n    \r\n    // Reset page to 1 when filters change\r\n    params.delete('page');\r\n\r\n    router.push(`/products?${params.toString()}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className=\"p-4 mb-6\">\r\n        <h3 className=\"text-base font-bold text-gray-800 mb-4 uppercase tracking-wide\">{t('products.filters.color.title')}</h3>\r\n        <div className=\"text-sm text-gray-500\">{t('products.filters.color.loading')}</div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-4 mb-6\">\r\n      <h3 className=\"text-base font-bold text-gray-800 mb-4 uppercase tracking-wide\">{t('products.filters.color.title')}</h3>\r\n      {colors.length === 0 ? (\r\n        <div className=\"text-sm text-gray-500 py-4 text-center\">\r\n          {t('products.filters.color.noColors')}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n          {colors.map((color) => {\r\n            const isSelected = selected.includes(color.value);\r\n            // Determine color hex: use colors[0] if available, otherwise use getColorHex\r\n            const colorHex = color.colors && Array.isArray(color.colors) && color.colors.length > 0 \r\n              ? color.colors[0] \r\n              : getColorHex(color.label);\r\n            const hasImage = color.imageUrl && color.imageUrl.trim() !== '';\r\n\r\n            return (\r\n              <button\r\n                key={color.value}\r\n                type=\"button\"\r\n                onClick={() => handleColorToggle(color.value)}\r\n                aria-pressed={isSelected}\r\n                className={`w-full flex items-center justify-between py-2 px-1 rounded transition-colors group ${\r\n                  isSelected\r\n                    ? 'bg-blue-50 hover:bg-blue-100 border border-blue-200'\r\n                    : 'hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div\r\n                    className={`w-4 h-4 rounded-full border flex-shrink-0 overflow-hidden ${\r\n                      isSelected ? 'border-blue-500 border-2' : 'border-gray-300'\r\n                    }`}\r\n                    style={hasImage ? {} : { backgroundColor: colorHex }}\r\n                    aria-label={color.label}\r\n                  >\r\n                    {hasImage ? (\r\n                      <img \r\n                        src={color.imageUrl!} \r\n                        alt={color.label}\r\n                        className=\"w-full h-full object-cover\"\r\n                        onError={(e) => {\r\n                          // Fallback to color hex if image fails to load\r\n                          (e.target as HTMLImageElement).style.backgroundColor = colorHex;\r\n                          (e.target as HTMLImageElement).style.display = 'none';\r\n                        }}\r\n                      />\r\n                    ) : null}\r\n                  </div>\r\n                  <span\r\n                    className={`text-sm group-hover:text-gray-700 ${\r\n                      isSelected ? 'text-blue-900 font-medium' : 'text-gray-900'\r\n                    }`}\r\n                  >\r\n                    {color.label}\r\n                  </span>\r\n                </div>\r\n                <span\r\n                  className={`text-xs px-2 py-0.5 rounded-full ${\r\n                    isSelected\r\n                      ? 'text-blue-700 bg-blue-100'\r\n                      : 'text-gray-500 bg-gray-100'\r\n                  }`}\r\n                >\r\n                  {color.count}\r\n                </span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 771, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/SizeFilter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Card } from '@shop/ui';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage } from '../lib/language';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface SizeFilterProps {\r\n  category?: string;\r\n  search?: string;\r\n  minPrice?: string;\r\n  maxPrice?: string;\r\n  selectedSizes?: string[];\r\n}\r\n\r\ninterface SizeOption {\r\n  value: string;\r\n  count: number;\r\n}\r\n\r\n\r\nexport function SizeFilter({ category, search, minPrice, maxPrice, selectedSizes = [] }: SizeFilterProps) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { t } = useTranslation();\r\n  const [sizes, setSizes] = useState<SizeOption[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selected, setSelected] = useState<string[]>(selectedSizes);\r\n\r\n  useEffect(() => {\r\n    fetchSizes();\r\n  }, [category, search, minPrice, maxPrice]);\r\n\r\n  useEffect(() => {\r\n    setSelected(selectedSizes);\r\n  }, [selectedSizes]);\r\n\r\n  const fetchSizes = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const language = getStoredLanguage();\r\n      const params: Record<string, string> = {\r\n        lang: language,\r\n      };\r\n      \r\n      if (category) params.category = category;\r\n      if (search) params.search = search;\r\n      if (minPrice) params.minPrice = minPrice;\r\n      if (maxPrice) params.maxPrice = maxPrice;\r\n\r\n      // Fetch filters from API\r\n      const response = await apiClient.get<{ colors: any[]; sizes: SizeOption[] }>('/api/v1/products/filters', { params });\r\n      \r\n      setSizes(response.sizes || []);\r\n    } catch (error) {\r\n      setSizes([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSizeToggle = (sizeValue: string) => {\r\n    const newSelected = selected.includes(sizeValue)\r\n      ? selected.filter((s) => s !== sizeValue)\r\n      : [...selected, sizeValue];\r\n\r\n    setSelected(newSelected);\r\n    applyFilters(newSelected);\r\n  };\r\n\r\n  const applyFilters = (sizesToApply: string[]) => {\r\n    // ’ç’ø’•’≤’Æ’∏÷Ç’¥ ’•’∂÷Ñ ’∂’∏÷Ä URLSearchParams URL-’´ ’∞’´’¥’°’∂ ’æ÷Ä’°, ’∏÷Ä’∫’•’Ω’¶’´ ’∫’°’∞’∫’°’∂’•’∂÷Ñ ’¢’∏’¨’∏÷Ä params-’∂’•÷Ä’®\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    \r\n    // ‘π’°÷Ä’¥’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ sizes ’∫’°÷Ä’°’¥’•’ø÷Ä’®\r\n    if (sizesToApply.length > 0) {\r\n      params.set('sizes', sizesToApply.join(','));\r\n    } else {\r\n      params.delete('sizes');\r\n    }\r\n    \r\n    // Reset page to 1 when filters change\r\n    params.delete('page');\r\n\r\n    router.push(`/products?${params.toString()}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className=\"p-4 mb-6\">\r\n        <h3 className=\"text-base font-bold text-gray-800 mb-4 uppercase tracking-wide\">{t('products.filters.size.title')}</h3>\r\n        <div className=\"text-sm text-gray-500\">{t('products.filters.size.loading')}</div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-4 mb-6\">\r\n      <h3 className=\"text-base font-bold text-gray-800 mb-4 uppercase tracking-wide\">{t('products.filters.size.title')}</h3>\r\n      {sizes.length === 0 ? (\r\n        <div className=\"text-sm text-gray-500 py-4 text-center\">\r\n          {t('products.filters.size.noSizes')}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n          {sizes.map((size) => {\r\n            const isSelected = selected.includes(size.value);\r\n\r\n            return (\r\n              <button\r\n                key={size.value}\r\n                onClick={() => handleSizeToggle(size.value)}\r\n                className={`w-full flex items-center justify-between py-2 px-1 rounded transition-colors group ${\r\n                  isSelected\r\n                    ? 'bg-blue-50 hover:bg-blue-100 border border-blue-200'\r\n                    : 'hover:bg-gray-50'\r\n                }`}\r\n              >\r\n                <span\r\n                  className={`text-sm group-hover:text-gray-700 ${\r\n                    isSelected ? 'text-blue-900 font-medium' : 'text-gray-900'\r\n                  }`}\r\n                >\r\n                  {size.value}\r\n                </span>\r\n                <span\r\n                  className={`text-xs px-2 py-0.5 rounded-full ${\r\n                    isSelected\r\n                      ? 'text-blue-700 bg-blue-100'\r\n                      : 'text-gray-500 bg-gray-100'\r\n                  }`}\r\n                >\r\n                  {size.count}\r\n                </span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AAuBO,SAAS,WAAW,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,gBAAgB,EAAE,EAAmB;IACtG,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sJAAc;IAC5B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAe,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW;IAEnD,IAAA,kNAAS,EAAC;QACR;IACF,GAAG;QAAC;QAAU;QAAQ;QAAU;KAAS;IAEzC,IAAA,kNAAS,EAAC;QACR,YAAY;IACd,GAAG;QAAC;KAAc;IAElB,MAAM,aAAa;QACjB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,IAAA,mJAAiB;YAClC,MAAM,SAAiC;gBACrC,MAAM;YACR;YAEA,IAAI,UAAU,OAAO,QAAQ,GAAG;YAChC,IAAI,QAAQ,OAAO,MAAM,GAAG;YAC5B,IAAI,UAAU,OAAO,QAAQ,GAAG;YAChC,IAAI,UAAU,OAAO,QAAQ,GAAG;YAEhC,yBAAyB;YACzB,MAAM,WAAW,MAAM,gJAAS,CAAC,GAAG,CAAyC,4BAA4B;gBAAE;YAAO;YAElH,SAAS,SAAS,KAAK,IAAI,EAAE;QAC/B,EAAE,OAAO,OAAO;YACd,SAAS,EAAE;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,cAAc,SAAS,QAAQ,CAAC,aAClC,SAAS,MAAM,CAAC,CAAC,IAAM,MAAM,aAC7B;eAAI;YAAU;SAAU;QAE5B,YAAY;QACZ,aAAa;IACf;IAEA,MAAM,eAAe,CAAC;QACpB,wFAAwF;QACxF,MAAM,SAAS,IAAI,gBAAgB,aAAa,QAAQ;QAExD,iCAAiC;QACjC,IAAI,aAAa,MAAM,GAAG,GAAG;YAC3B,OAAO,GAAG,CAAC,SAAS,aAAa,IAAI,CAAC;QACxC,OAAO;YACL,OAAO,MAAM,CAAC;QAChB;QAEA,sCAAsC;QACtC,OAAO,MAAM,CAAC;QAEd,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,OAAO,QAAQ,IAAI;IAC9C;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC,+HAAI;YAAC,WAAU;;8BACd,8OAAC;oBAAG,WAAU;8BAAkE,EAAE;;;;;;8BAClF,8OAAC;oBAAI,WAAU;8BAAyB,EAAE;;;;;;;;;;;;IAGhD;IAEA,qBACE,8OAAC,+HAAI;QAAC,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAkE,EAAE;;;;;;YACjF,MAAM,MAAM,KAAK,kBAChB,8OAAC;gBAAI,WAAU;0BACZ,EAAE;;;;;qCAGL,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,aAAa,SAAS,QAAQ,CAAC,KAAK,KAAK;oBAE/C,qBACE,8OAAC;wBAEC,SAAS,IAAM,iBAAiB,KAAK,KAAK;wBAC1C,WAAW,CAAC,mFAAmF,EAC7F,aACI,wDACA,oBACJ;;0CAEF,8OAAC;gCACC,WAAW,CAAC,kCAAkC,EAC5C,aAAa,8BAA8B,iBAC3C;0CAED,KAAK,KAAK;;;;;;0CAEb,8OAAC;gCACC,WAAW,CAAC,iCAAiC,EAC3C,aACI,8BACA,6BACJ;0CAED,KAAK,KAAK;;;;;;;uBAtBR,KAAK,KAAK;;;;;gBA0BrB;;;;;;;;;;;;AAKV"}},
    {"offset": {"line": 946, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/BrandFilter.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Card, Input } from '@shop/ui';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage } from '../lib/language';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface BrandFilterProps {\r\n  category?: string;\r\n  search?: string;\r\n  minPrice?: string;\r\n  maxPrice?: string;\r\n  selectedBrands?: string[];\r\n}\r\n\r\ninterface BrandOption {\r\n  id: string;\r\n  name: string;\r\n  count: number;\r\n}\r\n\r\ninterface Product {\r\n  id: string;\r\n  brand?: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n}\r\n\r\ninterface ProductsResponse {\r\n  data?: Product[];\r\n  meta?: {\r\n    total: number;\r\n    page: number;\r\n    limit: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\nexport function BrandFilter({ category, search, minPrice, maxPrice, selectedBrands = [] }: BrandFilterProps) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { t } = useTranslation();\r\n  const [brands, setBrands] = useState<BrandOption[]>([]);\r\n  const [filteredBrands, setFilteredBrands] = useState<BrandOption[]>([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchBrands();\r\n  }, [category, search, minPrice, maxPrice]);\r\n\r\n  useEffect(() => {\r\n    if (searchQuery.trim() === '') {\r\n      setFilteredBrands(brands);\r\n    } else {\r\n      const query = searchQuery.toLowerCase().trim();\r\n      setFilteredBrands(\r\n        brands.filter((brand) => brand.name.toLowerCase().includes(query))\r\n      );\r\n    }\r\n  }, [searchQuery, brands]);\r\n\r\n  const fetchBrands = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const language = getStoredLanguage();\r\n      const params: Record<string, string> = {\r\n        lang: language,\r\n      };\r\n      \r\n      if (category) params.category = category;\r\n      if (search) params.search = search;\r\n      if (minPrice) params.minPrice = minPrice;\r\n      if (maxPrice) params.maxPrice = maxPrice;\r\n\r\n      // Fetch products to extract brands\r\n      const response = await apiClient.get<ProductsResponse>('/api/v1/products', { params: { ...params, limit: '1000' } });\r\n      \r\n      // Extract unique brands from products\r\n      const brandCountMap = new Map<string, { id: string; name: string; count: number }>();\r\n      \r\n      response.data?.forEach((product) => {\r\n        if (product.brand?.id && product.brand?.name) {\r\n          const brandId = product.brand.id;\r\n          const brandName = product.brand.name;\r\n          const existing = brandCountMap.get(brandId);\r\n          brandCountMap.set(brandId, {\r\n            id: brandId,\r\n            name: brandName,\r\n            count: (existing?.count || 0) + 1,\r\n          });\r\n        }\r\n      });\r\n\r\n      const brandOptions: BrandOption[] = Array.from(brandCountMap.values())\r\n        .sort((a, b) => a.name.localeCompare(b.name));\r\n\r\n      setBrands(brandOptions);\r\n      setFilteredBrands(brandOptions);\r\n    } catch (error) {\r\n      console.error('Error fetching brands:', error);\r\n      setBrands([]);\r\n      setFilteredBrands([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleBrandSelect = (brandId: string) => {\r\n    console.log('üéØ [BRAND FILTER] Brand clicked:', { brandId, currentSelectedBrands: selectedBrands });\r\n    \r\n    // ’ç’ø’•’≤’Æ’∏÷Ç’¥ ’•’∂÷Ñ ’∂’∏÷Ä URLSearchParams URL-’´ ’∞’´’¥’°’∂ ’æ÷Ä’°, ’∏÷Ä’∫’•’Ω’¶’´ ’∫’°’∞’∫’°’∂’•’∂÷Ñ ’¢’∏’¨’∏÷Ä params-’∂’•÷Ä’®\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    \r\n    // ’ç’ø’•’≤’Æ’∏÷Ç’¥ ’•’∂÷Ñ ’®’∂’ø÷Ä’æ’°’Æ brand-’•÷Ä’´ array\r\n    const currentBrands = selectedBrands || [];\r\n    let newBrands: string[];\r\n    \r\n    if (currentBrands.includes(brandId)) {\r\n      // ‘µ’©’• brand-’® ’°÷Ä’§’•’∂ ’®’∂’ø÷Ä’æ’°’Æ ’ß, ’∞’•’º’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ\r\n      newBrands = currentBrands.filter(id => id !== brandId);\r\n      console.log('‚ûñ [BRAND FILTER] Brand deselected:', { brandId, newBrands });\r\n    } else {\r\n      // ‘µ’©’• brand-’® ’®’∂’ø÷Ä’æ’°’Æ ’π’ß, ’°’æ’•’¨’°÷Å’∂’∏÷Ç’¥ ’•’∂÷Ñ\r\n      newBrands = [...currentBrands, brandId];\r\n      console.log('‚ûï [BRAND FILTER] Brand selected:', { brandId, newBrands });\r\n    }\r\n    \r\n    // URL-’∏÷Ç’¥ ’∫’°’∞’∏÷Ç’¥ ’•’∂÷Ñ comma-separated string\r\n    if (newBrands.length > 0) {\r\n      params.set('brand', newBrands.join(','));\r\n      console.log('‚úÖ [BRAND FILTER] Setting brand param:', newBrands.join(','));\r\n    } else {\r\n      params.delete('brand');\r\n      console.log('üóëÔ∏è [BRAND FILTER] Removing brand param');\r\n    }\r\n    \r\n    // Reset page to 1 when filters change\r\n    params.delete('page');\r\n\r\n    const newUrl = `/products?${params.toString()}`;\r\n    console.log('üîó [BRAND FILTER] Navigating to:', newUrl);\r\n    router.push(newUrl);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className=\"p-4 mb-6\">\r\n        <h3 className=\"text-base font-bold text-gray-800 mb-4 uppercase tracking-wide\">{t('products.filters.brand.title')}</h3>\r\n        <div className=\"text-sm text-gray-500\">{t('products.filters.brand.loading')}</div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (brands.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Card className=\"p-4 mb-6\">\r\n      <h3 className=\"text-base font-bold text-gray-800 mb-4 uppercase tracking-wide\">{t('products.filters.brand.title')}</h3>\r\n      \r\n      {/* Search Input */}\r\n      <div className=\"mb-4 relative\">\r\n        <Input\r\n          type=\"text\"\r\n          placeholder={t('products.filters.brand.searchPlaceholder')}\r\n          value={searchQuery}\r\n          onChange={(e) => setSearchQuery(e.target.value)}\r\n          className=\"w-full pr-10\"\r\n        />\r\n        <svg\r\n          className=\"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n\r\n      {/* Brand List */}\r\n      {filteredBrands.length > 0 ? (\r\n        <div className=\"space-y-2 max-h-64 overflow-y-auto\">\r\n          {filteredBrands.map((brand) => {\r\n            const isSelected = selectedBrands.includes(brand.id);\r\n\r\n            return (\r\n              <button\r\n                key={brand.id}\r\n                onClick={() => handleBrandSelect(brand.id)}\r\n                className={`w-full flex items-center justify-between py-2 px-3 rounded transition-all duration-200 group ${\r\n                  isSelected\r\n                    ? 'bg-blue-50 hover:bg-blue-100 border border-blue-200'\r\n                    : 'hover:bg-gray-50 border border-transparent'\r\n                }`}\r\n              >\r\n                <span\r\n                  className={`text-sm transition-colors ${\r\n                    isSelected\r\n                      ? 'text-blue-900 font-medium'\r\n                      : 'text-gray-900 group-hover:text-gray-700'\r\n                  }`}\r\n                >\r\n                  {brand.name}\r\n                </span>\r\n                <span\r\n                  className={`text-xs px-2 py-0.5 rounded-full transition-colors ${\r\n                    isSelected\r\n                      ? 'text-blue-700 bg-blue-100'\r\n                      : 'text-gray-500 bg-gray-100'\r\n                  }`}\r\n                >\r\n                  {brand.count}\r\n                </span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-sm text-gray-500 py-4 text-center\">\r\n          {t('products.filters.brand.noBrands')}\r\n        </div>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1214, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ProductsHeader.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { useState, useEffect, useRef, Suspense } from 'react';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ntype ViewMode = 'list' | 'grid-2' | 'grid-3';\r\ntype SortOption = 'default' | 'price-asc' | 'price-desc' | 'name-asc' | 'name-desc';\r\n\r\ninterface ProductsHeaderProps {\r\n  /**\r\n   * ‘∏’∂’§’∞’°’∂’∏÷Ç÷Ä ’°’∫÷Ä’°’∂÷Ñ’∂’•÷Ä’´ ÷Ñ’°’∂’°’Ø’®’ù ’¢’∏’¨’∏÷Ä ’ß’ª’•÷Ä’∏÷Ç’¥ (from API meta.total)\r\n   */\r\n  total: number;\r\n  /**\r\n   * ’Ñ’´ ’ß’ª’∏÷Ç’¥ ÷Å’∏÷Ç÷Å’°’§÷Ä’æ’∏’≤ ’°’∫÷Ä’°’∂÷Ñ’∂’•÷Ä’´ ÷Ñ’°’∂’°’Ø’® (from API meta.limit)\r\n   */\r\n  perPage: number;\r\n}\r\n\r\nfunction ProductsHeaderContent({ total, perPage }: ProductsHeaderProps) {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { t } = useTranslation();\r\n  const [viewMode, setViewMode] = useState<ViewMode>('grid-2');\r\n  const [sortBy, setSortBy] = useState<SortOption>('default');\r\n  const [showSortDropdown, setShowSortDropdown] = useState(false);\r\n  const sortDropdownRef = useRef<HTMLDivElement>(null);\r\n  const mobileSortDropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  const sortOptions: { value: SortOption; label: string }[] = [\r\n    { value: 'default', label: t('products.header.sort.default') },\r\n    { value: 'price-asc', label: t('products.header.sort.priceAsc') },\r\n    { value: 'price-desc', label: t('products.header.sort.priceDesc') },\r\n    { value: 'name-asc', label: t('products.header.sort.nameAsc') },\r\n    { value: 'name-desc', label: t('products.header.sort.nameDesc') },\r\n  ];\r\n\r\n  // Derive current \"show per page\" value from URL or fallback to \"all\" (default)\r\n  const limitFromUrl = searchParams.get('limit');\r\n  const parsedLimit = limitFromUrl ? parseInt(limitFromUrl, 10) : null;\r\n  // If limit is very large (>= 1000), treat as \"all\"\r\n  // If no limit in URL, default to \"all\"\r\n  const currentLimit = parsedLimit \r\n    ? (parsedLimit >= 1000 ? 'all' : parsedLimit)\r\n    : 'all';\r\n\r\n  const hasActiveFilters = (() => {\r\n    const filterKeys = ['search', 'category', 'minPrice', 'maxPrice', 'colors', 'sizes', 'brand'];\r\n    return filterKeys.some((key) => !!searchParams.get(key));\r\n  })();\r\n\r\n  // Load view mode from localStorage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem('products-view-mode');\r\n    if (stored && ['list', 'grid-2', 'grid-3'].includes(stored)) {\r\n      setViewMode(stored as ViewMode);\r\n    } else {\r\n      // Default to grid-2 if nothing stored\r\n      setViewMode('grid-2');\r\n      localStorage.setItem('products-view-mode', 'grid-2');\r\n    }\r\n  }, []);\r\n\r\n  // Load sort from URL params\r\n  useEffect(() => {\r\n    const sortParam = searchParams.get('sort') as SortOption;\r\n    if (sortParam && sortOptions.some(opt => opt.value === sortParam)) {\r\n      setSortBy(sortParam);\r\n    }\r\n  }, [searchParams]);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      const target = event.target as Node;\r\n      const isClickInsideDesktop = sortDropdownRef.current?.contains(target);\r\n      const isClickInsideMobile = mobileSortDropdownRef.current?.contains(target);\r\n      \r\n      if (!isClickInsideDesktop && !isClickInsideMobile) {\r\n        setShowSortDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const handleViewModeChange = (mode: ViewMode) => {\r\n    setViewMode(mode);\r\n    localStorage.setItem('products-view-mode', mode);\r\n    // Dispatch event to update grid layout\r\n    window.dispatchEvent(new CustomEvent('view-mode-changed', { detail: mode }));\r\n  };\r\n\r\n  const handleSortChange = (option: SortOption) => {\r\n    setSortBy(option);\r\n    setShowSortDropdown(false);\r\n    \r\n    // Update URL with sort parameter\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    if (option === 'default') {\r\n      params.delete('sort');\r\n    } else {\r\n      params.set('sort', option);\r\n    }\r\n    // Reset to page 1 when sorting changes\r\n    params.delete('page');\r\n    \r\n    router.push(`/products?${params.toString()}`);\r\n  };\r\n\r\n  const handleClearFilters = () => {\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    const filterKeys = ['search', 'category', 'minPrice', 'maxPrice', 'colors', 'sizes', 'brand'];\r\n\r\n    filterKeys.forEach((key) => params.delete(key));\r\n    // Reset page when filters are cleared\r\n    params.delete('page');\r\n\r\n    const queryString = params.toString();\r\n    router.push(queryString ? `/products?${queryString}` : '/products');\r\n  };\r\n\r\n  const handleLimitChange = (value: string | number) => {\r\n    const params = new URLSearchParams(searchParams.toString());\r\n    \r\n    if (value === 'all' || value === 'All') {\r\n      // For \"all\", set a very large limit (9999) or remove limit to show all\r\n      params.set('limit', '9999');\r\n    } else {\r\n      const numValue = typeof value === 'string' ? parseInt(value, 10) : value;\r\n      if (!Number.isNaN(numValue)) {\r\n        params.set('limit', numValue.toString());\r\n      }\r\n    }\r\n    \r\n    // Reset page when page size changes\r\n    params.delete('page');\r\n\r\n    router.replace(`/products?${params.toString()}`, { scroll: false });\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-4\">\r\n      {/* Desktop: All elements in one horizontal line */}\r\n      <div className=\"hidden sm:flex sm:items-center sm:justify-between sm:gap-4\">\r\n        {/* Left side: Clear filters + All products title */}\r\n        <div className=\"flex items-center gap-4\">\r\n          {hasActiveFilters && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleClearFilters}\r\n              className=\"inline-flex items-center gap-2 text-sm text-gray-900 hover:text-gray-700 transition-colors\"\r\n            >\r\n              <svg\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 16 16\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className=\"text-gray-900\"\r\n              >\r\n                <path\r\n                  d=\"M12 4L4 12M4 4L12 12\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                />\r\n              </svg>\r\n              <span>{t('products.header.clearFilters')}</span>\r\n            </button>\r\n          )}\r\n          \r\n          <h1 className=\"text-xl font-bold text-gray-900\">\r\n            {t('products.header.allProducts').replace('{total}', total.toString())}\r\n          </h1>\r\n        </div>\r\n\r\n        {/* Right side: Show + View toggles + Sort */}\r\n        <div className=\"flex items-center gap-4\">\r\n          {/* Show dropdown */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-sm text-gray-900\">{t('products.header.show')}</span>\r\n            <select\r\n              value={currentLimit === 'all' ? 'all' : currentLimit}\r\n              onChange={(event) => handleLimitChange(event.target.value)}\r\n              className=\"rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-200 min-w-[70px]\"\r\n            >\r\n              <option value=\"all\">{t('products.header.all')}</option>\r\n              <option value=\"10\">10</option>\r\n              <option value=\"20\">20</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* View Mode Icons: List, Grid (2x2), and Grid (3x3) */}\r\n          <div className=\"flex items-center gap-1\">\r\n            {/* List View */}\r\n            <button\r\n              onClick={() => handleViewModeChange('list')}\r\n              className={`rounded-lg p-2 transition-colors ${\r\n                viewMode === 'list'\r\n                  ? 'bg-gray-100 text-gray-900'\r\n                  : 'text-gray-400 hover:text-gray-600'\r\n              }`}\r\n              aria-label={t('products.header.viewModes.list')}\r\n            >\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <line x1=\"3\" y1=\"5\" x2=\"17\" y2=\"5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n                <line x1=\"3\" y1=\"10\" x2=\"17\" y2=\"10\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n                <line x1=\"3\" y1=\"15\" x2=\"17\" y2=\"15\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n              </svg>\r\n            </button>\r\n            \r\n            {/* Grid View (2x2) */}\r\n            <button\r\n              onClick={() => handleViewModeChange('grid-2')}\r\n              className={`rounded-lg p-2 transition-all ${\r\n                viewMode === 'grid-2'\r\n                  ? 'bg-gray-100 text-gray-900'\r\n                  : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n              aria-label={t('products.header.viewModes.grid2')}\r\n            >\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <rect x=\"2\" y=\"2\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                <rect x=\"11\" y=\"2\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                <rect x=\"2\" y=\"11\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                <rect x=\"11\" y=\"11\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n              </svg>\r\n            </button>\r\n\r\n            {/* Grid View (3x3) */}\r\n            <button\r\n              onClick={() => handleViewModeChange('grid-3')}\r\n              className={`rounded-lg p-2 transition-all ${\r\n                viewMode === 'grid-3'\r\n                  ? 'bg-gray-100 text-gray-900'\r\n                  : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'\r\n              }`}\r\n              aria-label={t('products.header.viewModes.grid3')}\r\n            >\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <circle cx=\"4\" cy=\"4\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"10\" cy=\"4\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"16\" cy=\"4\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"4\" cy=\"10\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"10\" cy=\"10\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"16\" cy=\"10\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"4\" cy=\"16\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"10\" cy=\"16\" r=\"1.5\" fill=\"currentColor\" />\r\n                <circle cx=\"16\" cy=\"16\" r=\"1.5\" fill=\"currentColor\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {/* Sort dropdown */}\r\n          <div className=\"relative\" ref={sortDropdownRef}>\r\n            <button\r\n              onClick={() => setShowSortDropdown(!showSortDropdown)}\r\n              className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors text-sm text-gray-900 min-w-[160px]\"\r\n            >\r\n              <span>{sortOptions.find(opt => opt.value === sortBy)?.label || t('products.header.sort.default')}</span>\r\n              <svg\r\n                width=\"12\"\r\n                height=\"12\"\r\n                viewBox=\"0 0 12 12\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                className={`transition-transform ${showSortDropdown ? 'rotate-180' : ''}`}\r\n              >\r\n                <path d=\"M3 4.5L6 7.5L9 4.5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n              </svg>\r\n            </button>\r\n\r\n            {showSortDropdown && (\r\n              <div className=\"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden\">\r\n                {sortOptions.map((option) => (\r\n                  <button\r\n                    key={option.value}\r\n                    onClick={() => handleSortChange(option.value)}\r\n                    className={`w-full text-left px-4 py-2.5 text-sm transition-colors ${\r\n                      sortBy === option.value\r\n                        ? 'bg-gray-100 text-gray-900 font-semibold'\r\n                        : 'text-gray-700 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    {option.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile: Stacked layout */}\r\n      <div className=\"sm:hidden flex flex-col gap-4\">\r\n        {/* Top: All Products Title + Show dropdown */}\r\n        <div className=\"flex items-center justify-between\">\r\n          <h1 className=\"text-lg font-bold text-gray-900\">\r\n            {t('products.header.allProducts').replace('{total}', total.toString())}\r\n          </h1>\r\n          \r\n          {/* Show dropdown - Top right */}\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-xs text-gray-600\">{t('products.header.show')}</span>\r\n            <select\r\n              value={currentLimit === 'all' ? 'all' : currentLimit}\r\n              onChange={(event) => handleLimitChange(event.target.value)}\r\n              className=\"rounded-lg border border-gray-300 bg-white px-3 py-1.5 text-xs text-gray-700 focus:border-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-200\"\r\n            >\r\n              <option value=\"all\">{t('products.header.all')}</option>\r\n              <option value=\"10\">10</option>\r\n              <option value=\"20\">20</option>\r\n              <option value=\"50\">50</option>\r\n              <option value=\"100\">100</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom: Filters button + View Mode Icons + Sort */}\r\n        <div className=\"flex items-center justify-between gap-2\">\r\n          {/* Left: Filters button */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => window.dispatchEvent(new Event('mobile:filters-toggle'))}\r\n            className=\"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors text-sm font-medium text-gray-900\"\r\n          >\r\n            <svg\r\n              width=\"16\"\r\n              height=\"16\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <line x1=\"3\" y1=\"5\" x2=\"17\" y2=\"5\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              <line x1=\"3\" y1=\"10\" x2=\"17\" y2=\"10\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n              <line x1=\"3\" y1=\"15\" x2=\"17\" y2=\"15\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" />\r\n            </svg>\r\n            <span>{t('products.header.filters')}</span>\r\n          </button>\r\n\r\n          {/* Right: View Mode Icons + Sort */}\r\n          <div className=\"flex items-center gap-2\">\r\n            {/* View Mode Icons */}\r\n            <div className=\"flex items-center gap-1\">\r\n              <button\r\n                onClick={() => handleViewModeChange('list')}\r\n                className={`rounded-lg p-2 transition-colors ${\r\n                  viewMode === 'list'\r\n                    ? 'bg-gray-100 text-gray-900'\r\n                    : 'text-gray-400 hover:text-gray-600'\r\n                }`}\r\n                aria-label={t('products.header.viewModes.list')}\r\n              >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <line x1=\"3\" y1=\"5\" x2=\"17\" y2=\"5\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n                  <line x1=\"3\" y1=\"10\" x2=\"17\" y2=\"10\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n                  <line x1=\"3\" y1=\"15\" x2=\"17\" y2=\"15\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\r\n                </svg>\r\n              </button>\r\n              <button\r\n                onClick={() => handleViewModeChange('grid-2')}\r\n                className={`rounded-lg p-2 transition-all ${\r\n                  viewMode === 'grid-2'\r\n                    ? 'bg-gray-100 text-gray-900'\r\n                    : 'text-gray-400 hover:text-gray-600 hover:bg-gray-50'\r\n                }`}\r\n                aria-label={t('products.header.viewModes.grid2')}\r\n              >\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <rect x=\"2\" y=\"2\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                  <rect x=\"11\" y=\"2\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                  <rect x=\"2\" y=\"11\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                  <rect x=\"11\" y=\"11\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill={viewMode === 'grid-2' ? 'currentColor' : 'none'} />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Sort icon */}\r\n            <div className=\"relative\" ref={mobileSortDropdownRef}>\r\n              <button\r\n                onClick={() => setShowSortDropdown(!showSortDropdown)}\r\n                className=\"flex items-center justify-center w-10 h-10 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 transition-colors text-gray-700\"\r\n                aria-label={t('products.header.sortProducts')}\r\n              >\r\n                <svg\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 20 20\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  {/* Up arrow pointing up (left side) */}\r\n                  <path d=\"M7 8L10 5L13 8\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"none\" />\r\n                  {/* Down arrow pointing down (right side) */}\r\n                  <path d=\"M7 12L10 15L13 12\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" fill=\"none\" />\r\n                </svg>\r\n              </button>\r\n\r\n              {showSortDropdown && (\r\n                <div className=\"absolute top-full right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50 overflow-hidden\">\r\n                  {sortOptions.map((option) => (\r\n                    <button\r\n                      key={option.value}\r\n                      onClick={() => handleSortChange(option.value)}\r\n                      className={`w-full text-left px-4 py-2.5 text-sm transition-colors ${\r\n                        sortBy === option.value\r\n                          ? 'bg-gray-100 text-gray-900 font-semibold'\r\n                          : 'text-gray-700 hover:bg-gray-50'\r\n                      }`}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function ProductsHeader(props: ProductsHeaderProps) {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-12 pb-4\">\r\n        <div className=\"flex justify-end items-center\">\r\n          <div className=\"h-10 w-32 bg-gray-200 rounded animate-pulse\"></div>\r\n        </div>\r\n      </div>\r\n    }>\r\n      <ProductsHeaderContent {...props} />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2285, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ProductLabels.tsx"],"sourcesContent":["import React from 'react';\r\n\r\nexport type ProductLabelPosition = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right';\r\n\r\nexport interface ProductLabel {\r\n  id: string;\r\n  type: 'text' | 'percentage';\r\n  value: string;\r\n  position: ProductLabelPosition;\r\n  color: string | null;\r\n}\r\n\r\ninterface ProductLabelsProps {\r\n  labels: ProductLabel[];\r\n}\r\n\r\n/**\r\n * ProductLabels\r\n *\r\n * UI-–∫–æ–º’∫’∏’∂’•’∂’ø, ’∏÷Ä’® corner-’•÷Ä’∏’æ ’≠’¥’¢’°’æ’∏÷Ä’∏÷Ç’¥ ’ß product-’´ labels-’®\r\n * ÷á ’∂’∏÷Ç’µ’∂ position ’∏÷Ç’∂’•÷Å’∏’≤ labels-’® ÷Å’∏÷Ç÷Å’°’§÷Ä’∏÷Ç’¥ ’ß vertical stack-’∏’æ÷â\r\n * ’ç’° ’°’∫’°’∞’∏’æ’∏÷Ç’¥ ’ß, ’∏÷Ä ’¥’´’°’™’°’¥’°’∂’°’Ø ’¥’´ ÷Ñ’°’∂’´ label ’∏÷Ç’∂’•’∂’°’¨’∏÷Ç ’§’•’∫÷Ñ’∏÷Ç’¥\r\n * ’§÷Ä’°’∂÷Ñ ’´÷Ä’°÷Ä ’æ÷Ä’° ’π’•’∂ ’∂’Ω’ø’∏÷Ç’¥, ’°’µ’¨ ’∏÷Ç’∂’•’∂ ’∞’Ω’ø’°’Ø –≤–µ—Ä—Ç–∏–∫’°’¨ ’∞’•’º’°’æ’∏÷Ä’∏÷Ç’©’µ’∏÷Ç’∂÷â\r\n */\r\nexport const ProductLabels: React.FC<ProductLabelsProps> = ({ labels }) => {\r\n  if (!labels || labels.length === 0) return null;\r\n\r\n  // ’ì’∏÷Ñ÷Ä logging, ’∏÷Ä ’∞’•’∑’ø ’¨’´’∂’´ debug ’°’∂’•’¨ label-’∂’•÷Ä’´ ’≠’∂’§’´÷Ä’∂’•÷Ä’®\r\n  console.info('[UI][ProductLabels] Rendering labels', {\r\n    total: labels.length,\r\n    positions: labels.map((l) => l.position),\r\n  });\r\n\r\n  const positions: ProductLabelPosition[] = ['top-left', 'top-right', 'bottom-left', 'bottom-right'];\r\n\r\n  const getColorClasses = (label: ProductLabel) => {\r\n    if (label.color) {\r\n      return '';\r\n    }\r\n\r\n    if (label.type === 'percentage') {\r\n      return 'bg-red-600 text-white';\r\n    }\r\n\r\n    const value = label.value.toLowerCase();\r\n    if (value.includes('new') || value.includes('’∂’∏÷Ä')) {\r\n      return 'bg-green-600 text-white';\r\n    }\r\n    if (value.includes('hot') || value.includes('’ø’°÷Ñ')) {\r\n      return 'bg-orange-600 text-white';\r\n    }\r\n    if (value.includes('sale') || value.includes('’¶’•’≤’π')) {\r\n      return 'bg-red-600 text-white';\r\n    }\r\n\r\n    return 'bg-blue-600 text-white';\r\n  };\r\n\r\n  const getCornerPositionClasses = (position: ProductLabelPosition) => {\r\n    switch (position) {\r\n      case 'top-left':\r\n        return 'top-2 left-2 items-start';\r\n      case 'top-right':\r\n        return 'top-2 right-2 items-end';\r\n      case 'bottom-left':\r\n        return 'bottom-2 left-2 items-start';\r\n      case 'bottom-right':\r\n        return 'bottom-2 right-2 items-end';\r\n      default:\r\n        return '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"absolute inset-0 pointer-events-none z-20\">\r\n      {positions.map((position) => {\r\n        const labelsForPosition = labels.filter((label) => label.position === position);\r\n        if (labelsForPosition.length === 0) return null;\r\n\r\n        return (\r\n          <div\r\n            key={position}\r\n            className={`absolute flex flex-col gap-1 ${getCornerPositionClasses(position)}`}\r\n          >\r\n            {labelsForPosition.map((label) => (\r\n              <div\r\n                key={label.id}\r\n                className={`px-2 py-0.5 text-[10px] font-semibold rounded-md shadow-sm pointer-events-auto ${getColorClasses(\r\n                  label,\r\n                )}`}\r\n                style={label.color ? { backgroundColor: label.color, color: 'white' } : undefined}\r\n              >\r\n                {label.type === 'percentage' ? `${label.value}%` : label.value}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":";;;;;;AAwBO,MAAM,gBAA8C,CAAC,EAAE,MAAM,EAAE;IACpE,IAAI,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG,OAAO;IAE3C,6DAA6D;IAC7D,QAAQ,IAAI,CAAC,wCAAwC;QACnD,OAAO,OAAO,MAAM;QACpB,WAAW,OAAO,GAAG,CAAC,CAAC,IAAM,EAAE,QAAQ;IACzC;IAEA,MAAM,YAAoC;QAAC;QAAY;QAAa;QAAe;KAAe;IAElG,MAAM,kBAAkB,CAAC;QACvB,IAAI,MAAM,KAAK,EAAE;YACf,OAAO;QACT;QAEA,IAAI,MAAM,IAAI,KAAK,cAAc;YAC/B,OAAO;QACT;QAEA,MAAM,QAAQ,MAAM,KAAK,CAAC,WAAW;QACrC,IAAI,MAAM,QAAQ,CAAC,UAAU,MAAM,QAAQ,CAAC,QAAQ;YAClD,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,CAAC,UAAU,MAAM,QAAQ,CAAC,QAAQ;YAClD,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,CAAC,WAAW,MAAM,QAAQ,CAAC,SAAS;YACpD,OAAO;QACT;QAEA,OAAO;IACT;IAEA,MAAM,2BAA2B,CAAC;QAChC,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC;YACd,MAAM,oBAAoB,OAAO,MAAM,CAAC,CAAC,QAAU,MAAM,QAAQ,KAAK;YACtE,IAAI,kBAAkB,MAAM,KAAK,GAAG,OAAO;YAE3C,qBACE,8OAAC;gBAEC,WAAW,CAAC,6BAA6B,EAAE,yBAAyB,WAAW;0BAE9E,kBAAkB,GAAG,CAAC,CAAC,sBACtB,8OAAC;wBAEC,WAAW,CAAC,+EAA+E,EAAE,gBAC3F,QACC;wBACH,OAAO,MAAM,KAAK,GAAG;4BAAE,iBAAiB,MAAM,KAAK;4BAAE,OAAO;wBAAQ,IAAI;kCAEvE,MAAM,IAAI,KAAK,eAAe,GAAG,MAAM,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,KAAK;uBANzD,MAAM,EAAE;;;;;eALZ;;;;;QAgBX;;;;;;AAGN"}},
    {"offset": {"line": 2372, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ProductCard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { useState, useEffect } from 'react';\r\nimport type { MouseEvent } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { formatPrice, getStoredCurrency } from '../lib/currency';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { useAuth } from '../lib/auth/AuthContext';\r\nimport { useTranslation } from '../lib/i18n-client';\r\nimport { getColorHex } from '../lib/colorMap';\r\nimport { CompareIcon } from './icons/CompareIcon';\r\nimport { CartIcon as CartPngIcon } from './icons/CartIcon';\r\nimport { ProductLabels } from './ProductLabels';\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  price: number;\r\n  image: string | null;\r\n  inStock: boolean;\r\n  brand: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n  labels?: import('./ProductLabels').ProductLabel[];\r\n  compareAtPrice?: number | null;\r\n  originalPrice?: number | null;\r\n  globalDiscount?: number | null;\r\n  discountPercent?: number | null;\r\n  colors?: Array<{ value: string; imageUrl?: string | null; colors?: string[] | null }>; // Available colors from variants with imageUrl and colors hex\r\n}\r\n\r\ntype ViewMode = 'list' | 'grid-2' | 'grid-3';\r\n\r\ninterface ProductCardProps {\r\n  product: Product;\r\n  viewMode?: ViewMode;\r\n}\r\n\r\nconst WISHLIST_KEY = 'shop_wishlist';\r\nconst COMPARE_KEY = 'shop_compare';\r\n\r\n// Color mapping for common color names\r\n\r\n\r\n\r\n\r\n// –ò–∫–æ–Ω–∫–∏\r\nconst WishlistIcon = ({ filled = false }: { filled?: boolean }) => (\r\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path \r\n      d=\"M10 17L8.55 15.7C4.4 12.2 2 10.1 2 7.5C2 5.4 3.4 4 5.5 4C6.8 4 8.1 4.6 9 5.5C9.9 4.6 11.2 4 12.5 4C14.6 4 16 5.4 16 7.5C16 10.1 13.6 12.2 9.45 15.7L10 17Z\" \r\n      stroke=\"currentColor\" \r\n      strokeWidth=\"1.8\" \r\n      strokeLinecap=\"round\" \r\n      strokeLinejoin=\"round\" \r\n      fill={filled ? \"currentColor\" : \"none\"} \r\n    />\r\n  </svg>\r\n);\r\n\r\n/**\r\n * Product card component with Compare, Wishlist and Cart icons\r\n * Displays product image, title, category, price and action buttons\r\n */\r\nexport function ProductCard({ product, viewMode = 'grid-3' }: ProductCardProps) {\r\n  const isCompact = viewMode === 'grid-3';\r\n  const router = useRouter();\r\n  const { isLoggedIn } = useAuth();\r\n  const { t } = useTranslation();\r\n  const [currency, setCurrency] = useState(getStoredCurrency());\r\n  const [isInWishlist, setIsInWishlist] = useState(false);\r\n  const [isInCompare, setIsInCompare] = useState(false);\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\r\n  const [imageError, setImageError] = useState(false);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è wishlist –∏ compare\r\n  useEffect(() => {\r\n    const checkWishlist = () => {\r\n      if (typeof window === 'undefined') return;\r\n      try {\r\n        const stored = localStorage.getItem(WISHLIST_KEY);\r\n        const wishlist = stored ? JSON.parse(stored) : [];\r\n        setIsInWishlist(wishlist.includes(product.id));\r\n      } catch {\r\n        setIsInWishlist(false);\r\n      }\r\n    };\r\n\r\n    const checkCompare = () => {\r\n      if (typeof window === 'undefined') return;\r\n      try {\r\n        const stored = localStorage.getItem(COMPARE_KEY);\r\n        const compare = stored ? JSON.parse(stored) : [];\r\n        setIsInCompare(compare.includes(product.id));\r\n      } catch {\r\n        setIsInCompare(false);\r\n      }\r\n    };\r\n\r\n    checkWishlist();\r\n    checkCompare();\r\n\r\n    // –°–ª—É—à–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\r\n    const handleWishlistUpdate = () => checkWishlist();\r\n    const handleCompareUpdate = () => checkCompare();\r\n\r\n    window.addEventListener('wishlist-updated', handleWishlistUpdate);\r\n    window.addEventListener('compare-updated', handleCompareUpdate);\r\n\r\n    return () => {\r\n      window.removeEventListener('wishlist-updated', handleWishlistUpdate);\r\n      window.removeEventListener('compare-updated', handleCompareUpdate);\r\n    };\r\n  }, [product.id]);\r\n\r\n  // Listen for currency updates\r\n  useEffect(() => {\r\n    const handleCurrencyUpdate = () => {\r\n      setCurrency(getStoredCurrency());\r\n    };\r\n    // Listen for currency rates updates to force re-render\r\n    const handleCurrencyRatesUpdate = () => {\r\n      setCurrency(getStoredCurrency());\r\n    };\r\n\r\n    window.addEventListener('currency-updated', handleCurrencyUpdate);\r\n    window.addEventListener('currency-rates-updated', handleCurrencyRatesUpdate);\r\n    return () => {\r\n      window.removeEventListener('currency-updated', handleCurrencyUpdate);\r\n      window.removeEventListener('currency-rates-updated', handleCurrencyRatesUpdate);\r\n    };\r\n  }, []);\r\n\r\n  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ wishlist\r\n  const handleWishlistToggle = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ - –µ—Å–ª–∏ –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞\r\n    if (!isLoggedIn) {\r\n      router.push(`/login?redirect=/products`);\r\n      return;\r\n    }\r\n    \r\n    if (typeof window === 'undefined') return;\r\n    \r\n    try {\r\n      const stored = localStorage.getItem(WISHLIST_KEY);\r\n      const wishlist: string[] = stored ? JSON.parse(stored) : [];\r\n      \r\n      if (isInWishlist) {\r\n        const updated = wishlist.filter((id) => id !== product.id);\r\n        localStorage.setItem(WISHLIST_KEY, JSON.stringify(updated));\r\n        setIsInWishlist(false);\r\n      } else {\r\n        wishlist.push(product.id);\r\n        localStorage.setItem(WISHLIST_KEY, JSON.stringify(wishlist));\r\n        setIsInWishlist(true);\r\n      }\r\n      \r\n      window.dispatchEvent(new Event('wishlist-updated'));\r\n    } catch (error) {\r\n      console.error('Error updating wishlist:', error);\r\n    }\r\n  };\r\n\r\n  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ compare\r\n  const handleCompareToggle = (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (typeof window === 'undefined') return;\r\n    \r\n    try {\r\n      const stored = localStorage.getItem(COMPARE_KEY);\r\n      const compare: string[] = stored ? JSON.parse(stored) : [];\r\n      \r\n      // –ú–∞–∫—Å–∏–º—É–º 4 –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è\r\n      console.info('[Compare] Toggling compare from ProductCard', {\r\n        productId: product.id,\r\n        action: isInCompare ? 'remove' : 'add',\r\n      });\r\n      if (isInCompare) {\r\n        const updated = compare.filter((id) => id !== product.id);\r\n        localStorage.setItem(COMPARE_KEY, JSON.stringify(updated));\r\n        setIsInCompare(false);\r\n      } else {\r\n        if (compare.length >= 4) {\r\n          alert(t('common.alerts.compareMaxReached'));\r\n          return;\r\n        }\r\n        compare.push(product.id);\r\n        localStorage.setItem(COMPARE_KEY, JSON.stringify(compare));\r\n        setIsInCompare(true);\r\n      }\r\n      \r\n      window.dispatchEvent(new Event('compare-updated'));\r\n    } catch (error) {\r\n      console.error('Error updating compare:', error);\r\n    }\r\n  };\r\n\r\n  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É\r\n  const handleAddToCart = async (e: MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    \r\n    if (!product.inStock) {\r\n      return;\r\n    }\r\n\r\n    // Validate product slug before making API call\r\n    if (!product.slug || product.slug.trim() === '' || product.slug.includes(' ')) {\r\n      console.error('‚ùå [PRODUCT CARD] Invalid product slug:', product.slug);\r\n      alert(t('common.alerts.invalidProduct'));\r\n      return;\r\n    }\r\n\r\n    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º localStorage –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã\r\n    if (!isLoggedIn) {\r\n      setIsAddingToCart(true);\r\n      try {\r\n        const CART_KEY = 'shop_cart_guest';\r\n        const stored = localStorage.getItem(CART_KEY);\r\n        const cart: Array<{ productId: string; productSlug: string; variantId?: string; quantity: number }> = stored ? JSON.parse(stored) : [];\r\n        \r\n        // –ü–æ–ª—É—á–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è variant ID\r\n        interface ProductDetails {\r\n          id: string;\r\n          slug: string;\r\n          variants?: Array<{\r\n            id: string;\r\n            sku: string;\r\n            price: number;\r\n            stock: number;\r\n            available: boolean;\r\n          }>;\r\n        }\r\n\r\n        // Encode slug to handle special characters\r\n        const encodedSlug = encodeURIComponent(product.slug.trim());\r\n        const productDetails = await apiClient.get<ProductDetails>(`/api/v1/products/${encodedSlug}`);\r\n        \r\n        if (!productDetails.variants || productDetails.variants.length === 0) {\r\n          alert(t('common.alerts.noVariantsAvailable'));\r\n          setIsAddingToCart(false);\r\n          return;\r\n        }\r\n\r\n        const variantId = productDetails.variants[0].id;\r\n        const variant = productDetails.variants[0];\r\n        \r\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ —ç—Ç–æ—Ç —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω–µ\r\n        const existingItem = cart.find(item => item.productId === product.id && item.variantId === variantId);\r\n        \r\n        // Calculate total quantity that will be in cart after adding\r\n        const currentQuantityInCart = existingItem?.quantity || 0;\r\n        const totalQuantity = currentQuantityInCart + 1;\r\n        \r\n        // Check if total quantity exceeds available stock\r\n        if (totalQuantity > variant.stock) {\r\n          console.log('üö´ [PRODUCT CARD - GUEST CART] Stock limit exceeded:', {\r\n            variantId,\r\n            currentInCart: currentQuantityInCart,\r\n            requestedQuantity: 1,\r\n            totalQuantity,\r\n            availableStock: variant.stock\r\n          });\r\n          alert(t('common.alerts.noMoreStockAvailable'));\r\n          setIsAddingToCart(false);\r\n          return;\r\n        }\r\n        \r\n        if (existingItem) {\r\n          existingItem.quantity = totalQuantity;\r\n          // –û–±–Ω–æ–≤–ª—è–µ–º slug, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ –±—ã–ª–æ\r\n          if (!existingItem.productSlug) {\r\n            existingItem.productSlug = productDetails.slug;\r\n          }\r\n        } else {\r\n          cart.push({\r\n            productId: product.id,\r\n            productSlug: productDetails.slug || product.slug,\r\n            variantId: variantId,\r\n            quantity: 1,\r\n          });\r\n        }\r\n        \r\n        localStorage.setItem(CART_KEY, JSON.stringify(cart));\r\n        window.dispatchEvent(new Event('cart-updated'));\r\n      } catch (error: any) {\r\n        console.error('‚ùå [PRODUCT CARD] Error adding to guest cart:', error);\r\n        \r\n        // Check if error is about product not found\r\n        if (error?.message?.includes('does not exist') || error?.message?.includes('404') || error?.status === 404) {\r\n          alert(t('common.alerts.productNotFound'));\r\n        } else {\r\n          // –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –≤ localStorage, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ login\r\n          router.push(`/login?redirect=/products`);\r\n        }\r\n      } finally {\r\n        setIsAddingToCart(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    setIsAddingToCart(true);\r\n\r\n    try {\r\n      // –ü–æ–ª—É—á–∞–µ–º –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è variant ID\r\n      interface ProductDetails {\r\n        id: string;\r\n        variants?: Array<{\r\n          id: string;\r\n          sku: string;\r\n          price: number;\r\n          stock: number;\r\n          available: boolean;\r\n        }>;\r\n      }\r\n\r\n      // Encode slug to handle special characters\r\n      const encodedSlug = encodeURIComponent(product.slug.trim());\r\n      const productDetails = await apiClient.get<ProductDetails>(`/api/v1/products/${encodedSlug}`);\r\n\r\n      if (!productDetails.variants || productDetails.variants.length === 0) {\r\n        alert(t('common.alerts.noVariantsAvailable'));\r\n        return;\r\n      }\r\n\r\n      const variantId = productDetails.variants[0].id;\r\n      \r\n      await apiClient.post(\r\n        '/api/v1/cart/items',\r\n        {\r\n          productId: product.id,\r\n          variantId: variantId,\r\n          quantity: 1,\r\n        }\r\n      );\r\n\r\n      // –¢—Ä–∏–≥–≥–µ—Ä–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã\r\n      window.dispatchEvent(new Event('cart-updated'));\r\n    } catch (error: any) {\r\n      console.error('‚ùå [PRODUCT CARD] Error adding to cart:', error);\r\n      \r\n      // Check if error is about product not found\r\n      if (error?.message?.includes('does not exist') || error?.message?.includes('404') || error?.status === 404 || error?.statusCode === 404) {\r\n        alert(t('common.alerts.productNotFound'));\r\n        setIsAddingToCart(false);\r\n        return;\r\n      }\r\n      \r\n      // Check if error is about insufficient stock\r\n      if (error.response?.data?.detail?.includes('No more stock available') || \r\n          error.response?.data?.detail?.includes('exceeds available stock') ||\r\n          error.response?.data?.title === 'Insufficient stock') {\r\n        alert(t('common.alerts.noMoreStockAvailable'));\r\n        setIsAddingToCart(false);\r\n        return;\r\n      }\r\n      \r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ login\r\n      if (error.message?.includes('401') || error.message?.includes('Unauthorized') || error?.status === 401 || error?.statusCode === 401) {\r\n        router.push(`/login?redirect=/products`);\r\n      } else {\r\n        // Generic error message\r\n        alert(t('common.alerts.failedToAddToCart'));\r\n      }\r\n    } finally {\r\n      setIsAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  // List view layout (similar to cart)\r\n  if (viewMode === 'list') {\r\n    return (\r\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:bg-gray-50 transition-colors\">\r\n        {/* Mobile: Vertical layout, Desktop: Horizontal layout */}\r\n        <div className=\"flex flex-col sm:flex-row sm:items-center gap-4 px-4 sm:px-6 py-4\">\r\n          {/* Product Image - small like in cart */}\r\n          <Link\r\n            href={`/products/${product.slug}`}\r\n            className=\"w-20 h-20 bg-gray-100 rounded-lg flex-shrink-0 relative overflow-hidden self-start sm:self-center\"\r\n          >\r\n            {product.image && !imageError ? (\r\n              <Image\r\n                src={product.image}\r\n                alt={product.title}\r\n                fill\r\n                className=\"object-cover\"\r\n                sizes=\"80px\"\r\n                unoptimized\r\n                onError={() => setImageError(true)}\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full bg-gray-200 flex items-center justify-center\">\r\n                <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n                </svg>\r\n              </div>\r\n            )}\r\n          </Link>\r\n\r\n          {/* Product Info */}\r\n          <div className=\"flex-1 min-w-0 w-full sm:w-auto\">\r\n            <Link href={`/products/${product.slug}`} className=\"block\">\r\n              <h3 className=\"text-lg sm:text-xl font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2\">\r\n                {product.title}\r\n              </h3>\r\n              <p className=\"text-base sm:text-lg text-gray-500 mt-1\">\r\n                {product.brand?.name || t('common.defaults.category')}\r\n              </p>\r\n            </Link>\r\n            {/* Available Colors */}\r\n            {product.colors && product.colors.length > 0 && (\r\n              <div className=\"flex items-center gap-1.5 mt-2 flex-wrap\">\r\n                {product.colors.slice(0, 6).map((colorData, index) => {\r\n                  const colorValue = typeof colorData === 'string' ? colorData : colorData.value;\r\n                  const imageUrl = typeof colorData === 'object' ? colorData.imageUrl : null;\r\n                  const colorsHex = typeof colorData === 'object' ? colorData.colors : null;\r\n                  \r\n                  // Determine color hex: use colorsHex[0] if available, otherwise use getColorHex\r\n                  const colorHex = colorsHex && Array.isArray(colorsHex) && colorsHex.length > 0 \r\n                    ? colorsHex[0] \r\n                    : getColorHex(colorValue);\r\n                  \r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className=\"w-5 h-5 rounded-full border border-gray-300 flex-shrink-0 overflow-hidden\"\r\n                      style={imageUrl ? {} : { backgroundColor: colorHex || '#CCCCCC' }}\r\n                      title={colorValue}\r\n                      aria-label={`Color: ${colorValue}`}\r\n                    >\r\n                      {imageUrl ? (\r\n                        <img \r\n                          src={imageUrl} \r\n                          alt={colorValue}\r\n                          className=\"w-full h-full object-cover\"\r\n                          onError={(e) => {\r\n                            // Fallback to color hex if image fails to load\r\n                            const fallbackColor = colorHex || '#CCCCCC';\r\n                            (e.target as HTMLImageElement).style.backgroundColor = fallbackColor;\r\n                            (e.target as HTMLImageElement).style.display = 'none';\r\n                          }}\r\n                        />\r\n                      ) : null}\r\n                    </div>\r\n                  );\r\n                })}\r\n                {product.colors.length > 6 && (\r\n                  <span className=\"text-sm text-gray-500\">\r\n                    +{product.colors.length - 6}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Price and Actions - Mobile: Stacked, Desktop: Horizontal */}\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 w-full sm:w-auto\">\r\n            {/* Price */}\r\n            <div className=\"flex flex-col\">\r\n              <div className=\"flex items-center gap-2 flex-wrap\">\r\n                <span className=\"text-xl sm:text-2xl font-semibold text-blue-600\">\r\n                  {formatPrice(product.price || 0, currency || 'USD')}\r\n                </span>\r\n                {product.discountPercent && product.discountPercent > 0 ? (\r\n                  <span className=\"text-xs sm:text-sm font-semibold text-blue-600\">\r\n                    -{product.discountPercent}%\r\n                  </span>\r\n                ) : null}\r\n              </div>\r\n              {(product.originalPrice && product.originalPrice > product.price) || \r\n               (product.compareAtPrice && product.compareAtPrice > product.price) ? (\r\n                <span className=\"text-base sm:text-lg text-gray-500 line-through mt-0.5\">\r\n                  {formatPrice(\r\n                    (product.originalPrice && product.originalPrice > product.price) \r\n                      ? product.originalPrice \r\n                      : (product.compareAtPrice || 0), \r\n                    currency || 'USD'\r\n                  )}\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center gap-2 self-start sm:self-center\">\r\n              {/* Compare Icon */}\r\n              <button\r\n                onClick={handleCompareToggle}\r\n                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${\r\n                  isInCompare\r\n                    ? 'border-gray-900 text-gray-900 bg-white shadow-sm'\r\n                    : 'border-gray-200 text-gray-700 bg-white hover:border-gray-300 hover:bg-gray-50'\r\n                }`}\r\n                title={isInCompare ? t('common.messages.removedFromCompare') : t('common.messages.addedToCompare')}\r\n                aria-label={isInCompare ? t('common.messages.removedFromCompare') : t('common.messages.addedToCompare')}\r\n              >\r\n                <CompareIcon isActive={isInCompare} />\r\n              </button>\r\n\r\n              {/* Wishlist Icon */}\r\n              <button\r\n                onClick={handleWishlistToggle}\r\n                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-200 ${\r\n                  isInWishlist\r\n                    ? 'bg-red-600 text-white'\r\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\r\n                }`}\r\n                title={isInWishlist ? t('common.messages.removedFromWishlist') : t('common.messages.addedToWishlist')}\r\n                aria-label={isInWishlist ? t('common.messages.removedFromWishlist') : t('common.messages.addedToWishlist')}\r\n              >\r\n                <WishlistIcon filled={isInWishlist} />\r\n              </button>\r\n\r\n              {/* Cart Icon */}\r\n              <button\r\n                onClick={handleAddToCart}\r\n                disabled={!product.inStock || isAddingToCart}\r\n                className={`w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-all duration-200 ${\r\n                  product.inStock && !isAddingToCart\r\n                    ? 'bg-gray-100 text-gray-700 hover:bg-green-600 hover:text-white'\r\n                    : 'bg-gray-100 text-gray-400 cursor-not-allowed'\r\n                }`}\r\n                title={product.inStock ? t('common.buttons.addToCart') : t('common.stock.outOfStock')}\r\n                aria-label={product.inStock ? t('common.buttons.addToCart') : t('common.stock.outOfStock')}\r\n              >\r\n                {isAddingToCart ? (\r\n                  <svg className=\"animate-spin h-4 w-4 sm:h-5 sm:w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                  </svg>\r\n                ) : (\r\n                  <CartPngIcon size={20} />\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Grid view layout (original)\r\n  return (\r\n    <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow relative group\">\r\n      {/* Product Image */}\r\n      <div className=\"aspect-square bg-gray-100 relative overflow-hidden\">\r\n        <Link href={`/products/${product.slug}`} className=\"block w-full h-full\">\r\n          {product.image && !imageError ? (\r\n            <Image\r\n              src={product.image}\r\n              alt={product.title}\r\n              fill\r\n              className=\"object-cover\"\r\n              sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw\"\r\n              unoptimized\r\n              onError={() => setImageError(true)}\r\n            />\r\n          ) : (\r\n            <div className=\"w-full h-full bg-gray-200 flex items-center justify-center\">\r\n              <span className=\"text-gray-400 text-sm\">No Image</span>\r\n            </div>\r\n          )}\r\n        </Link>\r\n        \r\n        {/* Product Labels - stacked per corner */}\r\n        {product.labels && product.labels.length > 0 && <ProductLabels labels={product.labels} />}\r\n        \r\n        {/* Action Icons - –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */}\r\n        <div className={`absolute ${isCompact ? 'top-1.5 right-1.5' : 'top-3 right-3'} flex flex-col ${isCompact ? 'gap-1.5' : 'gap-2'} opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10`}>\r\n          {/* Compare Icon */}\r\n          <button\r\n            onClick={handleCompareToggle}\r\n            className={`${isCompact ? 'w-10 h-10' : 'w-12 h-12'} rounded-full border-2 flex items-center justify-center transition-all duration-200 ${\r\n              isInCompare\r\n                ? 'border-gray-900 text-gray-900 bg-white shadow-sm'\r\n                : 'border-gray-200 text-gray-700 bg-white hover:border-gray-300 hover:bg-gray-50'\r\n            }`}\r\n            title={isInCompare ? t('common.messages.removedFromCompare') : t('common.messages.addedToCompare')}\r\n            aria-label={isInCompare ? t('common.ariaLabels.removeFromCompare') : t('common.ariaLabels.addToCompare')}\r\n          >\r\n            <CompareIcon isActive={isInCompare} size={isCompact ? 16 : 18} />\r\n          </button>\r\n\r\n          {/* Wishlist Icon */}\r\n          <button\r\n            onClick={handleWishlistToggle}\r\n            className={`${isCompact ? 'w-10 h-10' : 'w-12 h-12'} rounded-full flex items-center justify-center transition-all duration-200 ${\r\n              isInWishlist\r\n                ? 'bg-red-600 text-white shadow-lg'\r\n                : 'bg-white text-gray-700 hover:bg-gray-50 shadow-md hover:shadow-lg'\r\n            }`}\r\n            title={isInWishlist ? t('common.messages.removedFromWishlist') : t('common.messages.addedToWishlist')}\r\n            aria-label={isInWishlist ? t('common.ariaLabels.removeFromWishlist') : t('common.ariaLabels.addToWishlist')}\r\n          >\r\n            {isCompact ? (\r\n              <svg width=\"18\" height=\"18\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path \r\n                  d=\"M10 17L8.55 15.7C4.4 12.2 2 10.1 2 7.5C2 5.4 3.4 4 5.5 4C6.8 4 8.1 4.6 9 5.5C9.9 4.6 11.2 4 12.5 4C14.6 4 16 5.4 16 7.5C16 10.1 13.6 12.2 9.45 15.7L10 17Z\" \r\n                  stroke=\"currentColor\" \r\n                  strokeWidth=\"1.8\" \r\n                  strokeLinecap=\"round\" \r\n                  strokeLinejoin=\"round\" \r\n                  fill={isInWishlist ? \"currentColor\" : \"none\"} \r\n                />\r\n              </svg>\r\n            ) : (\r\n              <WishlistIcon filled={isInWishlist} />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Product Info */}\r\n      <div className={isCompact ? 'p-2.5' : 'p-4'}>\r\n        <Link href={`/products/${product.slug}`} className=\"block\">\r\n          {/* Product Title */}\r\n          <h3 className={`${isCompact ? 'text-base' : 'text-xl'} font-medium text-gray-900 ${isCompact ? 'mb-0.5' : 'mb-1'} line-clamp-2`}>\r\n            {product.title}\r\n          </h3>\r\n          \r\n          {/* Category - Using brand name as category or default */}\r\n          <p className={`${isCompact ? 'text-sm' : 'text-lg'} text-gray-500 ${isCompact ? 'mb-1' : 'mb-2'}`}>\r\n            {product.brand?.name || t('common.defaults.category')}\r\n          </p>\r\n        </Link>\r\n\r\n        {/* Available Colors */}\r\n        {product.colors && product.colors.length > 0 && (\r\n          <div className={`flex items-center gap-1.5 ${isCompact ? 'mb-1' : 'mb-2'} flex-wrap`}>\r\n            {product.colors.slice(0, 6).map((colorData, index) => {\r\n              const colorValue = typeof colorData === 'string' ? colorData : colorData.value;\r\n              const imageUrl = typeof colorData === 'object' ? colorData.imageUrl : null;\r\n              const colorsHex = typeof colorData === 'object' ? colorData.colors : null;\r\n              \r\n              // Determine color hex: use colorsHex[0] if available, otherwise use getColorHex\r\n              const colorHex = colorsHex && Array.isArray(colorsHex) && colorsHex.length > 0 \r\n                ? colorsHex[0] \r\n                : getColorHex(colorValue);\r\n              \r\n              return (\r\n                <div\r\n                  key={index}\r\n                  className={`${isCompact ? 'w-4 h-4' : 'w-5 h-5'} rounded-full border border-gray-300 flex-shrink-0 overflow-hidden`}\r\n                  style={imageUrl ? {} : { backgroundColor: colorHex }}\r\n                  title={colorValue}\r\n                  aria-label={t('common.ariaLabels.color').replace('{color}', colorValue)}\r\n                >\r\n                  {imageUrl ? (\r\n                    <img \r\n                      src={imageUrl} \r\n                      alt={colorValue}\r\n                      className=\"w-full h-full object-cover\"\r\n                      onError={(e) => {\r\n                        // Fallback to color hex if image fails to load\r\n                        (e.target as HTMLImageElement).style.backgroundColor = colorHex;\r\n                        (e.target as HTMLImageElement).style.display = 'none';\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n                </div>\r\n              );\r\n            })}\r\n            {product.colors.length > 6 && (\r\n              <span className={`${isCompact ? 'text-xs' : 'text-sm'} text-gray-500`}>\r\n                +{product.colors.length - 6}\r\n              </span>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Price + Cart Row */}\r\n        <div className={`mt-2 flex items-center justify-between ${isCompact ? 'gap-2' : 'gap-4'}`}>\r\n          <div className=\"flex flex-col\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className={`${isCompact ? 'text-lg' : 'text-2xl'} font-semibold text-gray-900`}>\r\n                {formatPrice(product.price || 0, currency || 'USD')}\r\n              </span>\r\n              {product.discountPercent && product.discountPercent > 0 ? (\r\n                <span className={`${isCompact ? 'text-xs' : 'text-sm'} font-semibold text-blue-600`}>\r\n                  -{product.discountPercent}%\r\n                </span>\r\n              ) : null}\r\n            </div>\r\n            {(product.originalPrice && product.originalPrice > product.price) || \r\n             (product.compareAtPrice && product.compareAtPrice > product.price) ? (\r\n              <span className={`${isCompact ? 'text-sm' : 'text-lg'} text-gray-500 line-through`}>\r\n                {formatPrice(\r\n                  (product.originalPrice && product.originalPrice > product.price) \r\n                    ? product.originalPrice \r\n                    : (product.compareAtPrice || 0), \r\n                  currency || 'USD'\r\n                )}\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n          <button\r\n            onClick={handleAddToCart}\r\n            disabled={!product.inStock || isAddingToCart}\r\n            className={`${isCompact ? 'w-10 h-10' : 'w-12 h-12'} rounded-full flex items-center justify-center transition-all duration-200 ${\r\n              product.inStock && !isAddingToCart\r\n                ? 'bg-transparent text-gray-600 hover:bg-green-600 hover:text-white hover:shadow-md'\r\n                : 'bg-transparent text-gray-400 cursor-not-allowed'\r\n            }`}\r\n            title={product.inStock ? t('common.buttons.addToCart') : t('common.stock.outOfStock')}\r\n            aria-label={product.inStock ? t('common.ariaLabels.addToCart') : t('common.ariaLabels.outOfStock')}\r\n          >\r\n            {isAddingToCart ? (\r\n              <svg className={`animate-spin ${isCompact ? 'h-5 w-5' : 'h-6 w-6'}`} xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n              </svg>\r\n            ) : (\r\n              <CartPngIcon size={isCompact ? 18 : 24} />\r\n            )}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3251, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/ProductsGrid.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { ProductCard } from './ProductCard';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  price: number;\r\n  compareAtPrice: number | null;\r\n  image: string | null;\r\n  inStock: boolean;\r\n  brand: {\r\n    id: string;\r\n    name: string;\r\n  } | null;\r\n}\r\n\r\ntype ViewMode = 'list' | 'grid-2' | 'grid-3';\r\n\r\ninterface ProductsGridProps {\r\n  products: Product[];\r\n  sortBy?: string;\r\n}\r\n\r\nexport function ProductsGrid({ products, sortBy = 'default' }: ProductsGridProps) {\r\n  const { t } = useTranslation();\r\n  const [viewMode, setViewMode] = useState<ViewMode>('grid-2');\r\n  const [sortedProducts, setSortedProducts] = useState<Product[]>(products);\r\n\r\n  // Load view mode from localStorage\r\n  useEffect(() => {\r\n    const stored = localStorage.getItem('products-view-mode');\r\n    if (stored && ['list', 'grid-2', 'grid-3'].includes(stored)) {\r\n      setViewMode(stored as ViewMode);\r\n    } else {\r\n      // Default to grid-2 if nothing stored\r\n      setViewMode('grid-2');\r\n      localStorage.setItem('products-view-mode', 'grid-2');\r\n    }\r\n  }, []);\r\n\r\n  // Listen for view mode changes\r\n  useEffect(() => {\r\n    const handleViewModeChange = (_event: CustomEvent) => {\r\n      setViewMode((_event as CustomEvent).detail);\r\n    };\r\n\r\n    window.addEventListener('view-mode-changed', handleViewModeChange as (_event: Event) => void);\r\n    return () => {\r\n      window.removeEventListener('view-mode-changed', handleViewModeChange as (_event: Event) => void);\r\n    };\r\n  }, []);\r\n\r\n  // Sort products\r\n  useEffect(() => {\r\n    let sorted = [...products];\r\n\r\n    switch (sortBy) {\r\n      case 'price-asc':\r\n        sorted.sort((a, b) => a.price - b.price);\r\n        break;\r\n      case 'price-desc':\r\n        sorted.sort((a, b) => b.price - a.price);\r\n        break;\r\n      case 'name-asc':\r\n        sorted.sort((a, b) => a.title.localeCompare(b.title));\r\n        break;\r\n      case 'name-desc':\r\n        sorted.sort((a, b) => b.title.localeCompare(a.title));\r\n        break;\r\n      default:\r\n        // Keep original order\r\n        break;\r\n    }\r\n\r\n    setSortedProducts(sorted);\r\n  }, [products, sortBy]);\r\n\r\n  // Get grid classes based on view mode\r\n  const getGridClasses = () => {\r\n    switch (viewMode) {\r\n      case 'list':\r\n        return 'grid grid-cols-1 gap-4';\r\n      case 'grid-2':\r\n        return 'grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3';\r\n      case 'grid-3':\r\n        return 'grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4';\r\n      default:\r\n        return 'grid grid-cols-2 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4';\r\n    }\r\n  };\r\n\r\n  if (sortedProducts.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <p className=\"text-gray-500 text-lg\">{t('products.grid.noProducts')}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={getGridClasses()}>\r\n      {sortedProducts.map((product) => (\r\n        <ProductCard \r\n          key={product.id} \r\n          product={{\r\n            ...product,\r\n            compareAtPrice: product.compareAtPrice ?? undefined\r\n          }} \r\n          viewMode={viewMode} \r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AA2BO,SAAS,aAAa,EAAE,QAAQ,EAAE,SAAS,SAAS,EAAqB;IAC9E,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sJAAc;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAW;IACnD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAY;IAEhE,mCAAmC;IACnC,IAAA,kNAAS,EAAC;QACR,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,UAAU;YAAC;YAAQ;YAAU;SAAS,CAAC,QAAQ,CAAC,SAAS;YAC3D,YAAY;QACd,OAAO;YACL,sCAAsC;YACtC,YAAY;YACZ,aAAa,OAAO,CAAC,sBAAsB;QAC7C;IACF,GAAG,EAAE;IAEL,+BAA+B;IAC/B,IAAA,kNAAS,EAAC;QACR,MAAM,uBAAuB,CAAC;YAC5B,YAAY,AAAC,OAAuB,MAAM;QAC5C;QAEA,OAAO,gBAAgB,CAAC,qBAAqB;QAC7C,OAAO;YACL,OAAO,mBAAmB,CAAC,qBAAqB;QAClD;IACF,GAAG,EAAE;IAEL,gBAAgB;IAChB,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS;eAAI;SAAS;QAE1B,OAAQ;YACN,KAAK;gBACH,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;gBACvC;YACF,KAAK;gBACH,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;gBACvC;YACF,KAAK;gBACH,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK;gBACnD;YACF,KAAK;gBACH,OAAO,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK;gBACnD;YACF;gBAEE;QACJ;QAEA,kBAAkB;IACpB,GAAG;QAAC;QAAU;KAAO;IAErB,sCAAsC;IACtC,MAAM,iBAAiB;QACrB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,IAAI,eAAe,MAAM,KAAK,GAAG;QAC/B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAyB,EAAE;;;;;;;;;;;IAG9C;IAEA,qBACE,8OAAC;QAAI,WAAW;kBACb,eAAe,GAAG,CAAC,CAAC,wBACnB,8OAAC,wJAAW;gBAEV,SAAS;oBACP,GAAG,OAAO;oBACV,gBAAgB,QAAQ,cAAc,IAAI;gBAC5C;gBACA,UAAU;eALL,QAAQ,EAAE;;;;;;;;;;AAUzB"}},
    {"offset": {"line": 3372, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/CategoryNavigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, Suspense, useRef, useCallback } from 'react';\r\nimport type { ReactNode } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport { apiClient } from '../lib/api-client';\r\nimport { getStoredLanguage } from '../lib/language';\r\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface Category {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  fullPath: string;\r\n  children: Category[];\r\n}\r\n\r\ninterface CategoriesResponse {\r\n  data: Category[];\r\n}\r\n\r\ninterface Product {\r\n  id: string;\r\n  slug: string;\r\n  title: string;\r\n  image: string | null;\r\n}\r\n\r\ninterface ProductsResponse {\r\n  data: Product[];\r\n  meta: {\r\n    total: number;\r\n  };\r\n}\r\n\r\n/**\r\n * Flatten categories tree to get all categories\r\n */\r\nfunction flattenCategories(cats: Category[]): Category[] {\r\n  const result: Category[] = [];\r\n  cats.forEach((cat) => {\r\n    result.push(cat);\r\n    if (cat.children && cat.children.length > 0) {\r\n      result.push(...flattenCategories(cat.children));\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\n/**\r\n * Get category icon based on title/slug\r\n */\r\nfunction getCategoryIcon(\r\n  categoryTitle: string,\r\n  categorySlug: string,\r\n  isActive: boolean,\r\n  t: (path: string) => string\r\n): ReactNode {\r\n  const title = categoryTitle.toLowerCase();\r\n  const slug = categorySlug.toLowerCase();\r\n\r\n  // ALL category - grey circle\r\n  if (title === 'all' || slug === 'all') {\r\n    return (\r\n      <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center transition-all ${\r\n        isActive ? 'bg-gray-300' : 'bg-gray-200'\r\n      }`}>\r\n        <span className=\"text-xs sm:text-sm font-bold text-gray-900\">{t('products.categoryNavigation.labels.all')}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // NEW category - green circle\r\n  if (title.includes('new') || slug.includes('new')) {\r\n    return (\r\n      <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center transition-all ${\r\n        isActive ? 'bg-green-200' : 'bg-green-100'\r\n      }`}>\r\n        <span className=\"text-xs sm:text-sm font-bold text-green-700\">{t('products.categoryNavigation.labels.new')}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // SALE category - red circle\r\n  if (title.includes('sale') || slug.includes('sale')) {\r\n    return (\r\n      <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center transition-all ${\r\n        isActive ? 'bg-red-200' : 'bg-red-100'\r\n      }`}>\r\n        <span className=\"text-xs sm:text-sm font-bold text-red-700\">{t('products.categoryNavigation.labels.sale')}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Default - white circle (will be filled with product image if available)\r\n  return (\r\n    <div className=\"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center overflow-hidden\">\r\n      {/* Product image will be inserted here if available */}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction CategoryNavigationContent() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { t } = useTranslation();\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [categoryProducts, setCategoryProducts] = useState<Record<string, Product | null>>({});\r\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\r\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\r\n  const [canScrollRight, setCanScrollRight] = useState(false);\r\n  const currentCategory = searchParams?.get('category');\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  /**\r\n   * Fetch categories and first product for each category\r\n   */\r\n  const fetchCategories = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const language = getStoredLanguage();\r\n      const response = await apiClient.get<CategoriesResponse>('/api/v1/categories/tree', {\r\n        params: { lang: language },\r\n      });\r\n\r\n      const categoriesList = response.data || [];\r\n      const allCategories = flattenCategories(categoriesList);\r\n      setCategories(allCategories);\r\n\r\n      // Fetch first product with image for each category\r\n      const products: Record<string, Product | null> = {};\r\n      \r\n      // Add \"All\" category\r\n      const allCategoriesWithAll = [\r\n        { id: 'all', slug: 'all', title: t('products.categoryNavigation.all'), fullPath: 'all', children: [] } as Category,\r\n        ...allCategories\r\n      ];\r\n\r\n      // Fetch products for each category\r\n      const categoryPromises = allCategoriesWithAll.map(async (category) => {\r\n        try {\r\n          const params: Record<string, string> = {\r\n            limit: '5',\r\n            lang: language,\r\n          };\r\n          if (category.slug !== 'all') {\r\n            params.category = category.slug;\r\n          }\r\n\r\n          console.log(`üîç [CategoryNavigation] Fetching products for category: \"${category.title}\" (slug: \"${category.slug}\")`, params);\r\n          const productsResponse = await apiClient.get<ProductsResponse>('/api/v1/products', {\r\n            params,\r\n          });\r\n          \r\n          console.log(`üì¶ [CategoryNavigation] Response for \"${category.title}\":`, {\r\n            total: productsResponse.meta?.total || 0,\r\n            productsCount: productsResponse.data?.length || 0,\r\n            firstProductId: productsResponse.data?.[0]?.id,\r\n            firstProductImage: productsResponse.data?.[0]?.image,\r\n          });\r\n          \r\n          // If category has 0 products, it might mean category was not found\r\n          if (productsResponse.meta?.total === 0 && category.slug !== 'all') {\r\n            console.warn(`‚ö†Ô∏è [CategoryNavigation] Category \"${category.title}\" (${category.slug}) has 0 products - category might not exist in database`);\r\n          }\r\n          \r\n          // Get first product with image\r\n          // Only assign product if we have products for this category\r\n          const productWithImage = productsResponse.data && productsResponse.data.length > 0\r\n            ? (productsResponse.data.find(p => p.image) || productsResponse.data[0] || null)\r\n            : null;\r\n          products[category.slug] = productWithImage;\r\n          \r\n          console.log(`‚úÖ [CategoryNavigation] Category \"${category.title}\" (${category.slug}): selected product: ${productWithImage?.id} (image: ${productWithImage?.image ? 'yes' : 'no'})`);\r\n        } catch (err) {\r\n          console.error(`‚ùå [CategoryNavigation] Error fetching product for category ${category.slug}:`, err);\r\n          products[category.slug] = null;\r\n        }\r\n      });\r\n\r\n      await Promise.all(categoryPromises);\r\n      setCategoryProducts(products);\r\n      \r\n      // Log final state to verify each category has unique product\r\n      console.log('‚úÖ [CategoryNavigation] All categories processed');\r\n      console.log('üìä [CategoryNavigation] Final category products mapping:', \r\n        Object.entries(products).map(([slug, product]) => ({\r\n          slug,\r\n          productId: product?.id || 'null',\r\n          productImage: product?.image || 'null',\r\n        }))\r\n      );\r\n      \r\n      // Check for duplicate products\r\n      const productIds = Object.values(products).map(p => p?.id).filter(Boolean);\r\n      const uniqueProductIds = new Set(productIds);\r\n      if (productIds.length !== uniqueProductIds.size) {\r\n        console.warn('‚ö†Ô∏è [CategoryNavigation] WARNING: Some categories have the same product!', {\r\n          totalProducts: productIds.length,\r\n          uniqueProducts: uniqueProductIds.size,\r\n          duplicates: productIds.filter((id, index) => productIds.indexOf(id) !== index)\r\n        });\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Error fetching categories:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCategoryClick = (categorySlug: string | null) => {\r\n    const params = new URLSearchParams(searchParams?.toString() || '');\r\n    \r\n    if (categorySlug && categorySlug !== 'all') {\r\n      params.set('category', categorySlug);\r\n    } else {\r\n      params.delete('category');\r\n    }\r\n    \r\n    // Reset to page 1 when changing category\r\n    params.delete('page');\r\n    \r\n    router.push(`/products?${params.toString()}`);\r\n  };\r\n\r\n  const updateScrollButtons = useCallback(() => {\r\n    const container = scrollContainerRef.current;\r\n    if (!container) {\r\n      console.warn('[CategoryNavigation] Container not found for updateScrollButtons');\r\n      return;\r\n    }\r\n\r\n    const scrollLeft = container.scrollLeft;\r\n    const scrollWidth = container.scrollWidth;\r\n    const clientWidth = container.clientWidth;\r\n    \r\n    const canLeft = scrollLeft > 8;\r\n    const canRight = scrollLeft + clientWidth < scrollWidth - 8;\r\n\r\n    console.info('[CategoryNavigation] Update scroll buttons:', {\r\n      scrollLeft,\r\n      scrollWidth,\r\n      clientWidth,\r\n      canLeft,\r\n      canRight\r\n    });\r\n\r\n    setCanScrollLeft(canLeft);\r\n    setCanScrollRight(canRight);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const container = scrollContainerRef.current;\r\n    if (!container) return;\r\n\r\n    const handleResize = () => {\r\n      // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ—Å–ª–µ —Ä–µ—Å–∞–π–∑–∞\r\n      setTimeout(() => updateScrollButtons(), 100);\r\n    };\r\n    \r\n    const handleScroll = () => {\r\n      updateScrollButtons();\r\n    };\r\n    \r\n    container.addEventListener('scroll', handleScroll);\r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–æ–≤\r\n    setTimeout(() => {\r\n      updateScrollButtons();\r\n    }, 100);\r\n\r\n    return () => {\r\n      container.removeEventListener('scroll', handleScroll);\r\n      window.removeEventListener('resize', handleResize);\r\n    };\r\n  }, [updateScrollButtons]);\r\n\r\n  useEffect(() => {\r\n    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤\r\n    if (!loading && categories.length > 0) {\r\n      setTimeout(() => {\r\n        updateScrollButtons();\r\n      }, 200);\r\n    }\r\n  }, [categories.length, Object.keys(categoryProducts).length, loading, updateScrollButtons]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white border-b border-gray-200 py-3 sm:py-4 md:py-6 w-full\">\r\n        <div className=\"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8\">\r\n          <div className=\"flex items-center gap-4 sm:gap-6 overflow-x-auto\">\r\n            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((i) => (\r\n              <div key={i} className=\"flex flex-col items-center gap-1 sm:gap-2 min-w-[80px] sm:min-w-[100px]\">\r\n                <div className=\"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-200 animate-pulse\"></div>\r\n                <div className=\"w-16 sm:w-20 h-3 sm:h-4 bg-gray-200 rounded animate-pulse\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Add \"All\" category at the beginning\r\n  const allCategoriesWithAll = [\r\n    { id: 'all', slug: 'all', title: t('products.categoryNavigation.all'), fullPath: 'all', children: [] } as Category,\r\n    ...categories\r\n  ];\r\n\r\n  // Limit to first 10 categories for horizontal navigation\r\n  const displayCategories = allCategoriesWithAll.slice(0, 10);\r\n\r\n  const scrollByAmount = (amount: number) => {\r\n    const container = scrollContainerRef.current;\r\n    if (!container) {\r\n      console.warn('[CategoryNavigation] Container not found for scrolling');\r\n      return;\r\n    }\r\n    \r\n    const scrollLeftBefore = container.scrollLeft;\r\n    console.info('[CategoryNavigation] Scrolling:', { \r\n      direction: amount > 0 ? 'right' : 'left', \r\n      amount, \r\n      scrollLeftBefore,\r\n      scrollWidth: container.scrollWidth,\r\n      clientWidth: container.clientWidth\r\n    });\r\n    \r\n    container.scrollBy({ left: amount, behavior: 'smooth' });\r\n    \r\n    // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è –ø–ª–∞–≤–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏\r\n    setTimeout(() => {\r\n      updateScrollButtons();\r\n    }, 100);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white border-b border-gray-200 py-3 sm:py-4 md:py-6 w-full\">\r\n      <div className=\"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8\">\r\n        <div className=\"relative\">\r\n          {/* –õ–µ–≤–∞—è —Å—Ç—Ä–µ–ª–∫–∞ - –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞, –Ω–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              console.info('[CategoryNavigation] Left arrow clicked, canScrollLeft:', canScrollLeft);\r\n              if (canScrollLeft) {\r\n                scrollByAmount(-220);\r\n              }\r\n            }}\r\n            disabled={!canScrollLeft}\r\n            className={`flex absolute left-0 top-1/2 -translate-y-1/2 -translate-x-8 md:-translate-x-12 z-10 w-12 h-12 items-center justify-center bg-transparent hover:bg-transparent transition-all ${\r\n              canScrollLeft \r\n                ? 'text-gray-900 hover:scale-110 cursor-pointer' \r\n                : 'text-gray-300 cursor-not-allowed opacity-50'\r\n            }`}\r\n            aria-label={t('products.categoryNavigation.scrollLeft')}\r\n          >\r\n            <ChevronLeft className=\"w-6 h-6\" />\r\n          </button>\r\n          <div\r\n            ref={scrollContainerRef}\r\n            className=\"flex items-center gap-4 sm:gap-6 md:gap-8 overflow-x-auto scrollbar-hide pb-1 sm:pb-2 pl-2 sm:pl-4 md:pl-6\"\r\n            style={{ scrollBehavior: 'smooth' }}\r\n          >\r\n          {displayCategories.map((category) => {\r\n            const isActive = category.slug === 'all' \r\n              ? !currentCategory \r\n              : currentCategory === category.slug;\r\n            const product = categoryProducts[category.slug];\r\n            const title = category.title;\r\n            const slug = category.slug;\r\n            \r\n            // Determine label text\r\n            let labelText = title;\r\n            if (slug === 'all') {\r\n              labelText = t('products.categoryNavigation.shopAll');\r\n            } else if (title.toLowerCase().includes('new')) {\r\n              labelText = t('products.categoryNavigation.newArrivals');\r\n            } else if (title.toLowerCase().includes('sale')) {\r\n              labelText = t('products.categoryNavigation.sale');\r\n            }\r\n\r\n            return (\r\n              <Link\r\n                key={category.id}\r\n                href={category.slug === 'all' ? '/products' : `/products?category=${category.slug}`}\r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  handleCategoryClick(category.slug === 'all' ? null : category.slug);\r\n                }}\r\n                className=\"flex flex-col items-center gap-1 sm:gap-2 min-w-[80px] sm:min-w-[100px] group cursor-pointer transition-all duration-200 hover:opacity-80\"\r\n              >\r\n                {/* Category Icon/Image */}\r\n                <div className=\"relative\">\r\n                  {(slug === 'all' || title.toLowerCase().includes('new') || title.toLowerCase().includes('sale')) ? (\r\n                    getCategoryIcon(title, slug, isActive, t)\r\n                  ) : (\r\n                    <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-white border-2 flex items-center justify-center overflow-hidden transition-all ${\r\n                      isActive ? 'border-gray-400 shadow-md' : 'border-gray-200'\r\n                    }`}>\r\n                      {product?.image ? (\r\n                        <Image\r\n                          src={product.image}\r\n                          alt={category.title}\r\n                          width={80}\r\n                          height={80}\r\n                          className=\"w-full h-full object-cover\"\r\n                          unoptimized\r\n                        />\r\n                      ) : (\r\n                        <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\r\n                          <svg className=\"w-6 h-6 sm:w-8 sm:h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\" />\r\n                          </svg>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Category Label */}\r\n                <span className={`text-[10px] sm:text-xs text-center font-medium leading-tight transition-colors ${\r\n                  isActive \r\n                    ? 'text-gray-900 underline' \r\n                    : 'text-gray-700'\r\n                }`}>\r\n                  {labelText}\r\n                </span>\r\n              </Link>\r\n            );\r\n          })}\r\n          </div>\r\n          {/* –ü—Ä–∞–≤–∞—è —Å—Ç—Ä–µ–ª–∫–∞ - –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞, –Ω–æ –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –∫–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å */}\r\n          <button\r\n            type=\"button\"\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              e.stopPropagation();\r\n              console.info('[CategoryNavigation] Right arrow clicked, canScrollRight:', canScrollRight);\r\n              if (canScrollRight) {\r\n                scrollByAmount(220);\r\n              }\r\n            }}\r\n            disabled={!canScrollRight}\r\n            className={`flex absolute right-0 top-1/2 -translate-y-1/2 translate-x-8 md:translate-x-12 z-10 w-12 h-12 items-center justify-center bg-transparent hover:bg-transparent transition-all ${\r\n              canScrollRight \r\n                ? 'text-gray-900 hover:scale-110 cursor-pointer' \r\n                : 'text-gray-300 cursor-not-allowed opacity-50'\r\n            }`}\r\n            aria-label={t('products.categoryNavigation.scrollRight')}\r\n          >\r\n            <ChevronRight className=\"w-6 h-6\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function CategoryNavigation() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"bg-white border-b border-gray-200 py-3 sm:py-4 md:py-6 w-full\">\r\n        <div className=\"max-w-7xl mx-auto px-2 sm:px-4 md:px-6 lg:px-8\">\r\n          <div className=\"flex items-center gap-4 sm:gap-6 overflow-x-auto\">\r\n            {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((i) => (\r\n              <div key={i} className=\"flex flex-col items-center gap-1 sm:gap-2 min-w-[80px] sm:min-w-[100px]\">\r\n                <div className=\"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gray-200 animate-pulse\"></div>\r\n                <div className=\"w-16 sm:w-20 h-3 sm:h-4 bg-gray-200 rounded animate-pulse\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    }>\r\n      <CategoryNavigationContent />\r\n    </Suspense>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3983, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/components/MobileFiltersDrawer.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport type { ReactNode } from 'react';\r\nimport { useTranslation } from '../lib/i18n-client';\r\n\r\ninterface MobileFiltersDrawerProps {\r\n  title?: string;\r\n  triggerLabel?: string;\r\n  children: ReactNode;\r\n  openEventName?: string;\r\n}\r\n\r\n/**\r\n * Mobile filters drawer that ’Ø’°÷Ä’∏’≤ ’ß ’¢’°÷Å’æ’•’¨ ’©’•’õ ’Ø’∏’≥’°’Ø’´÷Å, ’©’•’õ ’°÷Ä’ø’°÷Ñ’´’∂ ’´÷Ä’°’§’°÷Ä’±’∏÷Ç’©’µ’∏÷Ç’∂’´÷Å÷â\r\n */\r\nexport function MobileFiltersDrawer({\r\n  title,\r\n  triggerLabel,\r\n  children,\r\n  openEventName,\r\n}: MobileFiltersDrawerProps) {\r\n  const { t } = useTranslation();\r\n  const defaultTitle = title || t('products.mobileFilters.title');\r\n  const defaultTriggerLabel = triggerLabel || t('products.mobileFilters.title');\r\n  const [open, setOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = '';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = '';\r\n    };\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    if (!openEventName) return;\r\n\r\n    const handleExternalToggle = () => {\r\n      console.debug('[MobileFiltersDrawer] external toggle received');\r\n      setOpen((prev) => !prev);\r\n    };\r\n\r\n    window.addEventListener(openEventName, handleExternalToggle);\r\n    return () => {\r\n      window.removeEventListener(openEventName, handleExternalToggle);\r\n    };\r\n  }, [openEventName]);\r\n\r\n  return (\r\n    <div className=\"lg:hidden\">\r\n      {open && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex bg-black/40 backdrop-blur-sm\"\r\n          onClick={() => setOpen(false)}\r\n        >\r\n          <div\r\n            className=\"h-full min-h-screen w-1/2 min-w-[16rem] max-w-full bg-white flex flex-col shadow-2xl\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            onClick={(event) => event.stopPropagation()}\r\n          >\r\n            <div className=\"flex items-center justify-between border-b border-gray-200 px-5 py-4\">\r\n              <p className=\"text-lg font-semibold text-gray-900\">{defaultTitle}</p>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setOpen(false)}\r\n                className=\"h-10 w-10 rounded-full border border-gray-200 text-gray-600 hover:border-gray-300 hover:text-gray-900\"\r\n                aria-label={t('products.mobileFilters.close')}\r\n              >\r\n                <svg className=\"mx-auto h-5 w-5\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth={2}>\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto px-5 py-6 space-y-6\">{children}</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAJA;;;;AAgBO,SAAS,oBAAoB,EAClC,KAAK,EACL,YAAY,EACZ,QAAQ,EACR,aAAa,EACY;IACzB,MAAM,EAAE,CAAC,EAAE,GAAG,IAAA,sJAAc;IAC5B,MAAM,eAAe,SAAS,EAAE;IAChC,MAAM,sBAAsB,gBAAgB,EAAE;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,IAAA,kNAAS,EAAC;QACR,IAAI,MAAM;YACR,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;QACA,OAAO;YACL,SAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG;QACjC;IACF,GAAG;QAAC;KAAK;IAET,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,eAAe;QAEpB,MAAM,uBAAuB;YAC3B,QAAQ,KAAK,CAAC;YACd,QAAQ,CAAC,OAAS,CAAC;QACrB;QAEA,OAAO,gBAAgB,CAAC,eAAe;QACvC,OAAO;YACL,OAAO,mBAAmB,CAAC,eAAe;QAC5C;IACF,GAAG;QAAC;KAAc;IAElB,qBACE,8OAAC;QAAI,WAAU;kBACZ,sBACC,8OAAC;YACC,WAAU;YACV,SAAS,IAAM,QAAQ;sBAEvB,cAAA,8OAAC;gBACC,WAAU;gBACV,MAAK;gBACL,cAAW;gBACX,SAAS,CAAC,QAAU,MAAM,eAAe;;kCAEzC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAuC;;;;;;0CACpD,8OAAC;gCACC,MAAK;gCACL,SAAS,IAAM,QAAQ;gCACvB,WAAU;gCACV,cAAY,EAAE;0CAEd,cAAA,8OAAC;oCAAI,WAAU;oCAAkB,SAAQ;oCAAY,MAAK;oCAAO,QAAO;oCAAe,aAAa;8CAClG,cAAA,8OAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAK3D,8OAAC;wBAAI,WAAU;kCAA8C;;;;;;;;;;;;;;;;;;;;;;AAMzE"}},
    {"offset": {"line": 4111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/user/Desktop/white%20shop/White-Shop-templete/WhiteShop-Template/apps/web/lib/events.ts"],"sourcesContent":["'use client';\r\n\r\n/**\r\n * Shared event names used for cross-component communication.\r\n */\r\nexport const MOBILE_FILTERS_EVENT = 'mobile:filters-toggle';\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AAKO,MAAM,uBAAuB"}}]
}