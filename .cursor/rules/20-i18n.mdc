---
description: ‘ª’∂’ø’•÷Ä’∂’°÷Å’´’∏’∂’°’¨’°÷Å’¥’°’∂ (i18n) ’Ø’°’∂’∏’∂’∂’•÷Ä÷â ‘º’∏’Ø’°’¨’´’¶’°÷Å’´’°, ÷Ü’∏÷Ä’¥’°’ø’°’æ’∏÷Ä’∏÷Ç’¥, ’¢’°’¶’¥’°’¨’•’¶’∏÷Ç÷â
globs: ["**/*.tsx", "**/locales/**", "**/i18n/**", "**/translations/**"]
alwaysApply: false
---

# ‘ª’Ü’è‘µ’ê’Ü‘±’ë‘ª’à’Ü‘±‘º‘±’ë’Ñ‘±’Ü ‘ø‘±’Ü’à’Ü’Ü‘µ’ê (i18n)

> ‘±’∑’≠’°÷Ä’∞’® ’¥’•’Ø’´÷Å ’°’æ’•’¨’´ ’¨’•’¶’∏÷Ç ’∏÷Ç’∂’´÷â ’Ü’°’≠’°’ø’•’Ω’´’õ÷Ä i18n-’® ’Ω’Ø’¶’¢’´÷Å, ’∞’•’ø’∏ ’¥’´ ’°’æ’•’¨’°÷Å’∂’´÷â

---

## üéØ ’Ä‘ª’Ñ’Ü‘±‘ø‘±’Ü ’ç‘ø‘∂‘≤’à’í’Ü’î’Ü‘µ’ê

1. **Externalise strings** ‚Äî ’¢’∏’¨’∏÷Ä ’ø’•÷Ñ’Ω’ø’•÷Ä’® ’°’º’°’∂’±’´’∂ ÷Ü’°’µ’¨’•÷Ä’∏÷Ç’¥
2. **’ñ’∏÷Ä’¥’°’ø’°’æ’∏÷Ä’∏÷Ç’¥ ’¨’∏’Ø’°’¨’∏’æ** ‚Äî ’°’¥’Ω’°’©’æ’•÷Ä, ’©’æ’•÷Ä, ’°÷Ä’™’∏÷Ç’µ’©’∂’•÷Ä
3. **RTL support** ‚Äî ’•’©’• ’°÷Ä’°’¢’°’Ø’°’∂/’•’¢÷Ä’°’µ’•÷Ä’•’∂ ’ø’°÷Ä’¢’•÷Ä’°’Ø ’ß ’∫’•’ø÷Ñ
4. **Fallback** ‚Äî ’•’©’• ’©’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂ ’π’Ø’°, ÷Å’∏÷Ç÷Å’°’§÷Ä’•’¨ default

---

## üåê NEXT.JS I18N

### ‘ø’°÷Ä’£’°’æ’∏÷Ä’∏÷Ç’¥ (App Router)

```typescript
// middleware.ts ‚Äî ’¨’•’¶’æ’´ ’∏÷Ä’∏’∑’∏÷Ç’¥ middleware-’∏’æ
import { NextRequest, NextResponse } from 'next/server';

const locales = ['en', 'ru', 'hy'];
const defaultLocale = 'en';

export function middleware(request: NextRequest) {
  const { pathname } = request.nextUrl;

  // ’ç’ø’∏÷Ç’£’∏÷Ç’¥. locale URL-’∏÷Ç’¥ ’Ø’°’û
  const pathnameHasLocale = locales.some(
    (locale) => pathname.startsWith(`/${locale}/`) || pathname === `/${locale}`
  );

  if (pathnameHasLocale) return;

  // ’à÷Ä’∏’∑’∏÷Ç’¥ locale-’® Accept-Language header-’´÷Å
  const locale = request.headers.get('accept-language')?.split(',')[0]?.split('-')[0] ?? defaultLocale;
  const resolvedLocale = locales.includes(locale) ? locale : defaultLocale;

  const url = new URL(`/${resolvedLocale}${pathname}`, request.url);
  return NextResponse.redirect(url);
}

export const config = {
  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)'],
};
```

### ’ñ’°’µ’¨’•÷Ä’´ ’Ø’°’º’∏÷Ç÷Å’æ’°’Æ÷Ñ

```
src/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ [locale]/           # ‘¥’´’∂’°’¥’´’Ø ’Ω’•’£’¥’•’∂’ø ’¨’•’¶’æ’´ ’∞’°’¥’°÷Ä
‚îÇ       ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ       ‚îú‚îÄ‚îÄ page.tsx
‚îÇ       ‚îî‚îÄ‚îÄ products/
‚îÇ           ‚îî‚îÄ‚îÄ page.tsx
‚îÇ
‚îú‚îÄ‚îÄ locales/
‚îÇ   ‚îú‚îÄ‚îÄ en/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.json     # ‘∏’∂’§’∞’°’∂’∏÷Ç÷Ä ’ø’∏’≤’•÷Ä
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.json       # ‘±’∏÷Ç’ø’∏÷Ä’´’¶’°÷Å’´’°
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ products.json   # ‘±’∫÷Ä’°’∂÷Ñ’∂’•÷Ä
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errors.json     # ’ç’≠’°’¨’∂’•÷Ä
‚îÇ   ‚îú‚îÄ‚îÄ ru/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common.json
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ hy/
‚îÇ       ‚îú‚îÄ‚îÄ common.json
‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ i18n/
        ‚îú‚îÄ‚îÄ index.ts        # ‘≥’¨’≠’°’æ’∏÷Ä export
        ‚îú‚îÄ‚îÄ config.ts       # ‘ø’∏’∂÷Ü’´’£’∏÷Ç÷Ä’°÷Å’´’°
        ‚îî‚îÄ‚îÄ getDictionary.ts
```

### ‘π’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ÷Ü’°’µ’¨’•÷Ä’´ ’±÷á’°’π’°÷É

```json
// locales/en/common.json
{
  "nav": {
    "home": "Home",
    "products": "Products",
    "cart": "Cart",
    "account": "Account"
  },
  "buttons": {
    "submit": "Submit",
    "cancel": "Cancel",
    "save": "Save",
    "delete": "Delete"
  },
  "messages": {
    "loading": "Loading...",
    "error": "Something went wrong",
    "success": "Success!"
  }
}

// locales/ru/common.json
{
  "nav": {
    "home": "–ì–ª–∞–≤–Ω–∞—è",
    "products": "–¢–æ–≤–∞—Ä—ã",
    "cart": "–ö–æ—Ä–∑–∏–Ω–∞",
    "account": "–ê–∫–∫–∞—É–Ω—Ç"
  },
  "buttons": {
    "submit": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å",
    "cancel": "–û—Ç–º–µ–Ω–∞",
    "save": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
    "delete": "–£–¥–∞–ª–∏—Ç—å"
  },
  "messages": {
    "loading": "–ó–∞–≥—Ä—É–∑–∫–∞...",
    "error": "–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫",
    "success": "–£—Å–ø–µ—à–Ω–æ!"
  }
}
```

### ‘π’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’Ω’ø’°÷Å’∏÷Ç’¥ (Server Components)

```typescript
// lib/i18n/getDictionary.ts
import 'server-only';

const dictionaries = {
  en: () => import('@/locales/en/common.json').then((m) => m.default),
  ru: () => import('@/locales/ru/common.json').then((m) => m.default),
  hy: () => import('@/locales/hy/common.json').then((m) => m.default),
};

export type Locale = keyof typeof dictionaries;

export async function getDictionary(locale: Locale) {
  return dictionaries[locale]();
}

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥ Server Component-’∏÷Ç’¥
// app/[locale]/page.tsx
export default async function Page({ params }: { params: { locale: Locale } }) {
  const dict = await getDictionary(params.locale);
  
  return (
    <main>
      <h1>{dict.nav.home}</h1>
      <button>{dict.buttons.submit}</button>
    </main>
  );
}
```

### Client Components (next-intl)

```typescript
// ’è’•’≤’°’§÷Ä’∏÷Ç’¥. pnpm add next-intl

// lib/i18n/config.ts
import { getRequestConfig } from 'next-intl/server';

export default getRequestConfig(async ({ locale }) => ({
  messages: (await import(`@/locales/${locale}/common.json`)).default,
}));

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥ Client Component-’∏÷Ç’¥
'use client';

import { useTranslations } from 'next-intl';

export function ProductCard({ product }: Props) {
  const t = useTranslations('products');
  
  return (
    <div>
      <h3>{product.name}</h3>
      <button>{t('addToCart')}</button>
    </div>
  );
}
```

---

## üî¢ ’ñ’à’ê’Ñ‘±’è‘±’é’à’ê’à’í’Ñ

### ‘π’æ’•÷Ä

```typescript
// lib/i18n/formatters.ts

export function formatNumber(
  value: number,
  locale: string,
  options?: Intl.NumberFormatOptions,
): string {
  return new Intl.NumberFormat(locale, options).format(value);
}

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥
formatNumber(1234567.89, 'en');    // "1,234,567.89"
formatNumber(1234567.89, 'ru');    // "1 234 567,89"
formatNumber(1234567.89, 'de');    // "1.234.567,89"
```

### ‘±÷Ä’™’∏÷Ç’µ’©’∂’•÷Ä

```typescript
export function formatCurrency(
  amount: number,
  currency: string,
  locale: string,
): string {
  return new Intl.NumberFormat(locale, {
    style: 'currency',
    currency,
  }).format(amount);
}

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥
formatCurrency(99.99, 'USD', 'en');    // "$99.99"
formatCurrency(99.99, 'RUB', 'ru');    // "99,99 ‚ÇΩ"
formatCurrency(99.99, 'AMD', 'hy');    // "99,99 ÷è"
formatCurrency(99.99, 'EUR', 'de');    // "99,99 ‚Ç¨"
```

### ‘±’¥’Ω’°’©’æ’•÷Ä

```typescript
export function formatDate(
  date: Date | string,
  locale: string,
  options?: Intl.DateTimeFormatOptions,
): string {
  const d = typeof date === 'string' ? new Date(date) : date;
  
  return new Intl.DateTimeFormat(locale, {
    dateStyle: 'medium',
    ...options,
  }).format(d);
}

export function formatDateTime(
  date: Date | string,
  locale: string,
): string {
  const d = typeof date === 'string' ? new Date(date) : date;
  
  return new Intl.DateTimeFormat(locale, {
    dateStyle: 'medium',
    timeStyle: 'short',
  }).format(d);
}

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥
formatDate(new Date(), 'en');    // "Jan 15, 2024"
formatDate(new Date(), 'ru');    // "15 —è–Ω–≤. 2024 –≥."
formatDate(new Date(), 'de');    // "15.01.2024"
```

### ’Ä’°÷Ä’°’¢’•÷Ä’°’Ø’°’∂ ’™’°’¥’°’∂’°’Ø

```typescript
export function formatRelativeTime(
  date: Date | string,
  locale: string,
): string {
  const d = typeof date === 'string' ? new Date(date) : date;
  const now = new Date();
  const diffInSeconds = Math.floor((now.getTime() - d.getTime()) / 1000);
  
  const rtf = new Intl.RelativeTimeFormat(locale, { numeric: 'auto' });
  
  if (diffInSeconds < 60) {
    return rtf.format(-diffInSeconds, 'second');
  }
  if (diffInSeconds < 3600) {
    return rtf.format(-Math.floor(diffInSeconds / 60), 'minute');
  }
  if (diffInSeconds < 86400) {
    return rtf.format(-Math.floor(diffInSeconds / 3600), 'hour');
  }
  return rtf.format(-Math.floor(diffInSeconds / 86400), 'day');
}

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥
formatRelativeTime(fiveMinutesAgo, 'en');    // "5 minutes ago"
formatRelativeTime(fiveMinutesAgo, 'ru');    // "5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥"
```

---

## üìù PLURALIZATION

### ’Ä’∏’£’∂’°’Ø’´ ’©’æ’´ ’Ø’°’∂’∏’∂’∂’•÷Ä

```json
// locales/en/products.json
{
  "itemCount": {
    "zero": "No items",
    "one": "1 item",
    "other": "{count} items"
  }
}

// locales/ru/products.json
{
  "itemCount": {
    "zero": "–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤",
    "one": "{count} —Ç–æ–≤–∞—Ä",
    "few": "{count} —Ç–æ–≤–∞—Ä–∞",
    "many": "{count} —Ç–æ–≤–∞—Ä–æ–≤",
    "other": "{count} —Ç–æ–≤–∞—Ä–æ–≤"
  }
}
```

### ‘ª÷Ä’°’Ø’°’∂’°÷Å’∏÷Ç’¥

```typescript
// lib/i18n/pluralize.ts

export function pluralize(
  count: number,
  forms: Record<string, string>,
  locale: string,
): string {
  const pluralRules = new Intl.PluralRules(locale);
  const form = pluralRules.select(count);
  
  const template = forms[form] || forms.other;
  return template.replace('{count}', count.toString());
}

// ’ï’£’ø’°’£’∏÷Ä’Æ’∏÷Ç’¥
pluralize(0, dict.itemCount, 'en');   // "No items"
pluralize(1, dict.itemCount, 'en');   // "1 item"
pluralize(5, dict.itemCount, 'en');   // "5 items"

pluralize(1, dict.itemCount, 'ru');   // "1 —Ç–æ–≤–∞—Ä"
pluralize(2, dict.itemCount, 'ru');   // "2 —Ç–æ–≤–∞—Ä–∞"
pluralize(5, dict.itemCount, 'ru');   // "5 —Ç–æ–≤–∞—Ä–æ–≤"
pluralize(21, dict.itemCount, 'ru');  // "21 —Ç–æ–≤–∞—Ä"
```

---

## üîÑ ‘º‘µ‘∂’é‘ª ’ì’à‘Ω‘±’ê‘ø’à’í’Ñ

### Language Switcher

```tsx
// components/LanguageSwitcher.tsx
'use client';

import { usePathname, useRouter } from 'next/navigation';

const LOCALES = [
  { code: 'en', name: 'English', flag: 'üá∫üá∏' },
  { code: 'ru', name: '–†—É—Å—Å–∫–∏–π', flag: 'üá∑üá∫' },
  { code: 'hy', name: '’Ä’°’µ’•÷Ä’•’∂', flag: 'üá¶üá≤' },
];

export function LanguageSwitcher({ currentLocale }: { currentLocale: string }) {
  const router = useRouter();
  const pathname = usePathname();

  const switchLocale = (newLocale: string) => {
    // ’ì’∏’≠’°÷Ä’´’∂’∏÷Ç’¥ ’•’∂÷Ñ ’®’∂’©’°÷Å’´’Ø ’¨’∏’Ø’°’¨’® path-’∏÷Ç’¥
    const newPath = pathname.replace(`/${currentLocale}`, `/${newLocale}`);
    router.push(newPath);
  };

  return (
    <select
      value={currentLocale}
      onChange={(e) => switchLocale(e.target.value)}
      className="border rounded p-2"
    >
      {LOCALES.map((locale) => (
        <option key={locale.code} value={locale.code}>
          {locale.flag} {locale.name}
        </option>
      ))}
    </select>
  );
}
```

---

## üö´ ‘±’Ü’è‘ª’ä‘±’è‘µ’ê’Ü‘µ’ê

### ‚ùå ’Ñ’´ ’°÷Ä’°

```tsx
// ‚ùå ’è’•÷Ñ’Ω’ø’•÷Ä’´ hardcode
<button>Submit</button>
<p>Your order has been placed</p>

// ‚ùå ’è’∏’≤’•÷Ä’´ ’Ø’∏’∂’Ø’°’ø’•’∂’°÷Å’´’° (’≠’°’≠’ø’∏÷Ç’¥ ’ß ’¢’°’º’•÷Ä’´ ’Ø’°÷Ä’£’®)
const message = `Hello, ` + userName + `! You have ` + count + ` items.`;

// ‚ùå ’ñ’∏÷Ä’¥’°’ø’∂’•÷Ä’´ hardcode
const date = `${d.getMonth()}/${d.getDate()}/${d.getFullYear()}`; // US ÷Ü’∏÷Ä’¥’°’ø
const price = `$${amount.toFixed(2)}`; // ‘¥’∏’¨’°÷Ä’∂’•÷Ä’® hardcoded

// ‚ùå ‘π’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∫’°’∞’∏÷Ç’¥ ’Ø’∏’§’∏÷Ç’¥
const translations = {
  en: { hello: 'Hello' },
  ru: { hello: '–ü—Ä–∏–≤–µ—Ç' },
};
```

### ‚úÖ ‘±÷Ä’°

```tsx
// ‚úÖ ‘≤’∏’¨’∏÷Ä ’ø’•÷Ñ’Ω’ø’•÷Ä’® ’©’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´÷Å
<button>{t('buttons.submit')}</button>
<p>{t('orders.success')}</p>

// ‚úÖ ‘ª’∂’ø’•÷Ä’∫’∏’¨’°÷Å’´’°
// JSON-’∏÷Ç’¥. "greeting": "Hello, {name}! You have {count} items."
t('greeting', { name: userName, count: itemCount })

// ‚úÖ Intl API ÷Ü’∏÷Ä’¥’°’ø’°’æ’∏÷Ä’¥’°’∂ ’∞’°’¥’°÷Ä
formatDate(date, locale)
formatCurrency(amount, currency, locale)

// ‚úÖ ‘π’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ’°’º’°’∂’±’´’∂ JSON ÷Ü’°’µ’¨’•÷Ä’∏÷Ç’¥
// locales/en/common.json
// locales/ru/common.json
```

---

## üìã ’ç’è’à’í‘≥‘±’ë’à’í’ë‘±‘ø

### ’Ü’°’≠’°’£’Æ’´ ’Ω’Ø’´’¶’¢

- [ ] ‘±’ª’°’Ø÷Å’æ’∏’≤ ’¨’•’¶’∏÷Ç’∂’•÷Ä’® ’∏÷Ä’∏’∑’æ’°’Æ ’•’∂
- [ ] ‘∏’∂’ø÷Ä’æ’°’Æ ’ß ’£÷Ä’°’§’°÷Ä’°’∂ (next-intl, react-intl ÷á ’°’µ’¨’∂)
- [ ] ‘ø’°÷Ä’£’°’æ’∏÷Ä’æ’°’Æ ’ß ’©’≤’©’°’∫’°’∂’°’Ø’∂’•÷Ä’´ ’Ø’°’º’∏÷Ç÷Å’æ’°’Æ÷Ñ ’©’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’∞’°’¥’°÷Ä
- [ ] ‘ø’°÷Ä’£’°’æ’∏÷Ä’æ’°’Æ ’ß fallback default locale-’´ ’æ÷Ä’°

### ’Ñ’∑’°’Ø’∏÷Ç’¥

- [ ] ‘≤’∏’¨’∏÷Ä ’ø’•÷Ñ’Ω’ø’•÷Ä’® ’©’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ÷Ü’°’µ’¨’•÷Ä’∏÷Ç’¥ ’•’∂
- [ ] ‘ø’∏’¥’∫’∏’∂’•’∂’ø’∂’•÷Ä’∏÷Ç’¥ ’ø’•÷Ñ’Ω’ø’•÷Ä’´ hardcode ’π’Ø’°
- [ ] ’ï’£’ø’°’£’∏÷Ä’Æ’æ’∏÷Ç’¥ ’ß Intl API ÷Ü’∏÷Ä’¥’°’ø’°’æ’∏÷Ä’¥’°’∂ ’∞’°’¥’°÷Ä
- [ ] Pluralization ’≥’´’∑’ø ’ß ’Ø’°÷Ä’£’°’æ’∏÷Ä’æ’°’Æ
- [ ] Language switcher ’°’∑’≠’°’ø’∏÷Ç’¥ ’ß

### ’å’•’¨’´’¶’´÷Å ’°’º’°’ª

- [ ] ‘≤’∏’¨’∏÷Ä ’ø’∏’≤’•÷Ä’® ’©’°÷Ä’£’¥’°’∂’æ’°’Æ ’•’∂ ’¢’∏’¨’∏÷Ä ’¨’•’¶’∏÷Ç’∂’•÷Ä’∏’æ
- [ ] ‘π’•’Ω’ø’°’æ’∏÷Ä’∏÷Ç’¥ ’¢’∏’¨’∏÷Ä ’¨’•’¶’∏÷Ç’∂’•÷Ä’∏’æ
- [ ] ‘±’¥’Ω’°’©’æ’•÷Ä/’©’æ’•÷Ä/’°÷Ä’™’∏÷Ç’µ’©’∂’•÷Ä ÷Å’∏÷Ç÷Å’°’§÷Ä’æ’∏÷Ç’¥ ’•’∂ ’≥’´’∑’ø
- [ ] ’Ñ’°’Ø’•’ø’® ’π’´ ’ª’°÷Ä’§’æ’∏÷Ç’¥ ’•÷Ä’Ø’°÷Ä ’©’°÷Ä’£’¥’°’∂’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´÷Å
- [ ] SEO. hreflang ’©’•’£’•÷Ä ’°’æ’•’¨’°÷Å’æ’°’Æ ’•’∂

---

**’è’°÷Ä’¢’•÷Ä’°’Ø.** 1.1
**‘±’¥’Ω’°’©’´’æ.** 2026-02-12
